{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/BeadsLine/components/GameOverScreen.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport type { GameState, User } from '@shared/schema';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { playWinSound, playGameOverSound } from '@/lib/sounds';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\nimport { Trophy, RefreshCw, Crown, Target, Zap, Clock, Wallet, Heart, Loader2, Coins } from 'lucide-react';\r\nimport { SiBitcoin, SiEthereum, SiTether } from 'react-icons/si';\r\nimport { motion } from 'framer-motion';\r\nimport { getEconomyConfig } from '@/lib/gameEngine';\r\nimport { apiRequest, queryClient } from '@/lib/queryClient';\r\n\r\ninterface GameOverScreenProps {\r\n  gameState: GameState;\r\n  onPlayAgain: () => void;\r\n  onViewLeaderboard: () => void;\r\n  onMainMenu: () => void;\r\n  onContinue?: () => void;\r\n  user: User | null;\r\n  lifeCost?: number;\r\n  maxExtraLives?: number;\r\n  isBuyingLife?: boolean;\r\n  levelName?: string;\r\n}\r\n\r\nexport function GameOverScreen({\r\n  gameState,\r\n  onPlayAgain,\r\n  onViewLeaderboard,\r\n  onMainMenu,\r\n  onContinue,\r\n  user,\r\n  lifeCost = 50,\r\n  maxExtraLives = 5,\r\n  isBuyingLife = false,\r\n  levelName = '',\r\n}: GameOverScreenProps) {\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [hasAutoShown, setHasAutoShown] = useState(false);\r\n  const [showVictoryDialog, setShowVictoryDialog] = useState(false);\r\n  const { score, won, maxCombo, cryptoCollected, shotsTotal, shotsHit, timeLeft, extraLivesBought } = gameState;\r\n  const accuracy = shotsTotal > 0 ? Math.round((shotsHit / shotsTotal) * 100) : 0;\r\n  \r\n  const economy = getEconomyConfig();\r\n  const SATS_PER_BTC = 100_000_000;\r\n  const WEI_PER_ETH = 1_000_000_000_000_000_000; // 10^18\r\n  \r\n  const earnedBtcSats = Math.round(cryptoCollected.btc * economy.cryptoRewards.btcPerBall * SATS_PER_BTC);\r\n  const earnedEthWei = Math.round(cryptoCollected.eth * economy.cryptoRewards.ethPerBall * WEI_PER_ETH);\r\n  const earnedUsdt = cryptoCollected.usdt * economy.cryptoRewards.usdtPerBall;\r\n  \r\n  const previousBtcSats = Math.max(0, (user?.btcBalanceSats || 0) - earnedBtcSats);\r\n  const previousEthWei = Math.max(0, (user?.ethBalanceWei || 0) - earnedEthWei);\r\n  const previousUsdt = Math.max(0, (user?.usdtBalance || 0) - earnedUsdt);\r\n  \r\n  const previousBeads = won ? Math.max(0, (user?.totalPoints || 0) - score) : (user?.totalPoints || 0);\r\n  const currentBeads = user?.totalPoints || 0;\r\n  \r\n  const canContinue = !won && \r\n    onContinue && \r\n    extraLivesBought < maxExtraLives && \r\n    (user?.totalPoints || 0) >= lifeCost;\r\n\r\n  const hasUpdatedCharacter = useRef(false);\r\n\r\n  // Update character energy and mood after game\r\n  useEffect(() => {\r\n    if (hasUpdatedCharacter.current) return;\r\n    hasUpdatedCharacter.current = true;\r\n    \r\n    const updateCharacter = async () => {\r\n      try {\r\n        await apiRequest('POST', '/api/character/activity', { won, score });\r\n        queryClient.invalidateQueries({ queryKey: ['/api/character/status'] });\r\n      } catch (error) {\r\n        console.error('Failed to update character activity:', error);\r\n      }\r\n    };\r\n    \r\n    updateCharacter();\r\n  }, [won, score]);\r\n\r\n  useEffect(() => {\r\n    if (!won && canContinue && !hasAutoShown) {\r\n      setShowConfirmDialog(true);\r\n      setHasAutoShown(true);\r\n    }\r\n  }, [won, canContinue, hasAutoShown]);\r\n\r\n  useEffect(() => {\r\n    if (won) {\r\n      setShowVictoryDialog(true);\r\n      playWinSound();\r\n    } else {\r\n      playGameOverSound();\r\n    }\r\n  }, [won]);\r\n\r\n  const handleContinueClick = () => {\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirmContinue = async () => {\r\n    if (onContinue) {\r\n      await onContinue();\r\n    }\r\n    setShowConfirmDialog(false);\r\n  };\r\n  \r\n  const formatDuration = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return mins > 0 ? `${mins}:${secs.toString().padStart(2, '0')}` : `${secs}s`;\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/90 backdrop-blur-sm\"\r\n    >\r\n      {!showVictoryDialog && !showConfirmDialog && !isBuyingLife && (\r\n        <motion.div\r\n          initial={{ scale: 0.9, y: 20 }}\r\n          animate={{ scale: 1, y: 0 }}\r\n          transition={{ type: 'spring', duration: 0.5 }}\r\n        >\r\n          <Card className=\"w-full max-w-sm p-8 text-center bg-card border-border\">\r\n          <motion.div\r\n            initial={{ scale: 0 }}\r\n            animate={{ scale: 1 }}\r\n            transition={{ delay: 0.2, type: 'spring' }}\r\n            className=\"mb-6\"\r\n          >\r\n            {won ? (\r\n              <div className=\"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center\">\r\n                <Crown className=\"w-10 h-10 text-white\" />\r\n              </div>\r\n            ) : (\r\n              <div className=\"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-primary/50 to-primary flex items-center justify-center\">\r\n                <Trophy className=\"w-10 h-10 text-white\" />\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n\r\n          <motion.h2\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.3 }}\r\n            className=\"font-display text-3xl font-bold mb-2\"\r\n            data-testid=\"text-game-result\"\r\n          >\r\n            {won ? '–ü–æ–±–µ–¥–∞!' : '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞'}\r\n          </motion.h2>\r\n\r\n          {levelName && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.32 }}\r\n              className=\"text-sm text-primary font-medium mb-1\"\r\n            >\r\n              –£—Ä–æ–≤–µ–Ω—å: {levelName}\r\n            </motion.div>\r\n          )}\r\n\r\n          <motion.p\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.35 }}\r\n            className=\"text-muted-foreground mb-4\"\r\n          >\r\n            {won ? '–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!' : '–ü–æ–≤–µ–∑—ë—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑!'}\r\n          </motion.p>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.8 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ delay: 0.4 }}\r\n            className=\"mb-6\"\r\n          >\r\n            <div className=\"font-display text-5xl font-bold text-primary tabular-nums mb-2\" data-testid=\"text-final-score\">\r\n              {score.toLocaleString()}\r\n            </div>\r\n            {won ? (\r\n              <div className=\"text-sm text-green-500 font-medium\">\r\n                +{score.toLocaleString()} Beads –Ω–∞—á–∏—Å–ª–µ–Ω–æ!\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                Beads –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–±–µ–¥–µ\r\n              </div>\r\n            )}\r\n            {won && (\r\n              <div className=\"text-xs text-muted-foreground mt-1\">\r\n                –ë–∞–ª–∞–Ω—Å: {previousBeads.toLocaleString()} ‚Üí {currentBeads.toLocaleString()}\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            transition={{ delay: 0.5 }}\r\n            className=\"grid grid-cols-3 gap-3 mb-6\"\r\n          >\r\n            <StatCard icon={<Clock className=\"w-4 h-4\" />} label=\"–í—Ä–µ–º—è\" value={formatDuration(timeLeft)} />\r\n            <StatCard icon={<Zap className=\"w-4 h-4\" />} label=\"–ö–æ–º–±–æ\" value={`x${maxCombo}`} />\r\n            <StatCard icon={<Target className=\"w-4 h-4\" />} label=\"–¢–æ—á–Ω–æ—Å—Ç—å\" value={`${accuracy}%`} />\r\n          </motion.div>\r\n\r\n          {(earnedBtcSats > 0 || earnedEthWei > 0 || earnedUsdt > 0) && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.52 }}\r\n              className=\"mb-6\"\r\n            >\r\n              <div className=\"text-sm text-muted-foreground mb-2\">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∫—Ä–∏–ø—Ç—ã:</div>\r\n              <div className=\"flex items-center justify-center gap-4 p-3 rounded-lg bg-muted/50\" data-testid=\"crypto-collected-stats\">\r\n                {earnedBtcSats > 0 && <CryptoEarned type=\"btc\" amount={earnedBtcSats} />}\r\n                {earnedEthWei > 0 && <CryptoEarned type=\"eth\" amount={earnedEthWei} />}\r\n                {earnedUsdt > 0 && <CryptoEarned type=\"usdt\" amount={earnedUsdt} />}\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          {user && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.55 }}\r\n              className=\"mb-6\"\r\n            >\r\n              <div className=\"flex items-center justify-center gap-2 mb-2 text-muted-foreground\">\r\n                <Wallet className=\"w-4 h-4\" />\r\n                <span className=\"text-sm\">–í–∞—à –±–∞–ª–∞–Ω—Å</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-center gap-4 p-3 rounded-lg bg-primary/10 border border-primary/20\">\r\n                <CryptoBalance type=\"btc\" amount={user.btcBalanceSats || 0} previousAmount={earnedBtcSats > 0 ? previousBtcSats : undefined} />\r\n                <CryptoBalance type=\"eth\" amount={user.ethBalanceWei || 0} previousAmount={earnedEthWei > 0 ? previousEthWei : undefined} />\r\n                <CryptoBalance type=\"usdt\" amount={user.usdtBalance || 0} previousAmount={earnedUsdt > 0 ? previousUsdt : undefined} />\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.6 }}\r\n            className=\"flex flex-col gap-3\"\r\n          >\r\n            {!won && onContinue && (\r\n              <Button\r\n                size=\"lg\"\r\n                className=\"w-full font-display text-lg bg-green-600 hover:bg-green-700\"\r\n                onClick={handleContinueClick}\r\n                disabled={!canContinue || isBuyingLife}\r\n                data-testid=\"button-continue-game\"\r\n              >\r\n                {isBuyingLife ? (\r\n                  <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                ) : (\r\n                  <Heart className=\"w-5 h-5 mr-2\" />\r\n                )}\r\n                –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∑–∞ {lifeCost} Beads\r\n              </Button>\r\n            )}\r\n            {!won && onContinue && extraLivesBought >= maxExtraLives && (\r\n              <div className=\"text-xs text-muted-foreground\">\r\n                –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–∫—É–ø–æ–∫ ({maxExtraLives})\r\n              </div>\r\n            )}\r\n            {!won && onContinue && (user?.totalPoints || 0) < lifeCost && extraLivesBought < maxExtraLives && (\r\n              <div className=\"text-xs text-muted-foreground\">\r\n                –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Beads (–Ω—É–∂–Ω–æ {lifeCost})\r\n              </div>\r\n            )}\r\n            <Button\r\n              size=\"lg\"\r\n              className=\"w-full font-display text-lg\"\r\n              onClick={onPlayAgain}\r\n              data-testid=\"button-play-again\"\r\n            >\r\n              <RefreshCw className=\"w-5 h-5 mr-2\" />\r\n              –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞\r\n            </Button>\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"lg\"\r\n              className=\"w-full font-display\"\r\n              onClick={onViewLeaderboard}\r\n              data-testid=\"button-view-leaderboard\"\r\n            >\r\n              <Trophy className=\"w-5 h-5 mr-2\" />\r\n              –†–µ–π—Ç–∏–Ω–≥\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              onClick={onMainMenu}\r\n              data-testid=\"button-main-menu\"\r\n            >\r\n              –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\r\n            </Button>\r\n          </motion.div>\r\n        </Card>\r\n        </motion.div>\r\n      )}\r\n\r\n      <AlertDialog open={showConfirmDialog} onOpenChange={(open) => {\r\n        setShowConfirmDialog(open);\r\n      }}>\r\n        <AlertDialogContent className=\"max-w-md p-6 border-2 border-amber-500/50\">\r\n          <AlertDialogHeader className=\"space-y-4\">\r\n            <AlertDialogTitle className=\"flex flex-col items-center justify-center gap-2 text-2xl text-amber-400\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Target className=\"w-8 h-8\" />\r\n                –í–´ –ü–û–ß–¢–ò –£ –¶–ï–õ–ò!\r\n              </div>\r\n              {levelName && (\r\n                <span className=\"text-base text-muted-foreground font-normal\">\r\n                  –£—Ä–æ–≤–µ–Ω—å: {levelName}\r\n                </span>\r\n              )}\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription asChild>\r\n              <div className=\"text-center space-y-4\">\r\n                {/* Score earned this game */}\r\n                <div className=\"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/30\">\r\n                  <div className=\"flex items-center justify-center gap-2 mb-1 text-muted-foreground\">\r\n                    <Coins className=\"w-4 h-4\" />\r\n                    <span className=\"text-sm font-medium\">–ù–∞–±—Ä–∞–Ω–æ –∑–∞ –∏–≥—Ä—É:</span>\r\n                  </div>\r\n                  <div className=\"font-display text-3xl font-bold text-primary tabular-nums\">\r\n                    {score.toLocaleString()} Beads\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Animated progress bar */}\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"w-full h-5 bg-muted rounded-full overflow-hidden relative\">\r\n                    <motion.div \r\n                      className=\"h-full bg-gradient-to-r from-amber-500 via-amber-400 to-amber-500 bg-[length:200%_100%]\"\r\n                      initial={{ width: 0 }}\r\n                      animate={{ \r\n                        width: `${Math.min(95, Math.max(50, 100 - (gameState.balls?.length || 10) * 1.5))}%`,\r\n                        backgroundPosition: ['0% 0%', '100% 0%']\r\n                      }}\r\n                      transition={{ \r\n                        width: { duration: 0.8, ease: 'easeOut' },\r\n                        backgroundPosition: { duration: 2, repeat: Infinity, ease: 'linear' }\r\n                      }}\r\n                    />\r\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                      <span className=\"text-sm font-bold text-white drop-shadow-md\">\r\n                        {Math.min(95, Math.max(50, 100 - (gameState.balls?.length || 10) * 1.5))}% –ø—Ä–æ–π–¥–µ–Ω–æ\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  {gameState.balls?.length > 0 && (\r\n                    <div className=\"text-sm text-muted-foreground\">\r\n                      –û—Å—Ç–∞–ª–æ—Å—å: <span className=\"font-bold text-amber-400\">{gameState.balls.length} —à–∞—Ä–∏–∫–æ–≤</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Crypto earned this game */}\r\n                {(earnedBtcSats > 0 || earnedEthWei > 0 || earnedUsdt > 0) && (\r\n                  <div className=\"p-4 rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-600/50\">\r\n                    <div className=\"flex items-center justify-center gap-2 mb-3 text-muted-foreground\">\r\n                      <Wallet className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm font-medium\">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∫—Ä–∏–ø—Ç—ã:</span>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      {earnedBtcSats > 0 && (\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <SiBitcoin className=\"w-5 h-5 text-orange-500\" />\r\n                            <span className=\"text-orange-400 font-bold\">Bitcoin:</span>\r\n                          </div>\r\n                          <span className=\"font-mono text-foreground font-semibold\">+{(earnedBtcSats / 100000000).toFixed(8)} BTC</span>\r\n                        </div>\r\n                      )}\r\n                      {earnedEthWei > 0 && (\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <SiEthereum className=\"w-5 h-5 text-purple-400\" />\r\n                            <span className=\"text-purple-400 font-bold\">Ethereum:</span>\r\n                          </div>\r\n                          <span className=\"font-mono text-foreground font-semibold\">+{(earnedEthWei / 1000000000000000000).toFixed(9)} ETH</span>\r\n                        </div>\r\n                      )}\r\n                      {earnedUsdt > 0 && (\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <SiTether className=\"w-5 h-5 text-green-500\" />\r\n                            <span className=\"text-green-400 font-bold\">USDT:</span>\r\n                          </div>\r\n                          <span className=\"font-mono text-foreground font-semibold\">+${earnedUsdt.toFixed(4)}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Warning - static */}\r\n                <div className=\"flex items-center justify-center gap-3 p-3 rounded-xl bg-red-500/20 border border-red-500/50\">\r\n                  <span className=\"text-3xl\">‚ö†Ô∏è</span>\r\n                  <span className=\"text-xl font-bold text-red-400\">–ü–û–¢–ï–†–Ø–ï–¢–ï –í–°–Å –ë–ï–ó –ñ–ò–ó–ù–ò!</span>\r\n                </div>\r\n\r\n                {/* Life cost */}\r\n                <div className=\"text-lg\">\r\n                  <span className=\"text-muted-foreground\">üí∏ –°—Ç–æ–∏–º–æ—Å—Ç—å –∂–∏–∑–Ω–∏: </span>\r\n                  <span className=\"font-bold text-amber-400\">{lifeCost} Beads</span>\r\n                </div>\r\n              </div>\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter className=\"flex-col gap-3 mt-6 sm:flex-col\">\r\n            <motion.div\r\n              animate={{ \r\n                opacity: [1, 0.7, 1],\r\n                scale: [1, 1.03, 1]\r\n              }}\r\n              transition={{ \r\n                duration: 1.2, \r\n                repeat: Infinity, \r\n                ease: 'easeInOut' \r\n              }}\r\n              className=\"w-full\"\r\n            >\r\n              <Button\r\n                className=\"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-black font-bold h-14 text-lg rounded-xl shadow-lg shadow-amber-500/30 border-2 border-amber-400\"\r\n                onClick={handleConfirmContinue}\r\n                disabled={isBuyingLife}\r\n                data-testid=\"button-confirm-continue\"\r\n              >\r\n                {isBuyingLife ? (\r\n                  <Loader2 className=\"w-6 h-6 mr-2 animate-spin\" />\r\n                ) : (\r\n                  <Zap className=\"w-6 h-6 mr-2\" />\r\n                )}\r\n                –ö–£–ü–ò–¢–¨ –ñ–ò–ó–ù–¨ ({lifeCost} BEADS)\r\n              </Button>\r\n            </motion.div>\r\n            <AlertDialogCancel \r\n              className=\"w-full mt-0 h-12 text-base bg-transparent border-red-500/50 text-red-400 hover:bg-red-500/10 hover:text-red-300\"\r\n              onClick={onMainMenu}\r\n              data-testid=\"button-cancel-continue\"\r\n            >\r\n              ‚ùå –£–π—Ç–∏ –±–µ–∑ –∫—Ä–∏–ø—Ç—ã\r\n            </AlertDialogCancel>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Victory Dialog with Confetti */}\r\n      <AlertDialog open={showVictoryDialog} onOpenChange={setShowVictoryDialog}>\r\n        <AlertDialogContent className=\"max-w-md p-6 border-2 border-amber-500/50 overflow-hidden\">\r\n          {/* Confetti Animation */}\r\n          <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\r\n            {[...Array(20)].map((_, i) => (\r\n              <motion.div\r\n                key={i}\r\n                className=\"absolute w-3 h-3 rounded-sm\"\r\n                style={{\r\n                  left: `${Math.random() * 100}%`,\r\n                  backgroundColor: ['#f59e0b', '#ef4444', '#22c55e', '#3b82f6', '#a855f7', '#ec4899'][i % 6],\r\n                }}\r\n                initial={{ top: -20, rotate: 0, opacity: 1 }}\r\n                animate={{ \r\n                  top: '120%',\r\n                  rotate: 360 * (Math.random() > 0.5 ? 1 : -1),\r\n                  opacity: [1, 1, 0]\r\n                }}\r\n                transition={{ \r\n                  duration: 2 + Math.random() * 2,\r\n                  delay: Math.random() * 0.5,\r\n                  repeat: Infinity,\r\n                  ease: 'linear'\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <AlertDialogHeader className=\"space-y-4 relative z-10\">\r\n            <motion.div\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1, rotate: [0, -10, 10, 0] }}\r\n              transition={{ delay: 0.2, type: 'spring', stiffness: 200 }}\r\n              className=\"mx-auto\"\r\n            >\r\n              <div className=\"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-amber-400 via-yellow-500 to-amber-600 flex items-center justify-center shadow-lg shadow-amber-500/50\">\r\n                <Crown className=\"w-12 h-12 text-white\" />\r\n              </div>\r\n            </motion.div>\r\n\r\n            <AlertDialogTitle className=\"flex flex-col items-center justify-center gap-1\">\r\n              <div className=\"flex items-center gap-2 text-3xl text-amber-400\">\r\n                <Zap className=\"w-8 h-8 text-amber-400\" />\r\n                –ü–û–ë–ï–î–ê!\r\n                <Zap className=\"w-8 h-8 text-amber-400\" />\r\n              </div>\r\n              {levelName && (\r\n                <span className=\"text-sm text-primary font-medium\">–£—Ä–æ–≤–µ–Ω—å: {levelName}</span>\r\n              )}\r\n            </AlertDialogTitle>\r\n\r\n            <AlertDialogDescription asChild>\r\n              <div className=\"text-center space-y-4\">\r\n                {/* Score earned */}\r\n                <motion.div \r\n                  className=\"p-4 rounded-xl bg-gradient-to-br from-green-500/20 to-green-600/10 border border-green-500/30\"\r\n                  initial={{ scale: 0.8, opacity: 0 }}\r\n                  animate={{ scale: 1, opacity: 1 }}\r\n                  transition={{ delay: 0.3 }}\r\n                >\r\n                  <div className=\"flex items-center justify-center gap-2 mb-2 text-muted-foreground\">\r\n                    <Coins className=\"w-5 h-5\" />\r\n                    <span className=\"text-base font-medium\">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ:</span>\r\n                  </div>\r\n                  <div className=\"font-display text-4xl font-bold text-green-400 tabular-nums\">\r\n                    +{score.toLocaleString()} Beads\r\n                  </div>\r\n                </motion.div>\r\n\r\n                {/* Stats */}\r\n                <div className=\"grid grid-cols-3 gap-2\">\r\n                  <div className=\"p-2 rounded-lg bg-muted/50 text-center\">\r\n                    <Clock className=\"w-4 h-4 mx-auto mb-1 text-muted-foreground\" />\r\n                    <div className=\"text-sm font-bold\">{formatDuration(timeLeft)}</div>\r\n                  </div>\r\n                  <div className=\"p-2 rounded-lg bg-muted/50 text-center\">\r\n                    <Zap className=\"w-4 h-4 mx-auto mb-1 text-amber-400\" />\r\n                    <div className=\"text-sm font-bold\">x{maxCombo}</div>\r\n                  </div>\r\n                  <div className=\"p-2 rounded-lg bg-muted/50 text-center\">\r\n                    <Target className=\"w-4 h-4 mx-auto mb-1 text-muted-foreground\" />\r\n                    <div className=\"text-sm font-bold\">{accuracy}%</div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Crypto earned this game */}\r\n                {(earnedBtcSats > 0 || earnedEthWei > 0 || earnedUsdt > 0) && (\r\n                  <div className=\"p-4 rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-slate-600/50\">\r\n                    <div className=\"flex items-center justify-center gap-2 mb-3 text-muted-foreground\">\r\n                      <Wallet className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm font-medium\">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –∫—Ä–∏–ø—Ç—ã:</span>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      {earnedBtcSats > 0 && (\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <SiBitcoin className=\"w-5 h-5 text-orange-500\" />\r\n                            <span className=\"text-orange-400 font-bold\">Bitcoin:</span>\r\n                          </div>\r\n                          <span className=\"font-mono text-foreground font-semibold\">+{(earnedBtcSats / 100000000).toFixed(8)} BTC</span>\r\n                        </div>\r\n                      )}\r\n                      {earnedEthWei > 0 && (\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <SiEthereum className=\"w-5 h-5 text-purple-400\" />\r\n                            <span className=\"text-purple-400 font-bold\">Ethereum:</span>\r\n                          </div>\r\n                          <span className=\"font-mono text-foreground font-semibold\">+{(earnedEthWei / 1000000000000000000).toFixed(9)} ETH</span>\r\n                        </div>\r\n                      )}\r\n                      {earnedUsdt > 0 && (\r\n                        <div className=\"flex items-center justify-between px-2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <SiTether className=\"w-5 h-5 text-green-500\" />\r\n                            <span className=\"text-green-400 font-bold\">USDT:</span>\r\n                          </div>\r\n                          <span className=\"font-mono text-foreground font-semibold\">+${earnedUsdt.toFixed(4)}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n\r\n          <AlertDialogFooter className=\"flex-col gap-3 mt-6 sm:flex-col relative z-10\">\r\n            <AlertDialogAction\r\n              className=\"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-black font-bold h-14 text-lg rounded-xl shadow-lg shadow-amber-500/30 border-2 border-amber-400\"\r\n              onClick={onPlayAgain}\r\n              data-testid=\"button-victory-play-again\"\r\n            >\r\n              <RefreshCw className=\"w-6 h-6 mr-2\" />\r\n              –ò–ì–†–ê–¢–¨ –°–ù–û–í–ê\r\n            </AlertDialogAction>\r\n            <AlertDialogCancel \r\n              className=\"w-full mt-0 h-12 text-base\"\r\n              onClick={onMainMenu}\r\n              data-testid=\"button-victory-main-menu\"\r\n            >\r\n              –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\r\n            </AlertDialogCancel>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\ninterface StatCardProps {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\nfunction StatCard({ icon, label, value }: StatCardProps) {\r\n  return (\r\n    <div className=\"p-4 rounded-lg bg-muted/50\">\r\n      <div className=\"flex items-center justify-center gap-1.5 text-muted-foreground mb-1\">\r\n        {icon}\r\n        <span className=\"text-xs uppercase tracking-wide\">{label}</span>\r\n      </div>\r\n      <div className=\"font-display text-xl font-bold tabular-nums\">{value}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface CryptoEarnedProps {\r\n  type: 'btc' | 'eth' | 'usdt';\r\n  amount: number;\r\n}\r\n\r\nfunction CryptoEarned({ type, amount }: CryptoEarnedProps) {\r\n  const config = {\r\n    btc: { icon: <SiBitcoin className=\"w-5 h-5 text-orange-500\" /> },\r\n    eth: { icon: <SiEthereum className=\"w-5 h-5 text-purple-400\" /> },\r\n    usdt: { icon: <SiTether className=\"w-5 h-5 text-green-500\" /> },\r\n  };\r\n\r\n  const { icon } = config[type];\r\n  const formatted = type === 'usdt' \r\n    ? `$${amount.toFixed(4)}` \r\n    : type === 'eth' \r\n      ? `${(amount / 1000000000000000000).toFixed(9)} ETH` \r\n      : `${(amount / 100000000).toFixed(8)} BTC`;\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1.5\">\r\n      {icon}\r\n      <span className=\"font-semibold tabular-nums text-sm\">{formatted}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface CryptoBalanceProps {\r\n  type: 'btc' | 'eth' | 'usdt';\r\n  amount: number;\r\n  previousAmount?: number;\r\n}\r\n\r\nfunction CryptoBalance({ type, amount, previousAmount }: CryptoBalanceProps) {\r\n  const icons = {\r\n    btc: <SiBitcoin className=\"w-4 h-4 text-orange-500\" />,\r\n    eth: <SiEthereum className=\"w-4 h-4 text-purple-400\" />,\r\n    usdt: <SiTether className=\"w-4 h-4 text-green-500\" />,\r\n  };\r\n\r\n  const formatAmount = (val: number) => {\r\n    if (type === 'btc') {\r\n      return `${(Number(val) / 100000000).toFixed(8)}`;\r\n    } else if (type === 'eth') {\r\n      return `${(Number(val) / 1000000000000000000).toFixed(9)}`;\r\n    } else {\r\n      return `$${Number(val).toFixed(4)}`;\r\n    }\r\n  };\r\n\r\n  const suffix = type === 'btc' ? ' BTC' : type === 'eth' ? ' ETH' : '';\r\n  const hasTransition = previousAmount !== undefined && previousAmount !== amount;\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center gap-0.5\" data-testid={`balance-${type}`}>\r\n      <div className=\"flex items-center gap-1\">\r\n        {icons[type]}\r\n        <span className=\"text-sm font-medium tabular-nums\">{formatAmount(amount)}{suffix}</span>\r\n      </div>\r\n      {hasTransition && (\r\n        <span className=\"text-xs text-muted-foreground tabular-nums\">\r\n          {formatAmount(previousAmount)} ‚Üí {formatAmount(amount)}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}