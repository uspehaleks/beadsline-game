{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///D:/BeadsLine/components/MainMenu.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport type { User, CharacterWithAccessories } from '@shared/schema';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Play, Trophy, Settings, Users, Gift, Copy, Check, X, Bitcoin, Award, ChevronRight, Medal, Target, Gamepad2, QrCode, Download, UserPlus, Volume2, VolumeX, Zap, ArrowDownToLine, Smile, Meh, Frown, ThermometerSun, Heart, Utensils, Droplets, Moon, Pill } from 'lucide-react';\r\nimport { SiEthereum, SiTether } from 'react-icons/si';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Link, useLocation } from 'wouter';\r\nimport { useQuery, useMutation } from '@tanstack/react-query';\r\nimport { apiRequest, queryClient, APP_VERSION } from '@/lib/queryClient';\r\nimport { CharacterAvatar } from '@/components/CharacterAvatar';\r\nimport { CharacterSetup } from '@/components/CharacterSetup';\r\nimport { LeagueBadge } from '@/components/LeagueBadge';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport QRCode from 'qrcode';\r\nimport { isSoundEnabled, setSoundEnabled, initSounds } from '@/lib/sounds';\r\n\r\ntype CharacterMood = 'happy' | 'neutral' | 'sad';\r\ntype HealthState = 'normal' | 'tired' | 'sick' | 'hungry';\r\n\r\ninterface CharacterStatus {\r\n  isSetup: boolean;\r\n  gender: 'male' | 'female' | null;\r\n  name: string | null;\r\n  energy: number;\r\n  maxEnergy: number;\r\n  hunger: number;\r\n  maxHunger: number;\r\n  thirst: number;\r\n  maxThirst: number;\r\n  fatigue: number;\r\n  maxFatigue: number;\r\n  healthState: HealthState;\r\n  mood: CharacterMood;\r\n  lastActivityAt: string;\r\n  lastCareAt: string | null;\r\n  hoursSinceActivity: number;\r\n  careCooldowns: Record<string, string>;\r\n}\r\n\r\ninterface MainMenuProps {\r\n  user: User | null;\r\n  onPlay: () => void;\r\n  onLeaderboard: () => void;\r\n  onShop: () => void;\r\n  onAccessoryShop?: () => void;\r\n  onCustomize?: () => void;\r\n  onBeadsBox?: () => void;\r\n  isLoading?: boolean;\r\n}\r\n\r\ninterface ReferralInfo {\r\n  referralCode: string;\r\n  referralLink: string;\r\n  directReferralsCount: number;\r\n  level2ReferralsCount: number;\r\n  totalEarnedBeads: number;\r\n  referralsTotalBeads: number;\r\n  lastRewardId?: string;\r\n}\r\n\r\ninterface ReferralConfig {\r\n  title: string;\r\n  description: string;\r\n  level1RewardPercent: number;\r\n  level2RewardPercent: number;\r\n}\r\n\r\ninterface ReferralRewardWithUser {\r\n  id: string;\r\n  userId: string;\r\n  refUserId: string;\r\n  refUsername: string;\r\n  level: number;\r\n  beadsAmount: number;\r\n  createdAt: string;\r\n}\r\n\r\ninterface ReferralRewardsResponse {\r\n  rewards: ReferralRewardWithUser[];\r\n  total: number;\r\n}\r\n\r\ninterface League {\r\n  id: string;\r\n  slug: string;\r\n  nameRu: string;\r\n  nameEn: string;\r\n  icon: string;\r\n  minBeads: number;\r\n  maxRank: number | null;\r\n  themeColor: string;\r\n  sortOrder: number;\r\n}\r\n\r\ninterface UserLeagueResponse {\r\n  league: League;\r\n  rank: number;\r\n}\r\n\r\ninterface ReferralListItem {\r\n  id: string;\r\n  username: string;\r\n  gamesPlayed: number;\r\n  earnedFromRef: number;\r\n  joinedAt: string;\r\n}\r\n\r\ninterface Level2ReferralItem {\r\n  id: string;\r\n  username: string;\r\n  gamesPlayed: number;\r\n  earnedFromRef: number;\r\n  invitedBy: string;\r\n  joinedAt: string;\r\n}\r\n\r\ninterface ReferralListResponse {\r\n  referrals: ReferralListItem[];\r\n  level2Referrals: Level2ReferralItem[];\r\n  level2Count: number;\r\n}\r\n\r\nfunction getRankInfo(totalPoints: number): { name: string; level: number; progress: number; nextRankLabel: string; pointsToNext: number; isMaxLevel: boolean } {\r\n  const ranks = [\r\n    { name: 'Cadet', minPoints: 0, levels: 5, pointsPerLevel: 1000 },\r\n    { name: 'Sergeant', minPoints: 5000, levels: 5, pointsPerLevel: 2000 },\r\n    { name: 'Lieutenant', minPoints: 15000, levels: 5, pointsPerLevel: 5000 },\r\n    { name: 'Captain', minPoints: 40000, levels: 5, pointsPerLevel: 10000 },\r\n    { name: 'Major', minPoints: 90000, levels: 5, pointsPerLevel: 20000 },\r\n    { name: 'Colonel', minPoints: 190000, levels: 5, pointsPerLevel: 50000 },\r\n    { name: 'General', minPoints: 440000, levels: 5, pointsPerLevel: 100000 },\r\n    { name: 'Legend', minPoints: 940000, levels: 1, pointsPerLevel: Infinity },\r\n  ];\r\n\r\n  let currentRankIdx = 0;\r\n  \r\n  for (let i = ranks.length - 1; i >= 0; i--) {\r\n    if (totalPoints >= ranks[i].minPoints) {\r\n      currentRankIdx = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  const currentRank = ranks[currentRankIdx];\r\n  const nextRankData = ranks[currentRankIdx + 1];\r\n  const pointsInRank = totalPoints - currentRank.minPoints;\r\n  const level = Math.min(currentRank.levels, Math.floor(pointsInRank / currentRank.pointsPerLevel) + 1);\r\n  \r\n  const isMaxRank = !nextRankData;\r\n  const isMaxLevelInRank = level >= currentRank.levels;\r\n  const isMaxLevel = isMaxRank && isMaxLevelInRank;\r\n  \r\n  let progress: number;\r\n  let nextRankLabel: string;\r\n  let pointsToNext: number;\r\n  \r\n  if (isMaxLevel) {\r\n    progress = 100;\r\n    nextRankLabel = 'MAX';\r\n    pointsToNext = 0;\r\n  } else if (isMaxLevelInRank && nextRankData) {\r\n    const pointsToNextRank = nextRankData.minPoints - totalPoints;\r\n    const totalPointsForTransition = nextRankData.minPoints - (currentRank.minPoints + (currentRank.levels - 1) * currentRank.pointsPerLevel);\r\n    progress = Math.max(0, Math.min(100, ((totalPointsForTransition - pointsToNextRank) / totalPointsForTransition) * 100));\r\n    nextRankLabel = `${nextRankData.name} 1`;\r\n    pointsToNext = pointsToNextRank;\r\n  } else {\r\n    const pointsInLevel = pointsInRank - (level - 1) * currentRank.pointsPerLevel;\r\n    progress = Math.min(100, (pointsInLevel / currentRank.pointsPerLevel) * 100);\r\n    nextRankLabel = `${currentRank.name} ${level + 1}`;\r\n    pointsToNext = currentRank.pointsPerLevel - pointsInLevel;\r\n  }\r\n\r\n  return {\r\n    name: currentRank.name,\r\n    level,\r\n    progress,\r\n    nextRankLabel,\r\n    pointsToNext,\r\n    isMaxLevel,\r\n  };\r\n}\r\n\r\nfunction MiniBeadsLogo({ size = 22 }: { size?: number }) {\r\n  const beadColors = ['#00ff88', '#8b5cf6', '#00d4ff', '#f7931a'];\r\n  const beadSize = size * 0.18;\r\n  const orbitRadius = size * 0.38;\r\n  \r\n  return (\r\n    <div \r\n      className=\"relative flex items-center justify-center\"\r\n      style={{ \r\n        width: size, \r\n        height: size,\r\n        filter: 'drop-shadow(0 0 4px #00ff88) drop-shadow(0 0 8px #00ff8850)',\r\n      }}\r\n    >\r\n      <motion.div\r\n        className=\"absolute inset-0 rounded-full\"\r\n        style={{ \r\n          background: 'radial-gradient(circle at 30% 30%, hsl(155 100% 50% / 0.25), hsl(270 60% 30% / 0.3) 70%)',\r\n          border: '1.5px solid hsl(155 100% 50% / 0.4)',\r\n        }}\r\n        animate={{ rotate: 360 }}\r\n        transition={{ duration: 15, repeat: Infinity, ease: 'linear' }}\r\n      />\r\n      \r\n      {beadColors.map((color, i) => (\r\n        <motion.div\r\n          key={i}\r\n          className=\"absolute rounded-full\"\r\n          style={{ \r\n            width: beadSize,\r\n            height: beadSize,\r\n            backgroundColor: color,\r\n            boxShadow: `0 0 3px ${color}, 0 0 6px ${color}60`,\r\n            top: '50%',\r\n            left: '50%',\r\n            marginTop: -beadSize / 2,\r\n            marginLeft: -beadSize / 2,\r\n          }}\r\n          animate={{\r\n            x: [\r\n              Math.cos((i * 90 * Math.PI) / 180) * orbitRadius,\r\n              Math.cos(((i * 90 + 20) * Math.PI) / 180) * orbitRadius,\r\n              Math.cos((i * 90 * Math.PI) / 180) * orbitRadius,\r\n            ],\r\n            y: [\r\n              Math.sin((i * 90 * Math.PI) / 180) * orbitRadius,\r\n              Math.sin(((i * 90 + 20) * Math.PI) / 180) * orbitRadius,\r\n              Math.sin((i * 90 * Math.PI) / 180) * orbitRadius,\r\n            ],\r\n          }}\r\n          transition={{\r\n            duration: 2.5,\r\n            repeat: Infinity,\r\n            ease: 'easeInOut',\r\n            delay: i * 0.15,\r\n          }}\r\n        />\r\n      ))}\r\n      \r\n      <span \r\n        className=\"font-bold relative z-10\"\r\n        style={{ \r\n          fontSize: size * 0.45,\r\n          color: '#00ff88',\r\n          textShadow: '0 0 6px #00ff88, 0 0 12px #00ff8850',\r\n          lineHeight: 1,\r\n        }}\r\n      >\r\n        B\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction BeadsLogo() {\r\n  const beadColors = ['#00ff88', '#8b5cf6', '#00d4ff', '#f7931a', '#ff6b6b'];\r\n  \r\n  return (\r\n    <div className=\"relative flex flex-col items-center\">\r\n      <div className=\"relative w-24 h-24 flex items-center justify-center\">\r\n        <motion.div\r\n          className=\"absolute inset-0 rounded-full border-4 border-primary/30\"\r\n          style={{ \r\n            background: 'radial-gradient(circle at 30% 30%, hsl(155 100% 50% / 0.3), transparent 70%)',\r\n          }}\r\n          animate={{ rotate: 360 }}\r\n          transition={{ duration: 20, repeat: Infinity, ease: 'linear' }}\r\n        />\r\n        \r\n        {beadColors.map((color, i) => (\r\n          <motion.div\r\n            key={i}\r\n            className=\"absolute w-4 h-4 rounded-full\"\r\n            style={{ \r\n              backgroundColor: color,\r\n              boxShadow: `0 0 12px ${color}, 0 0 24px ${color}50`,\r\n              top: '50%',\r\n              left: '50%',\r\n            }}\r\n            animate={{\r\n              x: [\r\n                Math.cos((i * 72 * Math.PI) / 180) * 40 - 8,\r\n                Math.cos(((i * 72 + 30) * Math.PI) / 180) * 40 - 8,\r\n                Math.cos((i * 72 * Math.PI) / 180) * 40 - 8,\r\n              ],\r\n              y: [\r\n                Math.sin((i * 72 * Math.PI) / 180) * 40 - 8,\r\n                Math.sin(((i * 72 + 30) * Math.PI) / 180) * 40 - 8,\r\n                Math.sin((i * 72 * Math.PI) / 180) * 40 - 8,\r\n              ],\r\n            }}\r\n            transition={{\r\n              duration: 3,\r\n              repeat: Infinity,\r\n              ease: 'easeInOut',\r\n              delay: i * 0.2,\r\n            }}\r\n          />\r\n        ))}\r\n        \r\n        <span \r\n          className=\"text-4xl font-bold relative z-10\"\r\n          style={{ \r\n            color: '#00ff88',\r\n            textShadow: '0 0 20px #00ff88, 0 0 40px #00ff8850',\r\n          }}\r\n        >\r\n          B\r\n        </span>\r\n      </div>\r\n      \r\n      <h1 \r\n        className=\"mt-4 font-display text-4xl font-bold\"\r\n        style={{ \r\n          background: 'linear-gradient(135deg, #00ff88 0%, #00d4ff 50%, #8b5cf6 100%)',\r\n          WebkitBackgroundClip: 'text',\r\n          WebkitTextFillColor: 'transparent',\r\n          textShadow: '0 0 40px #00ff8830',\r\n        }}\r\n        data-testid=\"text-title\"\r\n      >\r\n        BeadsLine\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CryptoCard({ type, balance, label }: { type: 'btc' | 'eth' | 'usdt'; balance: string; label: string }) {\r\n  const config = {\r\n    btc: { \r\n      icon: Bitcoin, \r\n      color: '#f7931a', \r\n      bgColor: 'rgba(247, 147, 26, 0.15)',\r\n      borderColor: 'rgba(247, 147, 26, 0.3)',\r\n    },\r\n    eth: { \r\n      icon: SiEthereum, \r\n      color: '#627eea', \r\n      bgColor: 'rgba(98, 126, 234, 0.15)',\r\n      borderColor: 'rgba(98, 126, 234, 0.3)',\r\n    },\r\n    usdt: { \r\n      icon: SiTether, \r\n      color: '#26a17b', \r\n      bgColor: 'rgba(38, 161, 123, 0.15)',\r\n      borderColor: 'rgba(38, 161, 123, 0.3)',\r\n    },\r\n  };\r\n\r\n  const { icon: Icon, color, bgColor, borderColor } = config[type];\r\n\r\n  return (\r\n    <motion.div\r\n      whileHover={{ scale: 1.02 }}\r\n      whileTap={{ scale: 0.98 }}\r\n      className=\"flex-1 rounded-xl p-3 text-center transition-all\"\r\n      style={{ \r\n        backgroundColor: bgColor,\r\n        border: `1px solid ${borderColor}`,\r\n        boxShadow: `0 0 20px ${color}20, inset 0 0 20px ${color}10`,\r\n      }}\r\n    >\r\n      <div \r\n        className=\"w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2\"\r\n        style={{ \r\n          backgroundColor: color,\r\n          boxShadow: `0 0 20px ${color}, 0 0 40px ${color}50`,\r\n        }}\r\n      >\r\n        <Icon className=\"w-6 h-6 text-white\" />\r\n      </div>\r\n      <div className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">{label}</div>\r\n      <div \r\n        className=\"text-sm font-bold mt-1 tabular-nums\"\r\n        style={{ color }}\r\n        data-testid={`text-${type}-balance`}\r\n      >\r\n        {balance}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport function MainMenu({ user, onPlay, onLeaderboard, onShop, onAccessoryShop, onCustomize, onBeadsBox, isLoading }: MainMenuProps) {\r\n  const [, navigate] = useLocation();\r\n  const [showReferral, setShowReferral] = useState(false);\r\n  const [showReferralStats, setShowReferralStats] = useState(false);\r\n  const [showQRModal, setShowQRModal] = useState(false);\r\n  const [qrCodeDataUrl, setQrCodeDataUrl] = useState<string | null>(null);\r\n  const [copied, setCopied] = useState(false);\r\n  const [lastSeenRewardId, setLastSeenRewardId] = useState<string | null>(() => {\r\n    return localStorage.getItem('lastSeenRewardId');\r\n  });\r\n  const [notifiedRewardIds, setNotifiedRewardIds] = useState<Set<string>>(() => {\r\n    try {\r\n      const saved = localStorage.getItem('notifiedRewardIds');\r\n      return saved ? new Set(JSON.parse(saved)) : new Set();\r\n    } catch {\r\n      return new Set();\r\n    }\r\n  });\r\n  const [pendingNotifications, setPendingNotifications] = useState<ReferralRewardWithUser[]>([]);\r\n  const [soundOn, setSoundOn] = useState(() => isSoundEnabled());\r\n  const [showCharacterSetup, setShowCharacterSetup] = useState(false);\r\n  const { toast } = useToast();\r\n  \r\n  const toggleSound = () => {\r\n    initSounds();\r\n    const newValue = !soundOn;\r\n    setSoundOn(newValue);\r\n    setSoundEnabled(newValue);\r\n  };\r\n  \r\n  const handlePlay = () => {\r\n    initSounds();\r\n    onPlay();\r\n  };\r\n\r\n  const { data: activePlayers } = useQuery<{ count: number }>({\r\n    queryKey: [\"/api/active-players\"],\r\n    refetchInterval: 10000,\r\n  });\r\n\r\n  const { data: referralInfo } = useQuery<ReferralInfo>({\r\n    queryKey: [\"/api/referral\"],\r\n    enabled: !!user && !user.username?.startsWith('guest_'),\r\n    refetchInterval: 30000,\r\n  });\r\n\r\n  const { data: referralConfig } = useQuery<ReferralConfig>({\r\n    queryKey: [\"/api/referral/config\"],\r\n  });\r\n\r\n  const { data: referralRewards, refetch: refetchRewards } = useQuery<ReferralRewardsResponse>({\r\n    queryKey: [\"/api/referral/rewards\"],\r\n    enabled: !!user && !user.username?.startsWith('guest_'),\r\n    refetchInterval: 30000,\r\n  });\r\n\r\n  const { data: referralList } = useQuery<ReferralListResponse>({\r\n    queryKey: [\"/api/referral/list\"],\r\n    enabled: !!user && !user.username?.startsWith('guest_') && showReferralStats,\r\n  });\r\n\r\n  const { data: characterData, isLoading: isCharacterLoading } = useQuery<CharacterWithAccessories>({\r\n    queryKey: [\"/api/character\"],\r\n    enabled: !!user,\r\n    retry: 3,\r\n    staleTime: 30000,\r\n  });\r\n\r\n  const { data: characterStatus } = useQuery<CharacterStatus>({\r\n    queryKey: ['/api/character/status'],\r\n    enabled: !!user,\r\n  });\r\n\r\n  const [careReaction, setCareReaction] = useState<string | null>(null);\r\n  \r\n  const careMutation = useMutation({\r\n    mutationFn: async (action: string) => {\r\n      return apiRequest('POST', '/api/character/care', { action });\r\n    },\r\n    onSuccess: (_, action) => {\r\n      queryClient.invalidateQueries({ queryKey: ['/api/character/status'] });\r\n      // Show micro-animation based on action\r\n      setCareReaction(action);\r\n      setTimeout(() => setCareReaction(null), 2000);\r\n    },\r\n  });\r\n\r\n  const getCooldownRemaining = (action: string): number | null => {\r\n    if (!characterStatus?.careCooldowns?.[action]) return null;\r\n    const cooldownHours: Record<string, number> = { feed: 4, drink: 4, rest: 6, heal: 8 };\r\n    const lastTime = new Date(characterStatus.careCooldowns[action]);\r\n    const elapsed = (Date.now() - lastTime.getTime()) / (1000 * 60 * 60);\r\n    const remaining = cooldownHours[action] - elapsed;\r\n    return remaining > 0 ? Math.ceil(remaining * 60) : null;\r\n  };\r\n\r\n  const { data: userLeague } = useQuery<UserLeagueResponse>({\r\n    queryKey: ['/api/user/league'],\r\n    enabled: !!user && !user.username?.startsWith('guest_'),\r\n    staleTime: 30000,\r\n  });\r\n\r\n  const { data: allLeagues = [] } = useQuery<League[]>({\r\n    queryKey: ['/api/leagues'],\r\n    staleTime: 60000,\r\n  });\r\n\r\n  const { data: activeSeason } = useQuery<{ id: number; seasonNumber: number; month: number; year: number; isActive: boolean } | null>({\r\n    queryKey: ['/api/season/active'],\r\n    staleTime: 60000,\r\n  });\r\n\r\n  const getMonthName = (month: number) => {\r\n    const months = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', \r\n                    '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];\r\n    return months[month - 1] || '';\r\n  };\r\n\r\n  // Calculate progress to next league (both Beads and Rank conditions)\r\n  const getLeagueProgress = () => {\r\n    if (!userLeague || allLeagues.length === 0) return null;\r\n    \r\n    const currentIndex = allLeagues.findIndex(l => l.slug === userLeague.league.slug);\r\n    const nextLeague = currentIndex < allLeagues.length - 1 ? allLeagues[currentIndex + 1] : null;\r\n    const userRank = userLeague.rank;\r\n    \r\n    if (!nextLeague) {\r\n      return {\r\n        isMax: true,\r\n        beadsProgress: 100,\r\n        rankProgress: 100,\r\n        nextLeagueName: 'MAX',\r\n        nextLeagueIcon: '',\r\n        pointsToNext: 0,\r\n        rankToNext: 0,\r\n        nextMaxRank: null,\r\n        themeColor: userLeague.league.themeColor,\r\n        beadsMet: true,\r\n        rankMet: true,\r\n      };\r\n    }\r\n    \r\n    const currentMinBeads = userLeague.league.minBeads;\r\n    const nextMinBeads = nextLeague.minBeads;\r\n    const nextMaxRank = nextLeague.maxRank;\r\n    const userBeads = user?.totalPoints || 0;\r\n    \r\n    // Beads progress\r\n    const beadsProgress = Math.min(100, Math.max(0, ((userBeads - currentMinBeads) / (nextMinBeads - currentMinBeads)) * 100));\r\n    const pointsToNext = Math.max(0, nextMinBeads - userBeads);\r\n    const beadsMet = userBeads >= nextMinBeads;\r\n    \r\n    // Rank progress (if nextMaxRank exists)\r\n    let rankProgress = 100;\r\n    let rankToNext = 0;\r\n    let rankMet = true;\r\n    if (nextMaxRank !== null) {\r\n      rankMet = userRank <= nextMaxRank;\r\n      if (!rankMet) {\r\n        rankToNext = userRank - nextMaxRank;\r\n        // Calculate rank progress (how close to top N)\r\n        const currentMaxRank = userLeague.league.maxRank || 10000;\r\n        rankProgress = Math.min(100, Math.max(0, ((currentMaxRank - userRank) / (currentMaxRank - nextMaxRank)) * 100));\r\n      }\r\n    }\r\n    \r\n    return {\r\n      isMax: false,\r\n      beadsProgress,\r\n      rankProgress,\r\n      nextLeagueName: nextLeague.nameRu,\r\n      nextLeagueIcon: nextLeague.icon,\r\n      pointsToNext,\r\n      rankToNext,\r\n      nextMaxRank,\r\n      themeColor: nextLeague.themeColor,\r\n      beadsMet,\r\n      rankMet,\r\n      userRank,\r\n    };\r\n  };\r\n\r\n  const leagueProgress = getLeagueProgress();\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–∫–∞–∑ –Ω–æ–≤—ã—Ö —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥ (—Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑ –∫–∞–∂–¥–∞—è)\r\n  useEffect(() => {\r\n    if (!referralRewards?.rewards || referralRewards.rewards.length === 0) return;\r\n    \r\n    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞–≥—Ä–∞–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏\r\n    const newRewards = referralRewards.rewards.filter(r => !notifiedRewardIds.has(r.id));\r\n    \r\n    if (newRewards.length === 0) return;\r\n    \r\n    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ 3 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\r\n    newRewards.slice(0, 3).forEach((reward, idx) => {\r\n      setTimeout(() => {\r\n        toast({\r\n          title: \"–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞!\",\r\n          description: `+${reward.beadsAmount} Beads –æ—Ç ${reward.refUsername} (–£—Ä.${reward.level})`,\r\n        });\r\n      }, idx * 1500);\r\n    });\r\n    \r\n    if (newRewards.length > 3) {\r\n      setTimeout(() => {\r\n        toast({\r\n          title: \"–ò –µ—â—ë –Ω–∞–≥—Ä–∞–¥—ã!\",\r\n          description: `+${newRewards.length - 3} —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥`,\r\n        });\r\n      }, 4500);\r\n    }\r\n    \r\n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –ø–æ–∫–∞–∑–∞–Ω–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥ –≤ localStorage\r\n    const currentIds = Array.from(notifiedRewardIds);\r\n    const newIds = newRewards.map(r => r.id);\r\n    const allIds = [...currentIds, ...newIds];\r\n    const newNotifiedIds = new Set(allIds);\r\n    setNotifiedRewardIds(newNotifiedIds);\r\n    localStorage.setItem('notifiedRewardIds', JSON.stringify(allIds));\r\n    \r\n    // –û–±–Ω–æ–≤–ª—è–µ–º lastSeenRewardId\r\n    if (referralRewards.rewards[0]) {\r\n      const latestId = referralRewards.rewards[0].id;\r\n      setLastSeenRewardId(latestId);\r\n      localStorage.setItem('lastSeenRewardId', latestId);\r\n    }\r\n  }, [referralRewards?.rewards, notifiedRewardIds, toast]);\r\n\r\n  useEffect(() => {\r\n    if (showQRModal && referralInfo?.referralLink) {\r\n      QRCode.toDataURL(referralInfo.referralLink, {\r\n        width: 300,\r\n        margin: 2,\r\n        color: {\r\n          dark: '#000000',\r\n          light: '#FFFFFF',\r\n        },\r\n        errorCorrectionLevel: 'H',\r\n      }).then(setQrCodeDataUrl).catch(console.error);\r\n    }\r\n  }, [showQRModal, referralInfo?.referralLink]);\r\n\r\n  const copyReferralLink = async () => {\r\n    if (!referralInfo?.referralLink) return;\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(referralInfo.referralLink);\r\n      setCopied(true);\r\n      toast({\r\n        title: \"–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!\",\r\n        description: \"–û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ—ë –¥—Ä—É–∑—å—è–º\",\r\n      });\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch {\r\n      toast({\r\n        title: \"–û—à–∏–±–∫–∞\",\r\n        description: \"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const saveQRCode = () => {\r\n    if (!qrCodeDataUrl) return;\r\n    const link = document.createElement('a');\r\n    link.download = 'beadsline-invite-qr.png';\r\n    link.href = qrCodeDataUrl;\r\n    link.click();\r\n    toast({\r\n      title: \"QR-–∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω!\",\r\n      description: \"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É –∑–∞–≥—Ä—É–∑–æ–∫\",\r\n    });\r\n  };\r\n\r\n  const rankInfo = user ? getRankInfo(user.totalPoints) : null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center p-4 pb-24 overflow-y-auto\" style={{ background: 'linear-gradient(180deg, hsl(230 35% 7%) 0%, hsl(230 35% 10%) 100%)' }}>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"mt-8 mb-6\"\r\n      >\r\n        <BeadsLogo />\r\n      </motion.div>\r\n\r\n      {user && rankInfo && (\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.95 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"w-full max-w-sm mb-4\"\r\n        >\r\n          <Card className=\"p-4 border-primary/20\" style={{ boxShadow: '0 0 30px hsl(155 100% 50% / 0.1)' }}>\r\n            <div className=\"flex items-center gap-3\">\r\n              <div \r\n                className=\"cursor-pointer rounded-full overflow-hidden border-2 hover-elevate\"\r\n                style={{ borderColor: '#00ff88' }}\r\n                onClick={onCustomize}\r\n                data-testid=\"button-character-avatar\"\r\n              >\r\n                {isCharacterLoading ? (\r\n                  <div className=\"w-14 h-14 rounded-full bg-muted animate-pulse\" />\r\n                ) : characterData ? (\r\n                  <CharacterAvatar \r\n                    characterData={characterData} \r\n                    size={56}\r\n                    showPlaceholder={true}\r\n                  />\r\n                ) : (\r\n                  <Avatar className=\"w-14 h-14\">\r\n                    <AvatarImage src={user.photoUrl || undefined} alt={user.username} />\r\n                    <AvatarFallback \r\n                      className=\"font-display text-lg font-bold\"\r\n                      style={{ backgroundColor: 'hsl(155 100% 50% / 0.2)', color: '#00ff88' }}\r\n                    >\r\n                      {user.username?.substring(0, 2).toUpperCase() || 'U'}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                )}\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h3 className=\"font-display font-semibold text-lg truncate\" data-testid=\"text-username\">\r\n                  {isCharacterLoading ? (\r\n                    <span className=\"text-muted-foreground\">–ó–∞–≥—Ä—É–∑–∫–∞...</span>\r\n                  ) : characterData?.character?.name || user.firstName || user.username}\r\n                </h3>\r\n                <div className=\"flex items-center gap-2 flex-wrap\">\r\n                  <LeagueBadge size=\"sm\" showRank={false} />\r\n                  {activeSeason && (\r\n                    <span \r\n                      className=\"text-xs text-muted-foreground\"\r\n                      data-testid=\"text-current-season\"\r\n                    >\r\n                      –°–µ–∑–æ–Ω {activeSeason.seasonNumber}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div \r\n                  className=\"flex items-center gap-1.5 font-bold tabular-nums\"\r\n                  style={{ color: '#00ff88' }}\r\n                  data-testid=\"text-total-points\"\r\n                >\r\n                  <MiniBeadsLogo size={22} />\r\n                  <span className=\"text-lg\">{user.totalPoints.toLocaleString()}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            {characterStatus?.isSetup && (\r\n              <div className=\"mt-3 pt-3 border-t border-primary/10\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between gap-1 text-xs text-muted-foreground mb-1\">\r\n                      <span className=\"flex items-center gap-1\">\r\n                        <Zap className=\"w-3 h-3\" />\r\n                        –≠–Ω–µ—Ä–≥–∏—è\r\n                      </span>\r\n                      <span>{Math.round((characterStatus.energy / characterStatus.maxEnergy) * 100)}%</span>\r\n                    </div>\r\n                    <div className=\"h-2 bg-gray-700 rounded-full overflow-hidden\">\r\n                      <motion.div\r\n                        className=\"h-full rounded-full\"\r\n                        style={{\r\n                          background: characterStatus.energy / characterStatus.maxEnergy > 0.6 \r\n                            ? 'linear-gradient(90deg, #22c55e, #4ade80)' \r\n                            : characterStatus.energy / characterStatus.maxEnergy > 0.4 \r\n                              ? 'linear-gradient(90deg, #eab308, #facc15)' \r\n                              : characterStatus.energy / characterStatus.maxEnergy > 0.2 \r\n                                ? 'linear-gradient(90deg, #f97316, #fb923c)' \r\n                                : 'linear-gradient(90deg, #a855f7, #ef4444)'\r\n                        }}\r\n                        initial={{ width: 0 }}\r\n                        animate={{ width: `${(characterStatus.energy / characterStatus.maxEnergy) * 100}%` }}\r\n                        transition={{ duration: 0.5 }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-7 h-7 rounded-full bg-gray-700/50 flex items-center justify-center\" title={`–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: ${characterStatus.mood === 'happy' ? '—Å—á–∞—Å—Ç–ª–∏–≤—ã–π' : characterStatus.mood === 'sad' ? '–≥—Ä—É—Å—Ç–Ω—ã–π' : '–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π'}`}>\r\n                      {characterStatus.mood === 'happy' \r\n                        ? <Smile className=\"w-4 h-4 text-green-400\" />\r\n                        : characterStatus.mood === 'sad' \r\n                          ? <Frown className=\"w-4 h-4 text-red-400\" />\r\n                          : <Meh className=\"w-4 h-4 text-yellow-400\" />\r\n                      }\r\n                    </div>\r\n                    {characterStatus.healthState !== 'normal' && (\r\n                      <div className=\"w-7 h-7 rounded-full bg-gray-700/50 flex items-center justify-center\" title={characterStatus.healthState === 'sick' ? '–ë–æ–ª–µ–µ—Ç' : characterStatus.healthState === 'hungry' ? '–ì–æ–ª–æ–¥–µ–Ω' : '–£—Å—Ç–∞–ª'}>\r\n                        {characterStatus.healthState === 'sick' \r\n                          ? <ThermometerSun className=\"w-4 h-4 text-red-400\" />\r\n                          : characterStatus.healthState === 'hungry'\r\n                            ? <Utensils className=\"w-4 h-4 text-orange-400\" />\r\n                            : <Heart className=\"w-4 h-4 text-orange-400\" />\r\n                        }\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-3 grid grid-cols-3 gap-2\">\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\r\n                      <Utensils className=\"w-3 h-3\" />\r\n                      <span>–°—ã—Ç–æ—Å—Ç—å</span>\r\n                    </div>\r\n                    <div className=\"h-1.5 bg-gray-700 rounded-full overflow-hidden\">\r\n                      <motion.div\r\n                        className=\"h-full rounded-full\"\r\n                        style={{ \r\n                          background: characterStatus.hunger > 50 \r\n                            ? 'linear-gradient(90deg, #f97316, #fb923c)' \r\n                            : 'linear-gradient(90deg, #ef4444, #f97316)' \r\n                        }}\r\n                        initial={{ width: 0 }}\r\n                        animate={{ \r\n                          width: `${characterStatus.hunger}%`,\r\n                          opacity: characterStatus.hunger < 20 ? [0.5, 1, 0.5] : 1\r\n                        }}\r\n                        transition={{ \r\n                          width: { duration: 0.5 },\r\n                          opacity: { duration: 1.5, repeat: Infinity, ease: \"easeInOut\" }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\r\n                      <Droplets className=\"w-3 h-3\" />\r\n                      <span>–ñ–∞–∂–¥–∞</span>\r\n                    </div>\r\n                    <div className=\"h-1.5 bg-gray-700 rounded-full overflow-hidden\">\r\n                      <motion.div\r\n                        className=\"h-full rounded-full\"\r\n                        style={{ \r\n                          background: characterStatus.thirst > 50 \r\n                            ? 'linear-gradient(90deg, #06b6d4, #22d3ee)' \r\n                            : 'linear-gradient(90deg, #0891b2, #06b6d4)' \r\n                        }}\r\n                        initial={{ width: 0 }}\r\n                        animate={{ \r\n                          width: `${characterStatus.thirst}%`,\r\n                          opacity: characterStatus.thirst < 20 ? [0.5, 1, 0.5] : 1\r\n                        }}\r\n                        transition={{ \r\n                          width: { duration: 0.5 },\r\n                          opacity: { duration: 1.5, repeat: Infinity, ease: \"easeInOut\" }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\r\n                      <Moon className=\"w-3 h-3\" />\r\n                      <span>–£—Å—Ç–∞–ª–æ—Å—Ç—å</span>\r\n                    </div>\r\n                    <div className=\"h-1.5 bg-gray-700 rounded-full overflow-hidden\">\r\n                      <motion.div\r\n                        className=\"h-full rounded-full\"\r\n                        style={{ \r\n                          background: characterStatus.fatigue < 50 \r\n                            ? 'linear-gradient(90deg, #a855f7, #c084fc)' \r\n                            : 'linear-gradient(90deg, #7c3aed, #a855f7)' \r\n                        }}\r\n                        initial={{ width: 0 }}\r\n                        animate={{ \r\n                          width: `${characterStatus.fatigue}%`,\r\n                          opacity: characterStatus.fatigue > 80 ? [0.5, 1, 0.5] : 1\r\n                        }}\r\n                        transition={{ \r\n                          width: { duration: 0.5 },\r\n                          opacity: { duration: 1.5, repeat: Infinity, ease: \"easeInOut\" }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {careReaction && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, y: 10, scale: 0.8 }}\r\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                    exit={{ opacity: 0, y: -10 }}\r\n                    className=\"mt-2 text-center text-sm font-medium\"\r\n                  >\r\n                    {careReaction === 'feed' && <span className=\"text-orange-400\">–ù—è–º-–Ω—è–º! üòã</span>}\r\n                    {careReaction === 'drink' && <span className=\"text-cyan-400\">–û—Å–≤–µ–∂–∏–ª—Å—è! üíß</span>}\r\n                    {careReaction === 'rest' && <span className=\"text-purple-400\">*–∑–µ–≤–∞–µ—Ç* üò¥</span>}\r\n                    {careReaction === 'heal' && <span className=\"text-pink-400\">–ú–Ω–µ –ª—É—á—à–µ! üíä</span>}\r\n                  </motion.div>\r\n                )}\r\n\r\n                <div className=\"mt-3 grid grid-cols-4 gap-1.5\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    className=\"flex flex-col items-center gap-0.5 h-auto py-2 text-xs\"\r\n                    disabled={careMutation.isPending || getCooldownRemaining('feed') !== null}\r\n                    onClick={() => careMutation.mutate('feed')}\r\n                    data-testid=\"button-care-feed\"\r\n                  >\r\n                    <motion.div animate={careReaction === 'feed' ? { scale: [1, 1.3, 1], rotate: [0, 10, -10, 0] } : {}}>\r\n                      <Utensils className=\"w-4 h-4 text-orange-400\" />\r\n                    </motion.div>\r\n                    <span>{getCooldownRemaining('feed') ? `${getCooldownRemaining('feed')}–º` : '–ï–¥–∞'}</span>\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    className=\"flex flex-col items-center gap-0.5 h-auto py-2 text-xs\"\r\n                    disabled={careMutation.isPending || getCooldownRemaining('drink') !== null}\r\n                    onClick={() => careMutation.mutate('drink')}\r\n                    data-testid=\"button-care-drink\"\r\n                  >\r\n                    <motion.div animate={careReaction === 'drink' ? { scale: [1, 1.3, 1], y: [0, -3, 0] } : {}}>\r\n                      <Droplets className=\"w-4 h-4 text-cyan-400\" />\r\n                    </motion.div>\r\n                    <span>{getCooldownRemaining('drink') ? `${getCooldownRemaining('drink')}–º` : '–í–æ–¥–∞'}</span>\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    className=\"flex flex-col items-center gap-0.5 h-auto py-2 text-xs\"\r\n                    disabled={careMutation.isPending || getCooldownRemaining('rest') !== null}\r\n                    onClick={() => careMutation.mutate('rest')}\r\n                    data-testid=\"button-care-rest\"\r\n                  >\r\n                    <motion.div animate={careReaction === 'rest' ? { rotate: [0, -15, 15, 0], scale: [1, 1.1, 1] } : {}}>\r\n                      <Moon className=\"w-4 h-4 text-purple-400\" />\r\n                    </motion.div>\r\n                    <span>{getCooldownRemaining('rest') ? `${getCooldownRemaining('rest')}–º` : '–û—Ç–¥—ã—Ö'}</span>\r\n                  </Button>\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    className=\"flex flex-col items-center gap-0.5 h-auto py-2 text-xs\"\r\n                    disabled={careMutation.isPending || getCooldownRemaining('heal') !== null || characterStatus.healthState === 'normal'}\r\n                    onClick={() => careMutation.mutate('heal')}\r\n                    data-testid=\"button-care-heal\"\r\n                  >\r\n                    <motion.div animate={careReaction === 'heal' ? { scale: [1, 1.2, 1], opacity: [1, 0.5, 1] } : {}}>\r\n                      <Pill className=\"w-4 h-4 text-pink-400\" />\r\n                    </motion.div>\r\n                    <span>{getCooldownRemaining('heal') ? `${getCooldownRemaining('heal')}–º` : '–õ–µ—á–∏—Ç—å'}</span>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {leagueProgress && (\r\n              <div className=\"mt-3 space-y-2\">\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                  {leagueProgress.isMax \r\n                    ? '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ª–∏–≥–∞' \r\n                    : `–î–æ ${leagueProgress.nextLeagueIcon} ${leagueProgress.nextLeagueName}`\r\n                  }\r\n                </div>\r\n                \r\n                {!leagueProgress.isMax && (\r\n                  <>\r\n                    <div className=\"space-y-1\">\r\n                      <div className=\"flex justify-between text-xs\">\r\n                        <span className={leagueProgress.beadsMet ? 'text-green-500' : 'text-muted-foreground'}>\r\n                          {leagueProgress.beadsMet ? '‚úì' : ''} Beads\r\n                        </span>\r\n                        <span className={leagueProgress.beadsMet ? 'text-green-500' : 'text-muted-foreground'}>\r\n                          {leagueProgress.beadsMet \r\n                            ? '–í—ã–ø–æ–ª–Ω–µ–Ω–æ' \r\n                            : `${Math.round(leagueProgress.beadsProgress)}%`\r\n                          }\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"h-1.5 rounded-full overflow-hidden\" style={{ background: 'hsl(230 30% 15%)' }}>\r\n                        <motion.div\r\n                          className=\"h-full rounded-full\"\r\n                          style={{ background: 'linear-gradient(90deg, #06b6d4, #22d3ee)' }}\r\n                          initial={{ width: 0 }}\r\n                          animate={{ width: `${leagueProgress.beadsProgress}%` }}\r\n                          transition={{ duration: 0.5 }}\r\n                        />\r\n                      </div>\r\n                      {!leagueProgress.beadsMet && leagueProgress.pointsToNext > 0 && (\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          –ï—â—ë {leagueProgress.pointsToNext.toLocaleString()} Beads\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {leagueProgress.nextMaxRank !== null && (\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"flex justify-between text-xs\">\r\n                          <span className={leagueProgress.rankMet ? 'text-green-500' : 'text-muted-foreground'}>\r\n                            {leagueProgress.rankMet ? '‚úì' : ''} –†–µ–π—Ç–∏–Ω–≥ (Top {leagueProgress.nextMaxRank})\r\n                          </span>\r\n                          <span className={leagueProgress.rankMet ? 'text-green-500' : 'text-muted-foreground'}>\r\n                            {leagueProgress.rankMet \r\n                              ? '–í—ã–ø–æ–ª–Ω–µ–Ω–æ' \r\n                              : `#${leagueProgress.userRank}`\r\n                            }\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"h-1.5 rounded-full overflow-hidden\" style={{ background: 'hsl(230 30% 15%)' }}>\r\n                          <motion.div\r\n                            className=\"h-full rounded-full\"\r\n                            style={{ background: 'linear-gradient(90deg, #8b5cf6, #a855f7)' }}\r\n                            initial={{ width: 0 }}\r\n                            animate={{ width: `${leagueProgress.rankMet ? 100 : leagueProgress.rankProgress}%` }}\r\n                            transition={{ duration: 0.5 }}\r\n                          />\r\n                        </div>\r\n                        {!leagueProgress.rankMet && leagueProgress.rankToNext > 0 && (\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            –ù—É–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞ {leagueProgress.rankToNext} –ø–æ–∑–∏—Ü–∏–π\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </motion.div>\r\n      )}\r\n\r\n      {user && referralInfo && !user.username?.startsWith('guest_') && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.12 }}\r\n          className=\"w-full max-w-sm mb-4\"\r\n        >\r\n          <Button\r\n            className=\"w-full h-12 font-display font-semibold border-0\"\r\n            onClick={() => setShowReferral(true)}\r\n            data-testid=\"button-invite-friend\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)',\r\n              boxShadow: '0 0 20px hsl(270 60% 55% / 0.3)',\r\n            }}\r\n          >\r\n            <UserPlus className=\"w-5 h-5 mr-2\" />\r\n            –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞\r\n          </Button>\r\n        </motion.div>\r\n      )}\r\n\r\n      {user && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.15 }}\r\n          className=\"w-full max-w-sm mb-4\"\r\n        >\r\n          <div className=\"flex gap-3\">\r\n            <CryptoCard \r\n              type=\"btc\" \r\n              balance={`${((Number(user.btcBalanceSats) || 0) / 100000000).toFixed(8)} BTC`}\r\n              label=\"BTC\"\r\n            />\r\n            <CryptoCard \r\n              type=\"eth\" \r\n              balance={`${((Number(user.ethBalanceWei) || 0) / 1000000000000000000).toFixed(9)} ETH`}\r\n              label=\"ETH\"\r\n            />\r\n            <CryptoCard \r\n              type=\"usdt\" \r\n              balance={`$${(user.usdtBalance || 0).toFixed(4)}`}\r\n              label=\"USDT\"\r\n            />\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Prize Fund block - temporarily disabled\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 10 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.2 }}\r\n        className=\"w-full max-w-sm mb-4\"\r\n      >\r\n        <Card \r\n          className=\"p-4 border-secondary/30\"\r\n          style={{ \r\n            background: 'linear-gradient(135deg, hsl(270 60% 55% / 0.15) 0%, hsl(195 100% 50% / 0.1) 100%)',\r\n            boxShadow: '0 0 30px hsl(270 60% 55% / 0.15)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            <div \r\n              className=\"w-12 h-12 rounded-full flex items-center justify-center relative\"\r\n              style={{ backgroundColor: 'hsl(270 60% 55% / 0.3)' }}\r\n            >\r\n              <Trophy className=\"w-6 h-6\" style={{ color: '#8b5cf6' }} />\r\n              <div \r\n                className=\"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold\"\r\n                style={{ backgroundColor: '#f7931a', color: '#000' }}\r\n              >\r\n                47\r\n              </div>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"font-bold text-lg\" style={{ color: '#00d4ff' }}>$200</span>\r\n                <span className=\"text-xs uppercase text-muted-foreground\">–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥</span>\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground flex items-center gap-2\">\r\n                <span className=\"tabular-nums\">03:52:14</span>\r\n                <span className=\"text-xs px-2 py-0.5 rounded-full\" style={{ backgroundColor: 'hsl(155 100% 50% / 0.2)', color: '#00ff88' }}>\r\n                  –¢–≤–æ–π –ø—Ä–∏–∑: 10 USDT\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <ChevronRight className=\"w-5 h-5 text-muted-foreground\" />\r\n          </div>\r\n        </Card>\r\n      </motion.div>\r\n      */}\r\n\r\n      {user && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 10 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.25 }}\r\n          className=\"w-full max-w-sm mb-4\"\r\n        >\r\n          <div className=\"flex gap-3\">\r\n            <Card \r\n              className=\"flex-1 p-3 border-muted/30 hover-elevate cursor-pointer\"\r\n              onClick={() => {}}\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <Gamepad2 className=\"w-4 h-4\" style={{ color: '#00d4ff' }} />\r\n                    <span className=\"text-xs text-muted-foreground uppercase tracking-wide\">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-3 gap-2 text-center\">\r\n                    <div>\r\n                      <div className=\"text-xs text-muted-foreground\">–ò–≥—Ä</div>\r\n                      <div className=\"font-bold tabular-nums\" data-testid=\"stats-games\">{user.gamesPlayed}</div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-xs text-muted-foreground\">–õ—É—á—à–∏–π</div>\r\n                      <div className=\"font-bold tabular-nums\" style={{ color: '#00ff88' }} data-testid=\"stats-best\">{user.bestScore.toLocaleString()}</div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-xs text-muted-foreground\">–õ–∏–≥–∞</div>\r\n                      <div className=\"font-bold tabular-nums text-xs\" style={{ color: userLeague?.league.themeColor || '#f7931a' }} data-testid=\"stats-rank\">\r\n                        {userLeague ? `${userLeague.league.icon} ${userLeague.league.nameRu}` : '–ì–æ—Å—Ç—å'}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <ChevronRight className=\"w-5 h-5 text-muted-foreground shrink-0\" />\r\n              </div>\r\n            </Card>\r\n            \r\n            <Card \r\n              className=\"p-3 border-muted/30 hover-elevate cursor-pointer\"\r\n              style={{ minWidth: '140px' }}\r\n              onClick={() => setShowReferral(!showReferral)}\r\n            >\r\n              <div className=\"flex items-center justify-between gap-2\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-1 mb-2\">\r\n                    <Users className=\"w-3 h-3\" style={{ color: '#8b5cf6' }} />\r\n                    <span className=\"text-xs text-muted-foreground uppercase tracking-wide\">–î—Ä—É–∑—å—è</span>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-3 gap-1 text-center\">\r\n                    <div>\r\n                      <div className=\"text-[10px] text-muted-foreground\">–£—Ä.1</div>\r\n                      <div className=\"text-sm font-bold\" style={{ color: '#00ff88' }}>\r\n                        {referralInfo?.directReferralsCount || 0}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-[10px] text-muted-foreground\">–£—Ä.2</div>\r\n                      <div className=\"text-sm font-bold\" style={{ color: '#8b5cf6' }}>\r\n                        {referralInfo?.level2ReferralsCount || 0}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"text-[10px] text-muted-foreground\">Beads</div>\r\n                      <div className=\"text-sm font-bold\" style={{ color: '#00d4ff' }}>\r\n                        {(referralInfo?.totalEarnedBeads || 0).toLocaleString()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <ChevronRight className=\"w-5 h-5 text-muted-foreground shrink-0\" />\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ delay: 0.3 }}\r\n        className=\"w-full max-w-sm\"\r\n      >\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            size=\"lg\"\r\n            className=\"flex-1 h-14 font-display text-xl font-bold border-0\"\r\n            onClick={handlePlay}\r\n            disabled={isLoading}\r\n            data-testid=\"button-play\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, #8b5cf6 0%, #00d4ff 100%)',\r\n              boxShadow: '0 0 30px hsl(270 60% 55% / 0.4), 0 0 60px hsl(195 100% 50% / 0.2)',\r\n            }}\r\n          >\r\n            <Play className=\"w-6 h-6 mr-2\" />\r\n            –ò–ì–†–ê–¢–¨\r\n          </Button>\r\n          <Button\r\n            size=\"lg\"\r\n            variant=\"outline\"\r\n            className=\"h-14 w-14 p-0\"\r\n            onClick={toggleSound}\r\n            data-testid=\"button-toggle-sound\"\r\n          >\r\n            {soundOn ? (\r\n              <Volume2 className=\"w-6 h-6\" />\r\n            ) : (\r\n              <VolumeX className=\"w-6 h-6 text-muted-foreground\" />\r\n            )}\r\n          </Button>\r\n        </div>\r\n\r\n        {user && (\r\n          <div className=\"flex gap-2 mt-3\">\r\n            <Card \r\n              className=\"flex-1 p-3 cursor-pointer hover-elevate active-elevate-2 border-0\"\r\n              onClick={onShop}\r\n              data-testid=\"button-shop\"\r\n              style={{\r\n                background: 'linear-gradient(135deg, #f7931a 0%, #ffcc00 100%)',\r\n                boxShadow: '0 0 15px rgba(247, 147, 26, 0.3)',\r\n              }}\r\n            >\r\n              <div className=\"flex flex-col items-center gap-1 text-center\">\r\n                <Zap className=\"w-6 h-6\" style={{ color: '#000' }} />\r\n                <span className=\"font-display text-sm font-semibold\" style={{ color: '#000' }}>–ë—É—Å—Ç—ã</span>\r\n              </div>\r\n            </Card>\r\n            \r\n            {onAccessoryShop && (\r\n              <Card \r\n                className=\"flex-1 p-3 cursor-pointer hover-elevate active-elevate-2 border-primary/30\"\r\n                onClick={onAccessoryShop}\r\n                data-testid=\"button-accessory-shop\"\r\n                style={{\r\n                  background: 'linear-gradient(135deg, hsl(270 60% 55% / 0.3) 0%, hsl(195 100% 50% / 0.2) 100%)',\r\n                  boxShadow: '0 0 15px hsl(270 60% 55% / 0.2)',\r\n                }}\r\n              >\r\n                <div className=\"flex flex-col items-center gap-1 text-center\">\r\n                  <Gift className=\"w-6 h-6\" style={{ color: '#a855f7' }} />\r\n                  <span className=\"font-display text-sm font-semibold\" style={{ color: '#a855f7' }}>–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</span>\r\n                </div>\r\n              </Card>\r\n            )}\r\n            \r\n            {onBeadsBox && (\r\n              <Card \r\n                className=\"flex-1 p-3 cursor-pointer hover-elevate active-elevate-2 border-0 relative overflow-visible\"\r\n                onClick={onBeadsBox}\r\n                data-testid=\"button-beads-box\"\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #10b981 0%, #34d399 100%)',\r\n                  boxShadow: '0 0 15px rgba(16, 185, 129, 0.4)',\r\n                }}\r\n              >\r\n                <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse\" />\r\n                <div className=\"flex flex-col items-center gap-1 text-center\">\r\n                  <Gift className=\"w-6 h-6\" style={{ color: '#000' }} />\r\n                  <span className=\"font-display text-sm font-semibold\" style={{ color: '#000' }}>BEADS BOX</span>\r\n                </div>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {user?.isAdmin && (\r\n          <Link href=\"/admin\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"w-full font-display mt-3\"\r\n              data-testid=\"button-admin\"\r\n            >\r\n              <Settings className=\"w-5 h-5 mr-2\" />\r\n              –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å\r\n            </Button>\r\n          </Link>\r\n        )}\r\n      </motion.div>\r\n\r\n      <AnimatePresence>\r\n        {showReferral && referralInfo && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0, marginTop: 0 }}\r\n            animate={{ opacity: 1, height: 'auto', marginTop: 16 }}\r\n            exit={{ opacity: 0, height: 0, marginTop: 0 }}\r\n            className=\"w-full max-w-sm overflow-hidden\"\r\n          >\r\n            <Card className=\"p-4 relative border-primary/20\">\r\n              <Button\r\n                size=\"icon\"\r\n                variant=\"ghost\"\r\n                className=\"absolute top-2 right-2 h-6 w-6\"\r\n                onClick={() => setShowReferral(false)}\r\n                data-testid=\"button-close-referral\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </Button>\r\n              \r\n              <div className=\"mb-3\">\r\n                <h3 className=\"font-display font-semibold text-lg flex items-center gap-2\">\r\n                  <Gift className=\"w-5 h-5\" style={{ color: '#00ff88' }} />\r\n                  {referralConfig?.title || '–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞'}\r\n                </h3>\r\n                <p className=\"text-sm text-muted-foreground mt-1\">\r\n                  {referralConfig?.description || '–ó–æ–≤–∏ –¥—Ä—É–∑–µ–π ‚Äî –ø–æ–ª—É—á–∞–π 10% –∏—Ö Beads!'}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <div className=\"bg-muted/50 rounded-lg p-3\">\r\n                  <div className=\"text-xs text-muted-foreground mb-1\">–¢–≤–æ—è —Å—Å—ã–ª–∫–∞:</div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <code className=\"flex-1 text-xs bg-background rounded px-2 py-1.5 truncate\" data-testid=\"text-referral-link\">\r\n                      {referralInfo.referralLink}\r\n                    </code>\r\n                    <Button\r\n                      size=\"icon\"\r\n                      variant=\"secondary\"\r\n                      className=\"shrink-0\"\r\n                      onClick={() => setShowQRModal(true)}\r\n                      data-testid=\"button-qr-code\"\r\n                    >\r\n                      <QrCode className=\"w-4 h-4\" style={{ color: '#8b5cf6' }} />\r\n                    </Button>\r\n                    <Button\r\n                      size=\"icon\"\r\n                      variant=\"secondary\"\r\n                      className=\"shrink-0\"\r\n                      onClick={copyReferralLink}\r\n                      data-testid=\"button-copy-referral\"\r\n                    >\r\n                      {copied ? <Check className=\"w-4 h-4\" style={{ color: '#00ff88' }} /> : <Copy className=\"w-4 h-4\" />}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-3 gap-2 text-center\">\r\n                  <div className=\"bg-muted/30 rounded-lg p-2\">\r\n                    <div className=\"text-xs text-muted-foreground\">–î—Ä—É–∑–µ–π</div>\r\n                    <div className=\"font-display font-bold text-lg\" data-testid=\"text-referrals-count\">\r\n                      {referralInfo.directReferralsCount}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-muted/30 rounded-lg p-2\">\r\n                    <div className=\"text-xs text-muted-foreground\">–ú–æ–π %</div>\r\n                    <div className=\"font-display font-bold text-lg\" style={{ color: '#00ff88' }} data-testid=\"text-referral-rewards\">\r\n                      {referralInfo.totalEarnedBeads.toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-muted/30 rounded-lg p-2\">\r\n                    <div className=\"text-xs text-muted-foreground\">–ò—Ö Beads</div>\r\n                    <div className=\"font-display font-bold text-lg\" style={{ color: '#00d4ff' }} data-testid=\"text-referrals-total-beads\">\r\n                      {referralInfo.referralsTotalBeads.toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className=\"w-full mt-2\"\r\n                  onClick={() => setShowReferralStats(true)}\r\n                  data-testid=\"button-referral-stats\"\r\n                >\r\n                  <Users className=\"w-4 h-4 mr-2\" />\r\n                  –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\r\n                </Button>\r\n              </div>\r\n            </Card>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      <AnimatePresence>\r\n        {showReferralStats && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.85)' }}\r\n            onClick={() => setShowReferralStats(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"w-full max-w-md max-h-[80vh] overflow-hidden\"\r\n            >\r\n              <Card \r\n                className=\"p-4 border-primary/30 flex flex-col max-h-[80vh]\"\r\n                style={{ \r\n                  background: 'linear-gradient(180deg, #1a1a2e 0%, #16161a 100%)',\r\n                  boxShadow: '0 0 40px hsl(155 100% 50% / 0.2)',\r\n                }}\r\n              >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"font-display font-bold text-xl flex items-center gap-2\">\r\n                    <Users className=\"w-5 h-5\" style={{ color: '#00ff88' }} />\r\n                    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n                  </h3>\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => setShowReferralStats(false)}\r\n                    data-testid=\"button-close-referral-stats\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n                  <div className=\"bg-muted/30 rounded-lg p-3 text-center\">\r\n                    <div className=\"text-xs text-muted-foreground\">–£—Ä–æ–≤–µ–Ω—å 1</div>\r\n                    <div className=\"font-display font-bold text-lg\" style={{ color: '#00ff88' }}>\r\n                      {referralInfo?.directReferralsCount || 0}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      +{referralConfig?.level1RewardPercent || 10}%\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-muted/30 rounded-lg p-3 text-center\">\r\n                    <div className=\"text-xs text-muted-foreground\">–£—Ä–æ–≤–µ–Ω—å 2</div>\r\n                    <div className=\"font-display font-bold text-lg\" style={{ color: '#8b5cf6' }}>\r\n                      {referralList?.level2Count || 0}\r\n                    </div>\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      +{referralConfig?.level2RewardPercent || 3}%\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-muted/30 rounded-lg p-3 text-center\">\r\n                    <div className=\"text-xs text-muted-foreground\">–í—Å–µ–≥–æ Beads</div>\r\n                    <div className=\"font-display font-bold text-lg\" style={{ color: '#00d4ff' }}>\r\n                      {referralInfo?.totalEarnedBeads?.toLocaleString() || 0}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex-1 overflow-y-auto space-y-4\">\r\n                  {/* –°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 1-–≥–æ —É—Ä–æ–≤–Ω—è */}\r\n                  {referralList?.referrals && referralList.referrals.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"text-sm font-semibold mb-2 flex items-center gap-2\">\r\n                        <UserPlus className=\"w-4 h-4\" style={{ color: '#00ff88' }} />\r\n                        –£—Ä–æ–≤–µ–Ω—å 1 ({referralList.referrals.length})\r\n                      </h4>\r\n                      <div className=\"space-y-2 max-h-[120px] overflow-y-auto\">\r\n                        {referralList.referrals.map((ref) => (\r\n                          <div\r\n                            key={ref.id}\r\n                            className=\"flex items-center justify-between bg-muted/20 rounded-lg p-2\"\r\n                            data-testid={`referral-item-${ref.id}`}\r\n                          >\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Avatar className=\"w-8 h-8\">\r\n                                <AvatarFallback className=\"text-xs\" style={{ backgroundColor: 'rgba(0, 255, 136, 0.2)', color: '#00ff88' }}>\r\n                                  {ref.username.substring(0, 2).toUpperCase()}\r\n                                </AvatarFallback>\r\n                              </Avatar>\r\n                              <div>\r\n                                <div className=\"text-sm font-medium\">{ref.username}</div>\r\n                                <div className=\"text-xs text-muted-foreground\">\r\n                                  {ref.gamesPlayed} –∏–≥—Ä\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                              <div className=\"text-sm font-bold\" style={{ color: '#00ff88' }}>\r\n                                +{ref.earnedFromRef}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* –°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 2-–≥–æ —É—Ä–æ–≤–Ω—è */}\r\n                  {referralList?.level2Referrals && referralList.level2Referrals.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"text-sm font-semibold mb-2 flex items-center gap-2\">\r\n                        <Users className=\"w-4 h-4\" style={{ color: '#8b5cf6' }} />\r\n                        –£—Ä–æ–≤–µ–Ω—å 2 ({referralList.level2Referrals.length})\r\n                      </h4>\r\n                      <div className=\"space-y-2 max-h-[120px] overflow-y-auto\">\r\n                        {referralList.level2Referrals.map((ref) => (\r\n                          <div\r\n                            key={ref.id}\r\n                            className=\"flex items-center justify-between bg-muted/20 rounded-lg p-2\"\r\n                            data-testid={`referral-l2-item-${ref.id}`}\r\n                          >\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Avatar className=\"w-8 h-8\">\r\n                                <AvatarFallback className=\"text-xs\" style={{ backgroundColor: 'rgba(139, 92, 246, 0.2)', color: '#8b5cf6' }}>\r\n                                  {ref.username.substring(0, 2).toUpperCase()}\r\n                                </AvatarFallback>\r\n                              </Avatar>\r\n                              <div>\r\n                                <div className=\"text-sm font-medium\">{ref.username}</div>\r\n                                <div className=\"text-xs text-muted-foreground\">\r\n                                  –æ—Ç {ref.invitedBy} ‚Ä¢ {ref.gamesPlayed} –∏–≥—Ä\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                              <div className=\"text-sm font-bold\" style={{ color: '#8b5cf6' }}>\r\n                                +{ref.earnedFromRef}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* –ò—Å—Ç–æ—Ä–∏—è –Ω–∞–≥—Ä–∞–¥ */}\r\n                  {referralRewards?.rewards && referralRewards.rewards.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"text-sm font-semibold mb-2 flex items-center gap-2\">\r\n                        <Gift className=\"w-4 h-4\" style={{ color: '#8b5cf6' }} />\r\n                        –ò—Å—Ç–æ—Ä–∏—è –Ω–∞–≥—Ä–∞–¥\r\n                      </h4>\r\n                      <div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\r\n                        {referralRewards.rewards.slice(0, 20).map((reward) => (\r\n                          <div\r\n                            key={reward.id}\r\n                            className=\"flex items-center justify-between bg-muted/20 rounded-lg p-2\"\r\n                            data-testid={`reward-item-${reward.id}`}\r\n                          >\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <div \r\n                                className=\"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold\"\r\n                                style={{ \r\n                                  backgroundColor: reward.level === 1 ? 'rgba(0, 255, 136, 0.2)' : 'rgba(139, 92, 246, 0.2)',\r\n                                  color: reward.level === 1 ? '#00ff88' : '#8b5cf6'\r\n                                }}\r\n                              >\r\n                                L{reward.level}\r\n                              </div>\r\n                              <div>\r\n                                <div className=\"text-sm\">{reward.refUsername}</div>\r\n                                <div className=\"text-xs text-muted-foreground\">\r\n                                  {new Date(reward.createdAt).toLocaleDateString('ru-RU', { \r\n                                    day: 'numeric', \r\n                                    month: 'short',\r\n                                    hour: '2-digit',\r\n                                    minute: '2-digit'\r\n                                  })}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div \r\n                              className=\"font-bold\"\r\n                              style={{ color: '#00ff88' }}\r\n                            >\r\n                              +{reward.beadsAmount}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {(!referralList?.referrals || referralList.referrals.length === 0) && \r\n                   (!referralList?.level2Referrals || referralList.level2Referrals.length === 0) &&\r\n                   (!referralRewards?.rewards || referralRewards.rewards.length === 0) && (\r\n                    <div className=\"text-center py-8 text-muted-foreground\">\r\n                      <UserPlus className=\"w-12 h-12 mx-auto mb-3 opacity-30\" />\r\n                      <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤</p>\r\n                      <p className=\"text-sm mt-1\">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–∑—å—è–º–∏!</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Card>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      <AnimatePresence>\r\n        {showQRModal && qrCodeDataUrl && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n            style={{ backgroundColor: 'rgba(0, 0, 0, 0.8)' }}\r\n            onClick={() => setShowQRModal(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n              onClick={(e) => e.stopPropagation()}\r\n              className=\"w-full max-w-sm\"\r\n            >\r\n              <Card \r\n                className=\"p-6 border-primary/30\"\r\n                style={{ \r\n                  background: 'linear-gradient(180deg, #1a1a2e 0%, #16161a 100%)',\r\n                  boxShadow: '0 0 40px hsl(270 60% 55% / 0.3)',\r\n                }}\r\n              >\r\n                <div className=\"text-center mb-4\">\r\n                  <h3 className=\"font-display font-bold text-xl flex items-center justify-center gap-2\">\r\n                    <QrCode className=\"w-5 h-5\" style={{ color: '#8b5cf6' }} />\r\n                    QR-–∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è\r\n                  </h3>\r\n                </div>\r\n\r\n                <div \r\n                  className=\"flex justify-center mb-4 rounded-lg overflow-hidden\"\r\n                  style={{ \r\n                    boxShadow: '0 0 30px hsl(270 60% 55% / 0.4)',\r\n                  }}\r\n                >\r\n                  <img \r\n                    src={qrCodeDataUrl} \r\n                    alt=\"Referral QR Code\" \r\n                    className=\"w-[300px] h-[300px]\"\r\n                    data-testid=\"img-qr-code\"\r\n                  />\r\n                </div>\r\n\r\n                <p \r\n                  className=\"text-center text-sm mb-4\"\r\n                  style={{ color: '#8b5cf6' }}\r\n                >\r\n                  –î–∞–π –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–∑—å—è–º!\r\n                </p>\r\n\r\n                <div className=\"flex gap-3\">\r\n                  <Button\r\n                    className=\"flex-1 font-display\"\r\n                    onClick={saveQRCode}\r\n                    data-testid=\"button-save-qr\"\r\n                    style={{\r\n                      background: 'linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)',\r\n                    }}\r\n                  >\r\n                    <Download className=\"w-4 h-4 mr-2\" />\r\n                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"flex-1 font-display\"\r\n                    onClick={() => setShowQRModal(false)}\r\n                    data-testid=\"button-close-qr\"\r\n                  >\r\n                    <X className=\"w-4 h-4 mr-2\" />\r\n                    –ó–∞–∫—Ä—ã—Ç—å\r\n                  </Button>\r\n                </div>\r\n              </Card>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {showCharacterSetup && (\r\n        <CharacterSetup onComplete={() => setShowCharacterSetup(false)} />\r\n      )}\r\n\r\n      <div className=\"fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur border-t border-border safe-area-inset-bottom\">\r\n        <div className=\"flex justify-around py-2 px-4 max-w-sm mx-auto\">\r\n          <button \r\n            className=\"flex flex-col items-center gap-1 p-2 text-muted-foreground hover:text-primary transition-colors relative\"\r\n            onClick={onLeaderboard}\r\n            data-testid=\"nav-rankings\"\r\n          >\r\n            <Trophy className=\"w-5 h-5\" style={{ color: '#f7931a' }} />\r\n            <span className=\"text-xs\">–†–µ–π—Ç–∏–Ω–≥</span>\r\n          </button>\r\n          <button \r\n            className=\"flex flex-col items-center gap-1 p-2 text-muted-foreground hover:text-primary transition-colors relative\"\r\n            onClick={() => navigate(userLeague ? `/league/${userLeague.league.slug}` : '/league/bronze')}\r\n            data-testid=\"nav-leagues\"\r\n          >\r\n            <div className=\"relative\">\r\n              {userLeague ? (\r\n                <span className=\"text-xl\" style={{ color: userLeague.league.themeColor }}>{userLeague.league.icon}</span>\r\n              ) : (\r\n                <>\r\n                  <Award className=\"w-5 h-5\" style={{ color: '#c0c0c0' }} />\r\n                  <span \r\n                    className=\"absolute -top-1 -right-2 text-[10px] font-bold\"\r\n                    style={{ color: '#c0c0c0' }}\r\n                  >\r\n                    ?\r\n                  </span>\r\n                </>\r\n              )}\r\n            </div>\r\n            <span className=\"text-xs\">–õ–∏–≥–∏</span>\r\n          </button>\r\n          <button \r\n            className=\"flex flex-col items-center gap-1 p-2 text-muted-foreground hover:text-primary transition-colors relative\"\r\n            data-testid=\"nav-achievements\"\r\n          >\r\n            <div className=\"relative\">\r\n              <Target className=\"w-5 h-5\" style={{ color: '#8b5cf6' }} />\r\n              <span \r\n                className=\"absolute -top-1 -right-3 text-[10px] px-1 rounded-full font-bold\"\r\n                style={{ backgroundColor: '#00ff88', color: '#000' }}\r\n              >\r\n                2/5\r\n              </span>\r\n            </div>\r\n            <span className=\"text-xs\">–ö–≤–µ—Å—Ç—ã</span>\r\n          </button>\r\n          <button \r\n            className=\"flex flex-col items-center gap-1 p-2 text-muted-foreground hover:text-primary transition-colors\"\r\n            onClick={() => navigate('/withdraw')}\r\n            data-testid=\"nav-withdraw\"\r\n          >\r\n            <ArrowDownToLine className=\"w-5 h-5\" style={{ color: '#00ff88' }} />\r\n            <span className=\"text-xs\">–í—ã–≤–æ–¥</span>\r\n          </button>\r\n        </div>\r\n        <div className=\"text-center py-1 text-[10px] text-muted-foreground/50\">\r\n          v{APP_VERSION}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}