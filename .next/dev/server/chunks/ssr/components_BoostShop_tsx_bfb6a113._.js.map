{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///D:/BeadsLine/components/BoostShop.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport type { Boost, BoostPackage } from '@shared/schema';\r\nimport { useQuery, useMutation } from '@tanstack/react-query';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog';\r\nimport { ArrowLeft, Zap, Bomb, Timer, RotateCcw, Sparkles, ShoppingCart, Loader2, Shield, Magnet, Crosshair, Info, Star, Gift, Heart, Crown, Flame, Package, Copy, Check, Wallet, Clock } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { queryClient, apiRequest } from '@/lib/queryClient';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { useUser } from '@/contexts/UserContext';\r\nimport { isTelegramWebApp, openTelegramInvoice, showTelegramAlert } from '@/lib/telegram';\r\n\r\ninterface BoostShopProps {\r\n  onBack: () => void;\r\n}\r\n\r\ninterface InventoryItem {\r\n  id: string;\r\n  boostId: string;\r\n  quantity: number;\r\n  boost: Boost;\r\n}\r\n\r\nconst BOOST_ICONS: Record<string, typeof Zap> = {\r\n  slowdown: Timer,\r\n  bomb: Bomb,\r\n  rainbow: Sparkles,\r\n  rewind: RotateCcw,\r\n  shield: Shield,\r\n  magnet: Magnet,\r\n  laser: Crosshair,\r\n};\r\n\r\nconst BOOST_COLORS: Record<string, { bg: string; border: string; text: string; glow: string }> = {\r\n  slowdown: { bg: 'rgba(59, 130, 246, 0.15)', border: 'rgba(59, 130, 246, 0.3)', text: '#3b82f6', glow: '#3b82f650' },\r\n  bomb: { bg: 'rgba(239, 68, 68, 0.15)', border: 'rgba(239, 68, 68, 0.3)', text: '#ef4444', glow: '#ef444450' },\r\n  rainbow: { bg: 'rgba(168, 85, 247, 0.15)', border: 'rgba(168, 85, 247, 0.3)', text: '#a855f7', glow: '#a855f750' },\r\n  rewind: { bg: 'rgba(34, 197, 94, 0.15)', border: 'rgba(34, 197, 94, 0.3)', text: '#22c55e', glow: '#22c55e50' },\r\n  shield: { bg: 'rgba(6, 182, 212, 0.15)', border: 'rgba(6, 182, 212, 0.3)', text: '#06b6d4', glow: '#06b6d450' },\r\n  magnet: { bg: 'rgba(249, 115, 22, 0.15)', border: 'rgba(249, 115, 22, 0.3)', text: '#f97316', glow: '#f9731650' },\r\n  laser: { bg: 'rgba(234, 179, 8, 0.15)', border: 'rgba(234, 179, 8, 0.3)', text: '#eab308', glow: '#eab30850' },\r\n};\r\n\r\nconst BOOST_FULL_DESCRIPTIONS: Record<string, string> = {\r\n  slowdown: 'Замедляет движение всех шаров на 5 секунд. Даёт вам больше времени для прицеливания и создания комбинаций. Особенно полезен на сложных уровнях с быстрым движением шаров.',\r\n  bomb: 'Следующий ваш выстрел взрывает область вокруг места попадания, уничтожая до 5 ближайших шаров независимо от их цвета. Отличный способ быстро очистить опасную зону.',\r\n  rainbow: 'Следующий выпущенный шар становится \"радужным\" - он автоматически принимает цвет соседнего шара при попадании, гарантируя создание комбинации минимум из 3 шаров.',\r\n  rewind: 'Мгновенно откатывает все шары на 20% назад по пути. Используйте когда шары подошли слишком близко к концу и нужно выиграть время.',\r\n  shield: 'Создаёт защитный барьер, который блокирует одну потерю жизни. Когда шары достигают конца пути, щит поглощает удар вместо снятия жизни. Одноразовая защита.',\r\n  magnet: 'При следующем выстреле притягивает все шары того же цвета ближе к месту попадания. Помогает собрать разбросанные шары одного цвета для создания комбинации.',\r\n  laser: 'Следующий выстрел становится лазерным лучом, который пробивает насквозь до 3 шаров подряд, уничтожая их. Не вставляет шар в цепочку, а просто удаляет шары на пути.',\r\n};\r\n\r\nconst PACKAGE_STYLES: Record<string, { gradient: string; border: string; glow: string }> = {\r\n  default: { \r\n    gradient: 'linear-gradient(135deg, hsl(230 30% 15%) 0%, hsl(230 30% 20%) 100%)',\r\n    border: 'hsl(230 30% 30%)',\r\n    glow: 'none'\r\n  },\r\n  hot: { \r\n    gradient: 'linear-gradient(135deg, hsl(15 80% 15%) 0%, hsl(30 70% 20%) 100%)',\r\n    border: 'hsl(25 100% 50%)',\r\n    glow: '0 0 30px hsl(25 100% 50% / 0.3)'\r\n  },\r\n  best_value: { \r\n    gradient: 'linear-gradient(135deg, hsl(45 80% 10%) 0%, hsl(35 70% 15%) 100%)',\r\n    border: 'hsl(45 100% 50%)',\r\n    glow: '0 0 40px hsl(45 100% 50% / 0.4)'\r\n  },\r\n};\r\n\r\nfunction PackageCard({\r\n  pkg,\r\n  boostCount,\r\n  onBuy,\r\n  isPurchasing,\r\n  isHighlighted,\r\n}: {\r\n  pkg: BoostPackage;\r\n  boostCount: number;\r\n  onBuy: (pkgId: string) => void;\r\n  isPurchasing: boolean;\r\n  isHighlighted?: boolean;\r\n}) {\r\n  const style = PACKAGE_STYLES[pkg.badge || 'default'] || PACKAGE_STYLES.default;\r\n  const totalBoosts = pkg.boostsPerType * boostCount;\r\n  const hasDiscount = pkg.originalPriceStars && pkg.originalPriceStars > pkg.priceStars;\r\n  const discountPercent = hasDiscount \r\n    ? Math.round((1 - pkg.priceStars / (pkg.originalPriceStars || pkg.priceStars)) * 100) \r\n    : 0;\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      whileHover={{ scale: 1.03 }}\r\n      whileTap={{ scale: 0.98 }}\r\n      className={`relative h-full ${isHighlighted ? 'z-10' : ''}`}\r\n    >\r\n      <Card\r\n        className={`relative overflow-hidden p-4 h-full flex flex-col ${isHighlighted ? 'ring-2 ring-offset-2 ring-offset-background' : ''}`}\r\n        style={{\r\n          background: style.gradient,\r\n          borderColor: style.border,\r\n          borderWidth: pkg.badge ? '2px' : '1px',\r\n          boxShadow: style.glow,\r\n        }}\r\n      >\r\n        {pkg.badge && (\r\n          <div \r\n            className=\"absolute top-2 left-1/2 -translate-x-1/2 px-4 py-1 rounded-full text-xs font-bold z-10\"\r\n            style={{\r\n              backgroundColor: pkg.badge === 'hot' ? 'hsl(25 100% 50%)' : 'hsl(45 100% 50%)',\r\n              color: '#000',\r\n              boxShadow: `0 0 15px ${pkg.badge === 'hot' ? 'hsl(25 100% 50% / 0.5)' : 'hsl(45 100% 50% / 0.5)'}`,\r\n            }}\r\n          >\r\n            {pkg.badge === 'hot' ? (\r\n              <span className=\"flex items-center gap-1\">\r\n                <Flame className=\"w-3 h-3\" />\r\n                {pkg.badgeText || 'ХИТ ПРОДАЖ'}\r\n              </span>\r\n            ) : (\r\n              <span className=\"flex items-center gap-1\">\r\n                <Crown className=\"w-3 h-3\" />\r\n                {pkg.badgeText || 'VIP'}\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        <div className={`text-center flex-1 ${pkg.badge ? 'pt-8' : 'pt-2'}`}>\r\n          <div className=\"flex items-center justify-center gap-2 mb-1\">\r\n            <Package className=\"w-5 h-5\" style={{ color: pkg.badge === 'best_value' ? '#ffd700' : pkg.badge === 'hot' ? '#ff6b35' : '#00ff88' }} />\r\n            <h3 className=\"font-bold text-lg\">{pkg.nameRu}</h3>\r\n          </div>\r\n          \r\n          <div className=\"text-3xl font-black my-3\" style={{ \r\n            color: pkg.badge === 'best_value' ? '#ffd700' : pkg.badge === 'hot' ? '#ff6b35' : '#00ff88',\r\n            textShadow: `0 0 20px ${pkg.badge === 'best_value' ? '#ffd70050' : pkg.badge === 'hot' ? '#ff6b3550' : '#00ff8850'}`,\r\n          }}>\r\n            {totalBoosts} бустов\r\n          </div>\r\n\r\n          <p className=\"text-xs text-muted-foreground mb-3\">\r\n            {pkg.boostsPerType} шт. каждого типа\r\n          </p>\r\n\r\n          {pkg.bonusLives > 0 && (\r\n            <div className=\"flex items-center justify-center gap-1.5 mb-3 text-rose-400\">\r\n              <Heart className=\"w-4 h-4 fill-current\" />\r\n              <span className=\"text-sm font-medium\">+{pkg.bonusLives} жизней</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex flex-col items-center gap-2 mt-auto pt-4\">\r\n          <div className=\"flex items-center gap-2\">\r\n            {hasDiscount && (\r\n              <span className=\"text-muted-foreground line-through text-sm\">\r\n                {pkg.originalPriceStars} ⭐\r\n              </span>\r\n            )}\r\n            <span className=\"text-2xl font-bold flex items-center gap-1\">\r\n              <Star className=\"w-5 h-5 text-yellow-400 fill-yellow-400\" />\r\n              {pkg.priceStars}\r\n            </span>\r\n            {pkg.priceUsd && (\r\n              <span className=\"text-lg font-semibold text-green-400\">\r\n                / ${parseFloat(pkg.priceUsd).toFixed(2)}\r\n              </span>\r\n            )}\r\n            {hasDiscount && (\r\n              <Badge variant=\"destructive\" className=\"text-xs\">\r\n                -{discountPercent}%\r\n              </Badge>\r\n            )}\r\n          </div>\r\n\r\n          <Button\r\n            className=\"w-full\"\r\n            size=\"lg\"\r\n            onClick={() => onBuy(pkg.id)}\r\n            disabled={isPurchasing}\r\n            style={{\r\n              background: pkg.badge === 'best_value' \r\n                ? 'linear-gradient(135deg, #ffd700 0%, #ff8c00 100%)'\r\n                : pkg.badge === 'hot'\r\n                  ? 'linear-gradient(135deg, #ff6b35 0%, #f7931e 100%)'\r\n                  : 'linear-gradient(135deg, #00ff88 0%, #00cc6a 100%)',\r\n              color: '#000',\r\n              fontWeight: 'bold',\r\n            }}\r\n            data-testid={`button-buy-package-${pkg.name}`}\r\n          >\r\n            {isPurchasing ? (\r\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n            ) : (\r\n              <>\r\n                <Gift className=\"w-5 h-5 mr-2\" />\r\n                Купить за {pkg.priceStars} ⭐\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nfunction MiniBeadsLogo({ size = 18 }: { size?: number }) {\r\n  return (\r\n    <div \r\n      className=\"relative flex items-center justify-center rounded-full\"\r\n      style={{ \r\n        width: size, \r\n        height: size,\r\n        background: 'radial-gradient(circle at 30% 30%, hsl(155 100% 50% / 0.25), hsl(270 60% 30% / 0.3) 70%)',\r\n        border: '1px solid hsl(155 100% 50% / 0.4)',\r\n      }}\r\n    >\r\n      <span \r\n        className=\"font-bold\"\r\n        style={{ \r\n          fontSize: size * 0.5,\r\n          color: '#00ff88',\r\n          textShadow: '0 0 4px #00ff88',\r\n          lineHeight: 1,\r\n        }}\r\n      >\r\n        B\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction BoostCard({ \r\n  boost, \r\n  ownedQuantity, \r\n  userBalance,\r\n  onBuy,\r\n  isPurchasing,\r\n  onShowDetails,\r\n}: { \r\n  boost: Boost; \r\n  ownedQuantity: number;\r\n  userBalance: number;\r\n  onBuy: (boostId: string) => void;\r\n  isPurchasing: boolean;\r\n  onShowDetails: (boost: Boost) => void;\r\n}) {\r\n  const Icon = BOOST_ICONS[boost.type] || Zap;\r\n  const colors = BOOST_COLORS[boost.type] || BOOST_COLORS.slowdown;\r\n  const canAfford = userBalance >= boost.price;\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      whileHover={{ scale: 1.02 }}\r\n      whileTap={{ scale: 0.98 }}\r\n    >\r\n      <Card \r\n        className=\"relative p-4 overflow-hidden cursor-pointer\"\r\n        onClick={() => onShowDetails(boost)}\r\n        style={{ \r\n          backgroundColor: colors.bg,\r\n          border: `1px solid ${colors.border}`,\r\n          boxShadow: `0 0 20px ${colors.glow}`,\r\n        }}\r\n      >\r\n        {ownedQuantity > 0 && (\r\n          <Badge \r\n            className=\"absolute top-2 right-10\"\r\n            style={{ backgroundColor: colors.text, color: '#fff' }}\r\n          >\r\n            x{ownedQuantity}\r\n          </Badge>\r\n        )}\r\n        \r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          className=\"absolute top-2 right-2 h-6 w-6\"\r\n          onClick={(e) => { e.stopPropagation(); onShowDetails(boost); }}\r\n          data-testid={`button-info-${boost.type}`}\r\n        >\r\n          <Info className=\"w-4 h-4\" style={{ color: colors.text }} />\r\n        </Button>\r\n        \r\n        <div className=\"flex items-start gap-3\">\r\n          <div \r\n            className=\"w-12 h-12 rounded-xl flex items-center justify-center shrink-0\"\r\n            style={{ \r\n              backgroundColor: colors.text,\r\n              boxShadow: `0 0 15px ${colors.text}, 0 0 30px ${colors.glow}`,\r\n            }}\r\n          >\r\n            <Icon className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          \r\n          <div className=\"flex-1 min-w-0\">\r\n            <h3 className=\"font-bold text-base\" style={{ color: colors.text }}>\r\n              {boost.nameRu}\r\n            </h3>\r\n            <p className=\"text-xs text-muted-foreground mt-1 line-clamp-2\">\r\n              {boost.descriptionRu}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between mt-3 pt-3 border-t border-border/30\">\r\n          <div className=\"flex items-center gap-1.5\">\r\n            <MiniBeadsLogo size={18} />\r\n            <span className=\"font-bold text-sm\" style={{ color: '#00ff88' }}>\r\n              {boost.price}\r\n            </span>\r\n          </div>\r\n          \r\n          <Button\r\n            size=\"sm\"\r\n            onClick={(e) => { e.stopPropagation(); onBuy(boost.id); }}\r\n            disabled={!canAfford || isPurchasing}\r\n            data-testid={`button-buy-boost-${boost.type}`}\r\n            style={canAfford ? {\r\n              backgroundColor: colors.text,\r\n              boxShadow: `0 0 10px ${colors.glow}`,\r\n            } : undefined}\r\n          >\r\n            {isPurchasing ? (\r\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n            ) : (\r\n              <>\r\n                <ShoppingCart className=\"w-4 h-4 mr-1\" />\r\n                Купить\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport function BoostShop({ onBack }: BoostShopProps) {\r\n  const { user, refreshUser } = useUser();\r\n  const { toast } = useToast();\r\n  const [purchasingId, setPurchasingId] = useState<string | null>(null);\r\n  const [purchasingPackageId, setPurchasingPackageId] = useState<string | null>(null);\r\n  const [selectedBoost, setSelectedBoost] = useState<Boost | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'packages' | 'single'>('packages');\r\n  \r\n  // Payment method selection\r\n  const [paymentMethodDialogOpen, setPaymentMethodDialogOpen] = useState(false);\r\n  const [selectedPackageForPayment, setSelectedPackageForPayment] = useState<BoostPackage | null>(null);\r\n  \r\n  // Crypto payment states\r\n  const [cryptoDialogOpen, setCryptoDialogOpen] = useState(false);\r\n  const [selectedNetwork, setSelectedNetwork] = useState<string | null>(null);\r\n  const [copiedAddress, setCopiedAddress] = useState(false);\r\n  const [cryptoPaymentSent, setCryptoPaymentSent] = useState(false);\r\n\r\n  // Fetch crypto wallet addresses\r\n  const { data: cryptoWallets } = useQuery<{\r\n    usdt_trc20: string;\r\n    usdt_bep20: string;\r\n    usdt_erc20: string;\r\n    usdt_ton: string;\r\n  }>({\r\n    queryKey: ['/api/crypto-wallets'],\r\n  });\r\n\r\n  const { data: boosts = [], isLoading: boostsLoading } = useQuery<Boost[]>({\r\n    queryKey: ['/api/boosts'],\r\n  });\r\n\r\n  const { data: packages = [], isLoading: packagesLoading } = useQuery<BoostPackage[]>({\r\n    queryKey: ['/api/boost-packages'],\r\n  });\r\n\r\n  // Check for pending crypto payments to enable auto-refresh\r\n  const { data: pendingPayments = [] } = useQuery<Array<{ id: string; status: string }>>({\r\n    queryKey: ['/api/user/crypto-payments'],\r\n    enabled: !!user,\r\n    refetchInterval: 10000, // Check every 10 seconds\r\n  });\r\n\r\n  const hasPendingPayments = pendingPayments.some(p => p.status === 'pending');\r\n\r\n  const { data: inventory = [] } = useQuery<InventoryItem[]>({\r\n    queryKey: ['/api/user/boosts'],\r\n    enabled: !!user,\r\n    refetchInterval: hasPendingPayments ? 5000 : false, // Auto-refresh every 5s if pending payments\r\n  });\r\n\r\n  const buyMutation = useMutation({\r\n    mutationFn: async (boostId: string) => {\r\n      const response = await apiRequest('POST', '/api/boosts/buy', { boostId });\r\n      return response.json();\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['/api/user/boosts'] });\r\n      refreshUser();\r\n      toast({\r\n        title: \"Буст куплен!\",\r\n        description: \"Используйте его во время игры\",\r\n      });\r\n    },\r\n    onError: (error: Error) => {\r\n      toast({\r\n        title: \"Ошибка\",\r\n        description: error.message || \"Не удалось купить буст\",\r\n        variant: \"destructive\",\r\n      });\r\n    },\r\n    onSettled: () => {\r\n      setPurchasingId(null);\r\n    },\r\n  });\r\n\r\n  const createInvoiceMutation = useMutation({\r\n    mutationFn: async (packageId: string) => {\r\n      const response = await apiRequest('POST', `/api/boost-packages/${packageId}/create-invoice`);\r\n      return response.json();\r\n    },\r\n    onSuccess: (data, packageId) => {\r\n      if (data.invoiceUrl) {\r\n        // Open Telegram Stars payment dialog\r\n        if (isTelegramWebApp()) {\r\n          openTelegramInvoice(data.invoiceUrl, (status) => {\r\n            setPurchasingPackageId(null);\r\n            if (status === 'paid') {\r\n              // Payment successful - refresh data\r\n              queryClient.invalidateQueries({ queryKey: ['/api/user/boosts'] });\r\n              refreshUser();\r\n              toast({\r\n                title: \"Оплата успешна!\",\r\n                description: \"Бусты добавлены в ваш инвентарь\",\r\n              });\r\n            } else if (status === 'cancelled') {\r\n              toast({\r\n                title: \"Оплата отменена\",\r\n                description: \"Вы можете попробовать снова\",\r\n              });\r\n            } else if (status === 'failed') {\r\n              toast({\r\n                title: \"Ошибка оплаты\",\r\n                description: \"Попробуйте ещё раз\",\r\n                variant: \"destructive\",\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          // Not in Telegram - show error\r\n          toast({\r\n            title: \"Недоступно\",\r\n            description: \"Оплата Stars доступна только в Telegram\",\r\n            variant: \"destructive\",\r\n          });\r\n          setPurchasingPackageId(null);\r\n        }\r\n      }\r\n    },\r\n    onError: (error: Error) => {\r\n      toast({\r\n        title: \"Ошибка\",\r\n        description: error.message || \"Не удалось создать счёт\",\r\n        variant: \"destructive\",\r\n      });\r\n      setPurchasingPackageId(null);\r\n    },\r\n  });\r\n\r\n  const handleBuy = (boostId: string) => {\r\n    setPurchasingId(boostId);\r\n    buyMutation.mutate(boostId);\r\n  };\r\n\r\n  // Open payment method selection dialog\r\n  const handleBuyPackage = (packageId: string) => {\r\n    const pkg = packages.find(p => p.id === packageId);\r\n    if (pkg) {\r\n      setSelectedPackageForPayment(pkg);\r\n      setPaymentMethodDialogOpen(true);\r\n    }\r\n  };\r\n\r\n  // Pay with Telegram Stars\r\n  const handlePayWithStars = () => {\r\n    if (!selectedPackageForPayment) return;\r\n    \r\n    if (!isTelegramWebApp()) {\r\n      toast({\r\n        title: \"Недоступно\",\r\n        description: \"Оплата Stars доступна только в Telegram\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n    \r\n    setPaymentMethodDialogOpen(false);\r\n    setPurchasingPackageId(selectedPackageForPayment.id);\r\n    createInvoiceMutation.mutate(selectedPackageForPayment.id);\r\n  };\r\n\r\n  // Open crypto payment dialog\r\n  const handlePayWithCrypto = () => {\r\n    setPaymentMethodDialogOpen(false);\r\n    setSelectedNetwork(null);\r\n    setCopiedAddress(false);\r\n    setCryptoPaymentSent(false);\r\n    setCryptoDialogOpen(true);\r\n  };\r\n\r\n  // Copy wallet address to clipboard\r\n  const handleCopyAddress = (address: string) => {\r\n    navigator.clipboard.writeText(address);\r\n    setCopiedAddress(true);\r\n    setTimeout(() => setCopiedAddress(false), 2000);\r\n    toast({\r\n      title: \"Скопировано\",\r\n      description: \"Адрес кошелька скопирован в буфер обмена\",\r\n    });\r\n  };\r\n\r\n  // Crypto payment mutation\r\n  const cryptoPaymentMutation = useMutation({\r\n    mutationFn: async ({ packageId, network }: { packageId: string; network: string }) => {\r\n      const response = await apiRequest('POST', `/api/boost-packages/${packageId}/crypto-payment`, { network });\r\n      return response.json();\r\n    },\r\n    onSuccess: (data) => {\r\n      setCryptoPaymentSent(true);\r\n      toast({\r\n        title: \"Заявка отправлена\",\r\n        description: data.message || \"Ожидайте подтверждения администратора\",\r\n      });\r\n    },\r\n    onError: (error: Error) => {\r\n      toast({\r\n        title: \"Ошибка\",\r\n        description: error.message || \"Не удалось отправить заявку\",\r\n        variant: \"destructive\",\r\n      });\r\n    },\r\n  });\r\n\r\n  // Send \"I paid\" request\r\n  const handleConfirmCryptoPayment = () => {\r\n    if (!selectedPackageForPayment || !selectedNetwork) return;\r\n    cryptoPaymentMutation.mutate({\r\n      packageId: selectedPackageForPayment.id,\r\n      network: selectedNetwork,\r\n    });\r\n  };\r\n\r\n  // Network info\r\n  const NETWORK_INFO: Record<string, { name: string; symbol: string; color: string }> = {\r\n    usdt_trc20: { name: 'USDT TRC-20', symbol: 'Tron', color: '#ff0013' },\r\n    usdt_bep20: { name: 'USDT BEP-20', symbol: 'BSC', color: '#f3ba2f' },\r\n    usdt_erc20: { name: 'USDT ERC-20', symbol: 'Ethereum', color: '#627eea' },\r\n    usdt_ton: { name: 'USDT TON', symbol: 'TON', color: '#0088cc' },\r\n  };\r\n\r\n  const getOwnedQuantity = (boostId: string): number => {\r\n    const item = inventory.find(i => i.boostId === boostId);\r\n    return item?.quantity || 0;\r\n  };\r\n\r\n  const activePackages = packages.filter(p => p.isActive).sort((a, b) => a.sortOrder - b.sortOrder);\r\n  const hotPackageIndex = activePackages.findIndex(p => p.badge === 'hot');\r\n\r\n  return (\r\n    <div \r\n      className=\"min-h-screen flex flex-col p-4 pb-24\"\r\n      style={{ background: 'linear-gradient(180deg, hsl(230 35% 7%) 0%, hsl(230 35% 10%) 100%)' }}\r\n    >\r\n      <motion.div\r\n        initial={{ opacity: 0, y: -10 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"flex items-center gap-3 mb-4\"\r\n      >\r\n        <Button \r\n          variant=\"ghost\" \r\n          size=\"icon\"\r\n          onClick={onBack}\r\n          data-testid=\"button-back\"\r\n        >\r\n          <ArrowLeft className=\"w-5 h-5\" />\r\n        </Button>\r\n        <div className=\"flex-1\">\r\n          <h1 className=\"text-xl font-bold\" style={{ color: '#00ff88' }}>\r\n            Магазин бустов\r\n          </h1>\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Усильте свою игру специальными способностями\r\n          </p>\r\n        </div>\r\n        {user && (\r\n          <div className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-primary/10 border border-primary/20\">\r\n            <MiniBeadsLogo size={16} />\r\n            <span className=\"font-bold text-sm\" style={{ color: '#00ff88' }}>\r\n              {user.totalPoints.toLocaleString()}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </motion.div>\r\n\r\n      <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as 'packages' | 'single')} className=\"flex-1 flex flex-col\">\r\n        <TabsList className=\"grid grid-cols-2 mb-4\">\r\n          <TabsTrigger value=\"packages\" className=\"gap-2\" data-testid=\"tab-packages\">\r\n            <Gift className=\"w-4 h-4\" />\r\n            Наборы\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"single\" className=\"gap-2\" data-testid=\"tab-single\">\r\n            <Zap className=\"w-4 h-4\" />\r\n            Поштучно\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"packages\" className=\"flex-1 overflow-y-auto mt-0\">\r\n          {packagesLoading ? (\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              {[1, 2, 3, 4].map(i => (\r\n                <Skeleton key={i} className=\"h-48 w-full rounded-xl\" />\r\n              ))}\r\n            </div>\r\n          ) : activePackages.length === 0 ? (\r\n            <Card className=\"p-6 text-center\">\r\n              <Package className=\"w-12 h-12 mx-auto mb-3 text-muted-foreground\" />\r\n              <p className=\"text-muted-foreground\">Пакеты пока недоступны</p>\r\n            </Card>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"text-center mb-4\">\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Покупайте наборы за <Star className=\"w-4 h-4 inline text-yellow-400 fill-yellow-400\" /> Telegram Stars\r\n                </p>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-3 items-end\">\r\n                <AnimatePresence>\r\n                  {activePackages.map((pkg, index) => (\r\n                    <PackageCard\r\n                      key={pkg.id}\r\n                      pkg={pkg}\r\n                      boostCount={boosts.length || 7}\r\n                      onBuy={handleBuyPackage}\r\n                      isPurchasing={purchasingPackageId === pkg.id}\r\n                      isHighlighted={index === hotPackageIndex}\r\n                    />\r\n                  ))}\r\n                </AnimatePresence>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"single\" className=\"flex-1 overflow-y-auto mt-0\">\r\n          {boostsLoading ? (\r\n            <div className=\"space-y-3\">\r\n              {[1, 2, 3, 4].map(i => (\r\n                <Skeleton key={i} className=\"h-32 w-full rounded-xl\" />\r\n              ))}\r\n            </div>\r\n          ) : boosts.length === 0 ? (\r\n            <Card className=\"p-6 text-center\">\r\n              <Zap className=\"w-12 h-12 mx-auto mb-3 text-muted-foreground\" />\r\n              <p className=\"text-muted-foreground\">Бусты пока недоступны</p>\r\n            </Card>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"text-center mb-4\">\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Покупайте отдельные бусты за <MiniBeadsLogo size={16} /> Beads\r\n                </p>\r\n              </div>\r\n              <AnimatePresence>\r\n                {boosts.map((boost, index) => (\r\n                  <motion.div\r\n                    key={boost.id}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: index * 0.1 }}\r\n                  >\r\n                    <BoostCard\r\n                      boost={boost}\r\n                      ownedQuantity={getOwnedQuantity(boost.id)}\r\n                      userBalance={user?.totalPoints || 0}\r\n                      onBuy={handleBuy}\r\n                      isPurchasing={purchasingId === boost.id}\r\n                      onShowDetails={setSelectedBoost}\r\n                    />\r\n                  </motion.div>\r\n                ))}\r\n              </AnimatePresence>\r\n            </div>\r\n          )}\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {inventory.length > 0 && (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"mt-4 pt-4 border-t border-border/30\"\r\n        >\r\n          <h3 className=\"text-sm font-semibold text-muted-foreground mb-2\">\r\n            Ваш инвентарь\r\n          </h3>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {inventory.map((item) => {\r\n              const Icon = BOOST_ICONS[item.boost.type] || Zap;\r\n              const colors = BOOST_COLORS[item.boost.type] || BOOST_COLORS.slowdown;\r\n              return (\r\n                <div\r\n                  key={item.id}\r\n                  className=\"flex items-center gap-2 px-3 py-2 rounded-lg\"\r\n                  style={{ \r\n                    backgroundColor: colors.bg,\r\n                    border: `1px solid ${colors.border}`,\r\n                  }}\r\n                >\r\n                  <Icon className=\"w-4 h-4\" style={{ color: colors.text }} />\r\n                  <span className=\"text-sm font-medium\" style={{ color: colors.text }}>\r\n                    {item.boost.nameRu}\r\n                  </span>\r\n                  <Badge \r\n                    variant=\"secondary\"\r\n                    className=\"text-xs\"\r\n                  >\r\n                    x{item.quantity}\r\n                  </Badge>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      <Dialog open={!!selectedBoost} onOpenChange={(open) => !open && setSelectedBoost(null)}>\r\n        <DialogContent className=\"max-w-sm\" style={{ \r\n          backgroundColor: selectedBoost ? BOOST_COLORS[selectedBoost.type]?.bg || 'hsl(var(--card))' : 'hsl(var(--card))',\r\n          borderColor: selectedBoost ? BOOST_COLORS[selectedBoost.type]?.border : undefined,\r\n        }}>\r\n          {selectedBoost && (() => {\r\n            const Icon = BOOST_ICONS[selectedBoost.type] || Zap;\r\n            const colors = BOOST_COLORS[selectedBoost.type] || BOOST_COLORS.slowdown;\r\n            const fullDesc = BOOST_FULL_DESCRIPTIONS[selectedBoost.type] || selectedBoost.descriptionRu;\r\n            const canAfford = (user?.totalPoints || 0) >= selectedBoost.price;\r\n            \r\n            return (\r\n              <>\r\n                <DialogHeader>\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div \r\n                      className=\"w-14 h-14 rounded-xl flex items-center justify-center\"\r\n                      style={{ \r\n                        backgroundColor: colors.text,\r\n                        boxShadow: `0 0 20px ${colors.text}`,\r\n                      }}\r\n                    >\r\n                      <Icon className=\"w-7 h-7 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <DialogTitle style={{ color: colors.text }}>\r\n                        {selectedBoost.nameRu}\r\n                      </DialogTitle>\r\n                      <div className=\"flex items-center gap-1.5 mt-1\">\r\n                        <MiniBeadsLogo size={16} />\r\n                        <span className=\"font-bold text-sm\" style={{ color: '#00ff88' }}>\r\n                          {selectedBoost.price}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </DialogHeader>\r\n                <DialogDescription className=\"text-sm text-foreground/80 leading-relaxed\">\r\n                  {fullDesc}\r\n                </DialogDescription>\r\n                <div className=\"flex gap-2 mt-4\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"flex-1\"\r\n                    onClick={() => setSelectedBoost(null)}\r\n                  >\r\n                    Закрыть\r\n                  </Button>\r\n                  <Button\r\n                    className=\"flex-1\"\r\n                    onClick={() => {\r\n                      handleBuy(selectedBoost.id);\r\n                      setSelectedBoost(null);\r\n                    }}\r\n                    disabled={!canAfford || purchasingId === selectedBoost.id}\r\n                    style={canAfford ? {\r\n                      backgroundColor: colors.text,\r\n                      boxShadow: `0 0 10px ${colors.glow}`,\r\n                    } : undefined}\r\n                  >\r\n                    <ShoppingCart className=\"w-4 h-4 mr-1\" />\r\n                    Купить\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            );\r\n          })()}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Payment Method Selection Dialog */}\r\n      <Dialog open={paymentMethodDialogOpen} onOpenChange={setPaymentMethodDialogOpen}>\r\n        <DialogContent className=\"max-w-sm\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Gift className=\"w-5 h-5\" style={{ color: '#00ff88' }} />\r\n              Способ оплаты\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {selectedPackageForPayment && (\r\n                <span>\r\n                  {selectedPackageForPayment.nameRu} — {selectedPackageForPayment.boostsPerType * (boosts.length || 7)} бустов\r\n                </span>\r\n              )}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-3 mt-4\">\r\n            {/* Telegram Stars option */}\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"w-full h-auto py-4 justify-start gap-3\"\r\n              onClick={handlePayWithStars}\r\n              disabled={purchasingPackageId !== null}\r\n              data-testid=\"button-pay-stars\"\r\n            >\r\n              <div className=\"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center\">\r\n                <Star className=\"w-5 h-5 text-yellow-400 fill-yellow-400\" />\r\n              </div>\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Telegram Stars</div>\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                  {selectedPackageForPayment?.priceStars} ⭐ {isTelegramWebApp() ? '' : '(только в Telegram)'}\r\n                </div>\r\n              </div>\r\n            </Button>\r\n\r\n            {/* Crypto option */}\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"w-full h-auto py-4 justify-start gap-3\"\r\n              onClick={handlePayWithCrypto}\r\n              disabled={purchasingPackageId !== null}\r\n              data-testid=\"button-pay-crypto\"\r\n            >\r\n              <div className=\"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center\">\r\n                <Wallet className=\"w-5 h-5 text-green-400\" />\r\n              </div>\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Криптовалюта (USDT)</div>\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                  ~${selectedPackageForPayment?.priceUsd || Math.round((selectedPackageForPayment?.priceStars || 0) / 50)} USD\r\n                </div>\r\n              </div>\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Crypto Payment Dialog */}\r\n      <Dialog open={cryptoDialogOpen} onOpenChange={(open) => {\r\n        if (!open) {\r\n          setCryptoDialogOpen(false);\r\n          setSelectedNetwork(null);\r\n          setCryptoPaymentSent(false);\r\n        }\r\n      }}>\r\n        <DialogContent className=\"max-w-sm\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Wallet className=\"w-5 h-5 text-green-400\" />\r\n              Оплата криптовалютой\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {selectedPackageForPayment && (\r\n                <span>\r\n                  {selectedPackageForPayment.nameRu} — ${selectedPackageForPayment.priceUsd || Math.round(selectedPackageForPayment.priceStars / 50)} USD\r\n                </span>\r\n              )}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {cryptoPaymentSent ? (\r\n            <div className=\"text-center py-6\">\r\n              <div className=\"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4\">\r\n                <Clock className=\"w-8 h-8 text-green-400\" />\r\n              </div>\r\n              <h3 className=\"font-semibold text-lg mb-2\">Заявка отправлена</h3>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Администратор проверит платёж и подтвердит покупку. Обычно это занимает до 24 часов.\r\n              </p>\r\n              <Button \r\n                className=\"mt-4 w-full\" \r\n                onClick={() => {\r\n                  setCryptoDialogOpen(false);\r\n                  setCryptoPaymentSent(false);\r\n                }}\r\n              >\r\n                Закрыть\r\n              </Button>\r\n            </div>\r\n          ) : !selectedNetwork ? (\r\n            <div className=\"space-y-2 mt-2\">\r\n              <p className=\"text-sm text-muted-foreground mb-3\">Выберите сеть для оплаты:</p>\r\n              {Object.entries(NETWORK_INFO).map(([key, info]) => {\r\n                const address = cryptoWallets?.[key as keyof typeof cryptoWallets];\r\n                const isAvailable = address && address.length > 10;\r\n                return (\r\n                  <Button\r\n                    key={key}\r\n                    variant=\"outline\"\r\n                    className=\"w-full h-auto py-3 justify-start gap-3\"\r\n                    onClick={() => setSelectedNetwork(key)}\r\n                    disabled={!isAvailable}\r\n                    data-testid={`button-network-${key}`}\r\n                  >\r\n                    <div \r\n                      className=\"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold\"\r\n                      style={{ backgroundColor: info.color }}\r\n                    >\r\n                      {info.symbol.substring(0, 1)}\r\n                    </div>\r\n                    <div className=\"text-left flex-1\">\r\n                      <div className=\"font-medium\">{info.name}</div>\r\n                      <div className=\"text-xs text-muted-foreground\">{info.symbol}</div>\r\n                    </div>\r\n                    {!isAvailable && (\r\n                      <Badge variant=\"secondary\" className=\"text-xs\">Недоступно</Badge>\r\n                    )}\r\n                  </Button>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4 mt-2\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <Button variant=\"ghost\" size=\"sm\" onClick={() => setSelectedNetwork(null)}>\r\n                  <ArrowLeft className=\"w-4 h-4\" />\r\n                </Button>\r\n                <span className=\"font-medium\">{NETWORK_INFO[selectedNetwork]?.name}</span>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Переведите <span className=\"font-bold text-foreground\">${selectedPackageForPayment?.priceUsd || Math.round((selectedPackageForPayment?.priceStars || 0) / 50)} USDT</span> на адрес:\r\n                </p>\r\n                \r\n                <div className=\"relative\">\r\n                  <div className=\"p-3 rounded-lg bg-muted/50 border break-all font-mono text-xs\">\r\n                    {cryptoWallets?.[selectedNetwork as keyof typeof cryptoWallets] || 'Адрес не настроен'}\r\n                  </div>\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    className=\"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8\"\r\n                    onClick={() => handleCopyAddress(cryptoWallets?.[selectedNetwork as keyof typeof cryptoWallets] || '')}\r\n                    data-testid=\"button-copy-address\"\r\n                  >\r\n                    {copiedAddress ? (\r\n                      <Check className=\"w-4 h-4 text-green-500\" />\r\n                    ) : (\r\n                      <Copy className=\"w-4 h-4\" />\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20\">\r\n                <p className=\"text-xs text-amber-200\">\r\n                  Внимание: отправляйте только USDT в сети {NETWORK_INFO[selectedNetwork]?.symbol}. Отправка других монет или в другой сети приведёт к потере средств.\r\n                </p>\r\n              </div>\r\n\r\n              <Button \r\n                className=\"w-full\" \r\n                onClick={handleConfirmCryptoPayment}\r\n                disabled={cryptoPaymentMutation.isPending}\r\n                data-testid=\"button-confirm-crypto-payment\"\r\n              >\r\n                {cryptoPaymentMutation.isPending ? (\r\n                  <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                ) : (\r\n                  <Check className=\"w-4 h-4 mr-2\" />\r\n                )}\r\n                Я оплатил\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}