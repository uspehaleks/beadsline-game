{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///D:/BeadsLine/pages/Admin.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useUser } from \"@/contexts/UserContext\";\nimport type { User, GameConfig, PrizePool, GameScore, GameEconomyConfig, ReferralConfig, ReferralUserStats, Boost, HouseAccountConfig, RevenueSummary, insertGameScoreSchema } from \"@shared/schema\";\nimport { \n  Users, \n  Users2,\n  Trophy, \n  Settings, \n  Gift, \n  ArrowLeft, \n  Plus, \n  Trash2, \n  Save,\n  Shield,\n  Gamepad2,\n  TrendingUp,\n  KeyRound,\n  Loader2,\n  Bot,\n  RefreshCw,\n  Link,\n  CheckCircle,\n  XCircle,\n  Pencil,\n  RotateCcw,\n  Wallet,\n  Bitcoin,\n  Activity,\n  UserPlus,\n  Coins,\n  Target,\n  Wrench,\n  Clock,\n  Power,\n  Search,\n  ChevronLeft,\n  ChevronRight,\n  FileText,\n  Sparkles,\n  Upload,\n  ShoppingCart,\n  ArrowDownToLine,\n  ExternalLink,\n  AlertTriangle,\n  Calendar,\n  Play,\n  StopCircle\n} from \"lucide-react\";\nimport { SiEthereum, SiTether } from \"react-icons/si\";\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\ninterface AdminStats {\n  totalUsers: number;\n  totalGames: number;\n  activePrizePool: PrizePool | null;\n}\n\ninterface UsersResponse {\n  users: User[];\n  total: number;\n  limit: number;\n  offset: number;\n}\n\ninterface ScoresResponse {\n  scores: GameScore[];\n  total: number;\n  limit: number;\n  offset: number;\n}\n\ninterface AdminCryptoBalances {\n  btc: number;\n  eth: number;\n  usdt: number;\n}\n\ninterface FundToggles {\n  cryptoFundEnabled: boolean;\n  usdtFundEnabled: boolean;\n}\n\nexport default function Admin() {\n  const [, setLocation] = useLocation();\n  const { user, refreshUser } = useUser();\n  const { toast } = useToast();\n\n  const isAdmin = user?.isAdmin === true;\n\n  // Временная проверка автовхода для специального параметра\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get('master') === 'true' && !user?.isAdmin) {\n      // Если сессии нет, но мы передаем спец-параметр, пробуем зайти автоматически\n      refreshUser?.();\n    }\n  }, [user, refreshUser]);\n\n  const { data: stats, isLoading: statsLoading } = useQuery<AdminStats>({\n    queryKey: [\"/api/admin/stats\"],\n    enabled: isAdmin,\n  });\n\n  const { data: usersData } = useQuery<UsersResponse>({\n    queryKey: [\"/api/admin/users\"],\n    enabled: isAdmin,\n  });\n\n  const { data: configs } = useQuery<GameConfig[]>({\n    queryKey: [\"/api/admin/configs\"],\n    enabled: isAdmin,\n  });\n\n  const { data: prizePools } = useQuery<PrizePool[]>({\n    queryKey: [\"/api/admin/prize-pools\"],\n    enabled: isAdmin,\n  });\n\n  const { data: scoresData } = useQuery<ScoresResponse>({\n    queryKey: [\"/api/admin/scores\"],\n    enabled: isAdmin,\n  });\n\n  const { data: cryptoBalances } = useQuery<AdminCryptoBalances>({\n    queryKey: [\"/api/admin/balances\"],\n    enabled: isAdmin,\n  });\n\n  const { data: activePlayers } = useQuery<{ count: number }>({\n    queryKey: [\"/api/active-players\"],\n    enabled: isAdmin,\n    refetchInterval: 5000,\n  });\n\n  const { data: fundToggles } = useQuery<FundToggles>({\n    queryKey: [\"/api/admin/fund-toggles\"],\n    enabled: isAdmin,\n  });\n\n  const { data: houseAccount } = useQuery<HouseAccountConfig>({\n    queryKey: [\"/api/admin/house-account\"],\n    enabled: isAdmin,\n    refetchInterval: 5000,\n  });\n\n  const { data: revenueSummary } = useQuery<RevenueSummary>({\n    queryKey: [\"/api/admin/revenue-summary\"],\n    enabled: isAdmin,\n    refetchInterval: 10000,\n  });\n\n  const toggleFundMutation = useMutation({\n    mutationFn: async (updates: Partial<FundToggles>) => {\n      return apiRequest(\"PUT\", \"/api/admin/fund-toggles\", updates);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/fund-toggles\"] });\n      toast({ title: \"Сохранено\", description: \"Настройки фондов обновлены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить настройки\", variant: \"destructive\" });\n    },\n  });\n\n  const [loginUsername, setLoginUsername] = useState(\"alex851466\");\n  const [loginCode, setLoginCode] = useState(\"\");\n  const [codeSent, setCodeSent] = useState(false);\n\n  const requestCodeMutation = useMutation({\n    mutationFn: async (username: string) => {\n      const res = await apiRequest(\"POST\", \"/api/admin/request-code\", { username });\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || \"Ошибка запроса кода\");\n      }\n      return res.json();\n    },\n    onSuccess: () => {\n      setCodeSent(true);\n      toast({\n        title: \"Запрос отправлен\",\n        description: \"Если аккаунт существует, код будет доступен\",\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Ошибка\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const verifyCodeMutation = useMutation({\n    mutationFn: async ({ username, code }: { username: string; code: string }) => {\n      const res = await apiRequest(\"POST\", \"/api/admin/verify-code\", { username, code });\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || \"Ошибка проверки кода\");\n      }\n      return res.json();\n    },\n    onSuccess: (data) => {\n      if (data) {\n        // Вместо перезагрузки страницы, обновляем пользователя в контексте\n        // Используем рекурсивную функцию с повторными попытками, чтобы дождаться готовности сессии\n        const attemptRefresh = async (attempts = 0) => {\n          try {\n            // Проверяем сессию на сервере\n            const response = await fetch('/api/auth/me', { credentials: 'include' });\n            if (response.ok) {\n              // Сессия готова, обновляем пользователя\n              refreshUser();\n            } else if (attempts < 10) { // Повторяем попытку до 10 раз\n              // Ждем немного и пробуем снова\n              setTimeout(() => attemptRefresh(attempts + 1), 500);\n            } else {\n              // Если после нескольких попыток сессия не готова, используем refreshUser\n              refreshUser();\n            }\n          } catch (error) {\n            console.error('Error refreshing user after admin login:', error);\n            if (attempts < 5) {\n              setTimeout(() => attemptRefresh(attempts + 1), 200);\n            } else {\n              refreshUser();\n            }\n          }\n        };\n\n        // Начинаем попытки обновления пользователя\n        attemptRefresh();\n      }\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Ошибка\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // ВРЕМЕННО: Убираем условие {!user.isAdmin && <LoginForm />} и просто отрисовываем админку, если в URL есть ?master=true\n  const urlParams = new URLSearchParams(window.location.search);\n  const showMasterView = urlParams.get('master') === 'true';\n\n  if (!user?.isAdmin && !showMasterView) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader className=\"text-center\">\n            <div className=\"mx-auto mb-2\">\n              <Shield className=\"w-12 h-12 text-primary\" />\n            </div>\n            <CardTitle>Вход в админ-панель</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\">Имя пользователя</Label>\n              <Input\n                id=\"username\"\n                value={loginUsername}\n                onChange={(e) => setLoginUsername(e.target.value)}\n                placeholder=\"Введите имя пользователя\"\n                disabled={codeSent}\n                data-testid=\"input-admin-username\"\n              />\n            </div>\n\n            {!codeSent ? (\n              <Button\n                className=\"w-full\"\n                onClick={() => requestCodeMutation.mutate(loginUsername)}\n                disabled={!loginUsername || requestCodeMutation.isPending}\n                data-testid=\"button-request-code\"\n              >\n                {requestCodeMutation.isPending ? (\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                ) : (\n                  <KeyRound className=\"w-4 h-4 mr-2\" />\n                )}\n                Получить код\n              </Button>\n            ) : (\n              <>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"code\">Код подтверждения</Label>\n                  <Input\n                    id=\"code\"\n                    value={loginCode}\n                    onChange={(e) => setLoginCode(e.target.value)}\n                    placeholder=\"Введите 6-значный код\"\n                    maxLength={6}\n                    data-testid=\"input-admin-code\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Код отправлен в Telegram. Действителен 5 минут.\n                  </p>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    className=\"flex-1\"\n                    onClick={() => {\n                      setCodeSent(false);\n                      setLoginCode(\"\");\n                    }}\n                    data-testid=\"button-back-to-username\"\n                  >\n                    Назад\n                  </Button>\n                  <Button\n                    className=\"flex-1\"\n                    onClick={() => {\n                      console.log(\"Клик по кнопке 'Войти'!\", { username: loginUsername, code: loginCode }); // Это должно появиться в F12\n                      console.log(\"Мутация вызвана\"); // Добавлено по инструкции\n                      verifyCodeMutation.mutate({ username: loginUsername, code: loginCode });\n                    }}\n                    data-testid=\"button-verify-code\"\n                  >\n                    {verifyCodeMutation.isPending ? (\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    ) : null}\n                    Войти\n                  </Button>\n                </div>\n              </>\n            )}\n\n            <Separator />\n\n            <Button\n              variant=\"ghost\"\n              className=\"w-full\"\n              onClick={() => setLocation(\"/\")}\n              data-testid=\"button-back-home\"\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              На главную\n            </Button>\n\n            {/* Debug Info Block - Visible only for debugging */}\n            <div className=\"mt-6 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs\">\n              <div className=\"font-semibold mb-1\">Отладочная информация:</div>\n              <pre className=\"text-xs overflow-x-auto text-black\">\n                {JSON.stringify({\n                  userId: user?.id,\n                  isAdmin: user?.isAdmin,\n                  isLoading: false,\n                  error: verifyCodeMutation.error || null,\n                  lastResponse: verifyCodeMutation.data || null,\n                  lastError: verifyCodeMutation.error || null,\n                  sessionStatus: user ? (user.isAdmin ? \"AUTHORIZED\" : \"UNAUTHORIZED\") : \"NO_SESSION\"\n                }, null, 2)}\n              </pre>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background p-4 pb-20\">\n      <div className=\"max-w-6xl mx-auto\">\n        <header className=\"flex items-center gap-4 mb-6\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setLocation(\"/\")}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">Админ-панель</h1>\n            <p className=\"text-muted-foreground\">Управление игрой</p>\n          </div>\n        </header>\n\n        {statsLoading ? (\n          <div className=\"grid gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7 mb-6\">\n            {[1, 2, 3, 4, 5, 6, 7].map((i) => (\n              <Card key={i}>\n                <CardContent className=\"pt-6\">\n                  <div className=\"h-20 animate-pulse bg-muted rounded\" />\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        ) : (\n          <div className=\"grid gap-4 grid-cols-2 md:grid-cols-4 lg:grid-cols-7 mb-6\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-emerald-500/10\">\n                    <Activity className=\"w-6 h-6 text-emerald-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Сейчас играют</p>\n                    <p className=\"text-2xl font-bold\" data-testid=\"text-active-players\">\n                      {activePlayers?.count ?? 0}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-primary/10\">\n                    <Users className=\"w-6 h-6 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Всего игроков</p>\n                    <p className=\"text-2xl font-bold\" data-testid=\"text-total-users\">\n                      {stats?.totalUsers || 0}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-green-500/10\">\n                    <TrendingUp className=\"w-6 h-6 text-green-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Всего доход</p>\n                    <div className=\"flex flex-col\" data-testid=\"text-total-income\">\n                      <span className=\"text-lg font-bold flex items-center gap-1\">\n                        {revenueSummary?.totalSalesStars || 0} <span className=\"text-yellow-400\">⭐</span>\n                      </span>\n                      <span className=\"text-sm text-muted-foreground\">\n                        ${(revenueSummary?.totalSalesUsd || 0).toFixed(2)} USD\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-amber-500/10\">\n                    <Wallet className=\"w-6 h-6 text-amber-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">House Account</p>\n                    <p className=\"text-2xl font-bold\" data-testid=\"text-house-balance\" style={{ color: '#00ff88' }}>\n                      {(houseAccount?.balance || 0).toLocaleString()} <span className=\"text-base\">Beads</span>\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-green-500/10\">\n                    <TrendingUp className=\"w-6 h-6 text-green-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Доход от продаж Beads</p>\n                    <p className=\"text-2xl font-bold text-green-500\" data-testid=\"text-sales-income-top\">\n                      +{(houseAccount?.salesIncome || 0).toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-orange-500/10\">\n                    <Gift className=\"w-6 h-6 text-orange-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Выдано игрокам</p>\n                    <p className=\"text-2xl font-bold text-orange-500\" data-testid=\"text-distributed-top\">\n                      {(houseAccount?.totalDistributed || 0).toLocaleString()}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"p-3 rounded-full bg-blue-500/10\">\n                    <ShoppingCart className=\"w-6 h-6 text-blue-500\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Всего продаж</p>\n                    <p className=\"text-2xl font-bold\" data-testid=\"text-total-sales-top\">\n                      {revenueSummary?.salesCount || 0}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Stars: {revenueSummary?.starsSalesCount || 0} | Crypto: {revenueSummary?.cryptoSalesCount || 0}\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Fund Toggle Controls */}\n        <Card className=\"mb-6\">\n          <CardContent className=\"pt-4 pb-4\">\n            <div className=\"flex flex-wrap items-center justify-between gap-4\">\n              <div className=\"flex items-center gap-6\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <Bitcoin className=\"w-5 h-5 text-amber-500\" />\n                    <span className=\"text-sm font-medium\">Крипто-фонд</span>\n                  </div>\n                  <Switch\n                    checked={fundToggles?.cryptoFundEnabled ?? false}\n                    onCheckedChange={(checked) => toggleFundMutation.mutate({ cryptoFundEnabled: checked })}\n                    disabled={toggleFundMutation.isPending}\n                    data-testid=\"toggle-crypto-fund\"\n                  />\n                  <Badge variant={fundToggles?.cryptoFundEnabled ? \"default\" : \"secondary\"}>\n                    {fundToggles?.cryptoFundEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}\n                  </Badge>\n                </div>\n                <Separator orientation=\"vertical\" className=\"h-8\" />\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <SiTether className=\"w-5 h-5 text-green-500\" />\n                    <span className=\"text-sm font-medium\">USDT-фонд</span>\n                  </div>\n                  <Switch\n                    checked={fundToggles?.usdtFundEnabled ?? false}\n                    onCheckedChange={(checked) => toggleFundMutation.mutate({ usdtFundEnabled: checked })}\n                    disabled={toggleFundMutation.isPending}\n                    data-testid=\"toggle-usdt-fund\"\n                  />\n                  <Badge variant={fundToggles?.usdtFundEnabled ? \"default\" : \"secondary\"}>\n                    {fundToggles?.usdtFundEnabled ? \"ВКЛ\" : \"ВЫКЛ\"}\n                  </Badge>\n                </div>\n              </div>\n              <p className=\"text-xs text-muted-foreground\">\n                Управление выдачей наград\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Tabs defaultValue=\"users\" className=\"flex flex-col md:flex-row gap-4\" orientation=\"vertical\">\n          <div className=\"md:w-48 flex-shrink-0\">\n            <TabsList className=\"flex flex-col h-auto w-full bg-muted/50 p-1 gap-1\">\n              <TabsTrigger value=\"users\" data-testid=\"tab-users\" className=\"w-full justify-start\">\n                <Users className=\"w-4 h-4 mr-1.5\" />\n                Игроки\n              </TabsTrigger>\n              <TabsTrigger value=\"balances\" data-testid=\"tab-balances\" className=\"w-full justify-start\">\n                <Wallet className=\"w-4 h-4 mr-1.5\" />\n                Фонд\n              </TabsTrigger>\n              <TabsTrigger value=\"usdt-fund\" data-testid=\"tab-usdt-fund\" className=\"w-full justify-start\">\n                <SiTether className=\"w-4 h-4 mr-1.5\" />\n                USDT\n              </TabsTrigger>\n              <TabsTrigger value=\"pools\" data-testid=\"tab-pools\" className=\"w-full justify-start\">\n                <Gift className=\"w-4 h-4 mr-1.5\" />\n                Призы\n              </TabsTrigger>\n              <TabsTrigger value=\"config\" data-testid=\"tab-config\" className=\"w-full justify-start\">\n                <Settings className=\"w-4 h-4 mr-1.5\" />\n                Настройки\n              </TabsTrigger>\n              <TabsTrigger value=\"scores\" data-testid=\"tab-scores\" className=\"w-full justify-start\">\n                <Trophy className=\"w-4 h-4 mr-1.5\" />\n                Очки\n              </TabsTrigger>\n              <TabsTrigger value=\"telegram\" data-testid=\"tab-telegram\" className=\"w-full justify-start\">\n                <Bot className=\"w-4 h-4 mr-1.5\" />\n                Бот\n              </TabsTrigger>\n              <TabsTrigger value=\"beads-house\" data-testid=\"tab-beads-house\" className=\"w-full justify-start\">\n                <Coins className=\"w-4 h-4 mr-1.5\" />\n                Beads\n              </TabsTrigger>\n              <TabsTrigger value=\"transactions\" data-testid=\"tab-transactions\" className=\"w-full justify-start\">\n                <Activity className=\"w-4 h-4 mr-1.5\" />\n                Транзакции\n              </TabsTrigger>\n              <TabsTrigger value=\"crypto-rewards\" data-testid=\"tab-crypto-rewards\" className=\"w-full justify-start\">\n                <Bitcoin className=\"w-4 h-4 mr-1.5\" />\n                Криптошарики\n              </TabsTrigger>\n              <TabsTrigger value=\"economy\" data-testid=\"tab-economy\" className=\"w-full justify-start\">\n                <TrendingUp className=\"w-4 h-4 mr-1.5\" />\n                Экономика\n              </TabsTrigger>\n              <TabsTrigger value=\"referrals\" data-testid=\"tab-referrals\" className=\"w-full justify-start\">\n                <Users2 className=\"w-4 h-4 mr-1.5\" />\n                Рефералы\n              </TabsTrigger>\n              <TabsTrigger value=\"maintenance\" data-testid=\"tab-maintenance\" className=\"w-full justify-start\">\n                <Wrench className=\"w-4 h-4 mr-1.5\" />\n                Обслуживание\n              </TabsTrigger>\n              <TabsTrigger value=\"gameplay\" data-testid=\"tab-gameplay\" className=\"w-full justify-start\">\n                <Gamepad2 className=\"w-4 h-4 mr-1.5\" />\n                Геймплей\n              </TabsTrigger>\n              <TabsTrigger value=\"debug-logs\" data-testid=\"tab-debug-logs\" className=\"w-full justify-start\">\n                <FileText className=\"w-4 h-4 mr-1.5\" />\n                Логи\n              </TabsTrigger>\n              <TabsTrigger value=\"boosts\" data-testid=\"tab-boosts\" className=\"w-full justify-start\">\n                <Sparkles className=\"w-4 h-4 mr-1.5\" />\n                Бусты\n              </TabsTrigger>\n              <TabsTrigger value=\"boost-packages\" data-testid=\"tab-boost-packages\" className=\"w-full justify-start\">\n                <Gift className=\"w-4 h-4 mr-1.5\" />\n                Пакеты бустов\n              </TabsTrigger>\n              <TabsTrigger value=\"accounting\" data-testid=\"tab-accounting\" className=\"w-full justify-start\">\n                <Coins className=\"w-4 h-4 mr-1.5\" />\n                Бухгалтерия\n              </TabsTrigger>\n              <TabsTrigger value=\"characters\" data-testid=\"tab-characters\" className=\"w-full justify-start\">\n                <Users className=\"w-4 h-4 mr-1.5\" />\n                Персонажи\n              </TabsTrigger>\n              <TabsTrigger value=\"leagues\" data-testid=\"tab-leagues\" className=\"w-full justify-start\">\n                <Trophy className=\"w-4 h-4 mr-1.5\" />\n                Лиги\n              </TabsTrigger>\n              <TabsTrigger value=\"seasons\" data-testid=\"tab-seasons\" className=\"w-full justify-start\">\n                <Calendar className=\"w-4 h-4 mr-1.5\" />\n                Сезоны\n              </TabsTrigger>\n              <TabsTrigger value=\"notifications\" data-testid=\"tab-notifications\" className=\"w-full justify-start\">\n                <Bot className=\"w-4 h-4 mr-1.5\" />\n                Уведомления\n              </TabsTrigger>\n              <TabsTrigger value=\"withdrawals\" data-testid=\"tab-withdrawals\" className=\"w-full justify-start\">\n                <ArrowDownToLine className=\"w-4 h-4 mr-1.5\" />\n                Выводы\n              </TabsTrigger>\n              <TabsTrigger value=\"crypto-payments\" data-testid=\"tab-crypto-payments\" className=\"w-full justify-start\">\n                <Wallet className=\"w-4 h-4 mr-1.5\" />\n                Крипто-платежи\n              </TabsTrigger>\n            </TabsList>\n          </div>\n          <div className=\"flex-1\">\n\n          <TabsContent value=\"users\">\n            <UsersTab users={usersData?.users || []} total={usersData?.total || 0} />\n          </TabsContent>\n\n          <TabsContent value=\"balances\">\n            <CryptoBalancesTab balances={cryptoBalances || { btc: 0, eth: 0, usdt: 0 }} />\n          </TabsContent>\n\n          <TabsContent value=\"usdt-fund\">\n            <UsdtFundTab />\n          </TabsContent>\n\n          <TabsContent value=\"pools\">\n            <PrizePoolsTab pools={prizePools || []} />\n          </TabsContent>\n\n          <TabsContent value=\"config\">\n            <ConfigTab configs={configs || []} />\n          </TabsContent>\n\n          <TabsContent value=\"scores\">\n            <ScoresTab scores={scoresData?.scores || []} total={scoresData?.total || 0} />\n          </TabsContent>\n\n          <TabsContent value=\"telegram\">\n            <TelegramTab />\n          </TabsContent>\n\n          <TabsContent value=\"beads-house\">\n            <BeadsHouseTab />\n          </TabsContent>\n\n          <TabsContent value=\"transactions\">\n            <TransactionsTab />\n          </TabsContent>\n\n          <TabsContent value=\"crypto-rewards\">\n            <CryptoRewardsTab />\n          </TabsContent>\n\n          <TabsContent value=\"economy\">\n            <EconomyTab />\n          </TabsContent>\n\n          <TabsContent value=\"referrals\">\n            <ReferralsTab />\n          </TabsContent>\n\n          <TabsContent value=\"maintenance\">\n            <MaintenanceTab />\n          </TabsContent>\n\n          <TabsContent value=\"gameplay\">\n            <GameplayTab />\n          </TabsContent>\n          <TabsContent value=\"debug-logs\">\n            <DebugLogsTab />\n          </TabsContent>\n          <TabsContent value=\"boosts\">\n            <BoostsTab />\n          </TabsContent>\n          <TabsContent value=\"boost-packages\">\n            <BoostPackagesTab />\n          </TabsContent>\n          <TabsContent value=\"accounting\">\n            <AccountingTab />\n          </TabsContent>\n          <TabsContent value=\"characters\">\n            <CharactersTab />\n          </TabsContent>\n          <TabsContent value=\"leagues\">\n            <LeaguesTab />\n          </TabsContent>\n          <TabsContent value=\"seasons\">\n            <SeasonsTab />\n          </TabsContent>\n          <TabsContent value=\"notifications\">\n            <NotificationsTab />\n          </TabsContent>\n          <TabsContent value=\"withdrawals\">\n            <WithdrawalsTab />\n          </TabsContent>\n\n          <TabsContent value=\"crypto-payments\">\n            <CryptoPaymentsTab />\n          </TabsContent>\n          </div>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nfunction CryptoBalancesTab({ balances }: { balances: AdminCryptoBalances }) {\n  const { toast } = useToast();\n  const [editBalances, setEditBalances] = useState(balances);\n\n  const updateBalancesMutation = useMutation({\n    mutationFn: async (newBalances: AdminCryptoBalances) => {\n      return apiRequest(\"PUT\", \"/api/admin/balances\", newBalances);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/balances\"] });\n      toast({ title: \"Сохранено\", description: \"Балансы крипто-фонда обновлены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить балансы\", variant: \"destructive\" });\n    },\n  });\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Wallet className=\"w-5 h-5\" />\n          Крипто-фонд администратора\n        </CardTitle>\n        <p className=\"text-sm text-muted-foreground\">\n          Крипто-шарики в игре появляются только если баланс соответствующей монеты больше 0\n        </p>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              <Bitcoin className=\"w-5 h-5 text-amber-500\" />\n              BTC баланс\n            </Label>\n            <Input\n              type=\"number\"\n              min=\"0\"\n              step=\"0.001\"\n              value={editBalances.btc}\n              onChange={(e) => setEditBalances({ ...editBalances, btc: parseFloat(e.target.value) || 0 })}\n              data-testid=\"input-btc-balance\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {balances.btc > 0 ? \"BTC-шарики активны\" : \"BTC-шарики отключены\"}\n            </p>\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              <SiEthereum className=\"w-5 h-5 text-blue-500\" />\n              ETH баланс\n            </Label>\n            <Input\n              type=\"number\"\n              min=\"0\"\n              step=\"0.001\"\n              value={editBalances.eth}\n              onChange={(e) => setEditBalances({ ...editBalances, eth: parseFloat(e.target.value) || 0 })}\n              data-testid=\"input-eth-balance\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {balances.eth > 0 ? \"ETH-шарики активны\" : \"ETH-шарики отключены\"}\n            </p>\n          </div>\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              <SiTether className=\"w-5 h-5 text-green-500\" />\n              USDT баланс\n            </Label>\n            <Input\n              type=\"number\"\n              min=\"0\"\n              step=\"0.01\"\n              value={editBalances.usdt}\n              onChange={(e) => setEditBalances({ ...editBalances, usdt: parseFloat(e.target.value) || 0 })}\n              data-testid=\"input-usdt-balance\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {balances.usdt > 0 ? \"USDT-шарики активны\" : \"USDT-шарики отключены\"}\n            </p>\n          </div>\n        </div>\n        <Button\n          onClick={() => updateBalancesMutation.mutate(editBalances)}\n          disabled={updateBalancesMutation.isPending}\n          data-testid=\"button-save-balances\"\n        >\n          {updateBalancesMutation.isPending ? (\n            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n          ) : (\n            <Save className=\"w-4 h-4 mr-2\" />\n          )}\n          Сохранить балансы\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface UsdtFundSettingsData {\n  usdtTotalFund: number;\n  usdtAvailable: number;\n  usdtDailyLimit: number;\n  usdtPerDrop: number;\n  usdtMaxPerUserPerDay: number;\n  usdtDistributedToday: number;\n  lastResetDate: string;\n}\n\ninterface UsdtFundStatsResponse {\n  settings: UsdtFundSettingsData | null;\n  totalDistributed: number;\n  distributedToday: number;\n}\n\nfunction UsdtFundTab() {\n  const { toast } = useToast();\n  const [editSettings, setEditSettings] = useState({\n    usdtTotalFund: 0,\n    usdtAvailable: 0,\n    usdtDailyLimit: 1.0,\n    usdtPerDrop: 0.02,\n    usdtMaxPerUserPerDay: 0.1,\n  });\n\n  const { data: fundStats, isLoading } = useQuery<UsdtFundStatsResponse>({\n    queryKey: [\"/api/admin/usdt-fund/stats\"],\n  });\n\n  const { data: fundResponse } = useQuery<UsdtFundStatsResponse>({\n    queryKey: [\"/api/admin/usdt-fund\"],\n  });\n\n  useEffect(() => {\n    const settings = fundResponse?.settings || fundStats?.settings;\n    if (settings) {\n      setEditSettings({\n        usdtTotalFund: settings.usdtTotalFund ?? 0,\n        usdtAvailable: settings.usdtAvailable ?? 0,\n        usdtDailyLimit: settings.usdtDailyLimit ?? 1.0,\n        usdtPerDrop: settings.usdtPerDrop ?? 0.02,\n        usdtMaxPerUserPerDay: settings.usdtMaxPerUserPerDay ?? 0.1,\n      });\n    }\n  }, [fundResponse, fundStats]);\n\n  const updateSettingsMutation = useMutation({\n    mutationFn: async (settings: typeof editSettings) => {\n      return apiRequest(\"PUT\", \"/api/admin/usdt-fund\", settings);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/usdt-fund\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/usdt-fund/stats\"] });\n      toast({ title: \"Сохранено\", description: \"Настройки USDT-фонда обновлены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить настройки\", variant: \"destructive\" });\n    },\n  });\n\n  if (isLoading) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6 flex justify-center\">\n          <Loader2 className=\"w-6 h-6 animate-spin\" />\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const settings = fundResponse?.settings || fundStats?.settings;\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <SiTether className=\"w-5 h-5 text-green-500\" />\n            Статистика USDT-фонда\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid gap-4 md:grid-cols-4\">\n            <div className=\"p-4 rounded-lg bg-muted/50\">\n              <p className=\"text-sm text-muted-foreground\">Общий фонд</p>\n              <p className=\"text-2xl font-bold\" data-testid=\"text-usdt-total\">\n                ${(settings?.usdtTotalFund ?? 0).toFixed(2)}\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-muted/50\">\n              <p className=\"text-sm text-muted-foreground\">Доступно</p>\n              <p className=\"text-2xl font-bold text-green-500\" data-testid=\"text-usdt-available\">\n                ${(settings?.usdtAvailable ?? 0).toFixed(2)}\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-muted/50\">\n              <p className=\"text-sm text-muted-foreground\">Выдано сегодня</p>\n              <p className=\"text-2xl font-bold text-amber-500\" data-testid=\"text-usdt-today\">\n                ${(fundStats?.distributedToday ?? 0).toFixed(2)}\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                лимит: ${(settings?.usdtDailyLimit ?? 0).toFixed(2)}\n              </p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-muted/50\">\n              <p className=\"text-sm text-muted-foreground\">Всего выдано</p>\n              <p className=\"text-2xl font-bold text-blue-500\" data-testid=\"text-usdt-total-distributed\">\n                ${(fundStats?.totalDistributed ?? 0).toFixed(2)}\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"w-5 h-5\" />\n            Настройки USDT-фонда\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Настройте параметры выдачи реальных USDT-наград игрокам\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"usdt-total\">Общий фонд (USDT)</Label>\n              <Input\n                id=\"usdt-total\"\n                type=\"number\"\n                min=\"0\"\n                step=\"1\"\n                value={editSettings.usdtTotalFund}\n                onChange={(e) => setEditSettings({ ...editSettings, usdtTotalFund: parseFloat(e.target.value) || 0 })}\n                data-testid=\"input-usdt-total-fund\"\n              />\n              <p className=\"text-xs text-muted-foreground\">Общая сумма фонда для выдачи наград</p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"usdt-available\">Доступно (USDT)</Label>\n              <Input\n                id=\"usdt-available\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={editSettings.usdtAvailable}\n                onChange={(e) => setEditSettings({ ...editSettings, usdtAvailable: parseFloat(e.target.value) || 0 })}\n                data-testid=\"input-usdt-available\"\n              />\n              <p className=\"text-xs text-muted-foreground\">Остаток для распределения</p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"usdt-daily\">Дневной лимит (USDT)</Label>\n              <Input\n                id=\"usdt-daily\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.1\"\n                value={editSettings.usdtDailyLimit}\n                onChange={(e) => setEditSettings({ ...editSettings, usdtDailyLimit: parseFloat(e.target.value) || 0 })}\n                data-testid=\"input-usdt-daily-limit\"\n              />\n              <p className=\"text-xs text-muted-foreground\">Максимум USDT в день для всех игроков</p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"usdt-per-drop\">Награда за шарик (USDT)</Label>\n              <Input\n                id=\"usdt-per-drop\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.001\"\n                value={editSettings.usdtPerDrop}\n                onChange={(e) => setEditSettings({ ...editSettings, usdtPerDrop: parseFloat(e.target.value) || 0 })}\n                data-testid=\"input-usdt-per-drop\"\n              />\n              <p className=\"text-xs text-muted-foreground\">USDT за каждый собранный USDT-шарик</p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"usdt-per-user\">Лимит на игрока/день (USDT)</Label>\n              <Input\n                id=\"usdt-per-user\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={editSettings.usdtMaxPerUserPerDay}\n                onChange={(e) => setEditSettings({ ...editSettings, usdtMaxPerUserPerDay: parseFloat(e.target.value) || 0 })}\n                data-testid=\"input-usdt-per-user\"\n              />\n              <p className=\"text-xs text-muted-foreground\">Максимум USDT в день для одного игрока</p>\n            </div>\n          </div>\n          <Button\n            onClick={() => updateSettingsMutation.mutate(editSettings)}\n            disabled={updateSettingsMutation.isPending}\n            data-testid=\"button-save-usdt-settings\"\n          >\n            {updateSettingsMutation.isPending ? (\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n            ) : (\n              <Save className=\"w-4 h-4 mr-2\" />\n            )}\n            Сохранить настройки\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface UserBoostItem {\n  id: string;\n  boostId: string;\n  quantity: number;\n  boost: Boost;\n}\n\nfunction UsersTab({ users, total }: { users: User[]; total: number }) {\n  const { toast } = useToast();\n  const [editingUser, setEditingUser] = useState<User | null>(null);\n  const [showBoostsDialog, setShowBoostsDialog] = useState(false);\n  const [editForm, setEditForm] = useState({ \n    username: \"\", \n    totalPoints: 0, \n    gamesPlayed: 0, \n    bestScore: 0,\n    btcBalanceSats: 0,\n    ethBalanceWei: 0,\n    usdtBalance: 0,\n    referredBy: \"\",\n  });\n\n  const { data: userTransactions, isLoading: txLoading } = useQuery<TransactionsResponse>({\n    queryKey: [\"/api/admin/transactions\", \"user\", editingUser?.username],\n    queryFn: async () => {\n      if (!editingUser) return { transactions: [], total: 0, limit: 10, offset: 0 };\n      const params = new URLSearchParams({\n        limit: \"10\",\n        offset: \"0\",\n        search: editingUser.username,\n      });\n      const res = await fetch(`/api/admin/transactions?${params}`);\n      return res.json();\n    },\n    enabled: !!editingUser,\n  });\n\n  const toggleAdminMutation = useMutation({\n    mutationFn: async ({ userId, isAdmin }: { userId: string; isAdmin: boolean }) => {\n      return apiRequest(\"PATCH\", `/api/admin/users/${userId}/admin`, { isAdmin });\n    },\n    onSuccess: async () => {\n      await queryClient.refetchQueries({ queryKey: [\"/api/admin/users\"] });\n      toast({ title: \"Обновлено\", description: \"Статус администратора изменён\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить пользователя\", variant: \"destructive\" });\n    },\n  });\n\n  const updateUserMutation = useMutation({\n    mutationFn: async ({ userId, updates }: { userId: string; updates: Record<string, unknown> }) => {\n      return apiRequest(\"PUT\", `/api/admin/users/${userId}`, updates);\n    },\n    onSuccess: async () => {\n      await queryClient.refetchQueries({ queryKey: [\"/api/admin/users\"] });\n      await queryClient.refetchQueries({ queryKey: [\"/api/admin/stats\"] });\n      toast({ title: \"Обновлено\", description: \"Данные пользователя сохранены\" });\n      setEditingUser(null);\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить пользователя\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteUserMutation = useMutation({\n    mutationFn: async (userId: string) => {\n      const res = await apiRequest(\"DELETE\", `/api/admin/users/${userId}`);\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || \"Не удалось удалить пользователя\");\n      }\n      return res.json();\n    },\n    onSuccess: async () => {\n      await queryClient.refetchQueries({ queryKey: [\"/api/admin/users\"] });\n      await queryClient.refetchQueries({ queryKey: [\"/api/admin/stats\"] });\n      toast({ title: \"Удалено\", description: \"Пользователь полностью удалён из базы данных\" });\n    },\n    onError: (error: Error) => {\n      toast({ title: \"Защита от удаления\", description: error.message, variant: \"destructive\" });\n    },\n  });\n\n  const resetLevelsMutation = useMutation({\n    mutationFn: async (userId: string) => {\n      return apiRequest(\"POST\", `/api/admin/users/${userId}/reset-levels`);\n    },\n    onSuccess: async () => {\n      await queryClient.refetchQueries({ queryKey: [\"/api/admin/users\"] });\n      toast({ title: \"Готово\", description: \"Уровни пользователя сброшены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось сбросить уровни\", variant: \"destructive\" });\n    },\n  });\n\n  const resetBeadsBoxMutation = useMutation({\n    mutationFn: async (targetUserId: string) => {\n      return apiRequest(\"POST\", \"/api/admin/beads-box/reset\", { targetUserId });\n    },\n    onSuccess: async () => {\n      toast({ title: \"Готово\", description: \"BEADS BOX сессия сброшена\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось сбросить BEADS BOX\", variant: \"destructive\" });\n    },\n  });\n\n  const { data: allBoosts } = useQuery<Boost[]>({\n    queryKey: [\"/api/admin/boosts\"],\n  });\n\n  const { data: userBoosts, refetch: refetchUserBoosts } = useQuery<UserBoostItem[]>({\n    queryKey: [\"/api/admin/users\", editingUser?.id, \"boosts\"],\n    queryFn: async () => {\n      if (!editingUser) return [];\n      const res = await fetch(`/api/admin/users/${editingUser.id}/boosts`);\n      return res.json();\n    },\n    enabled: !!editingUser && showBoostsDialog,\n  });\n\n  const setBoostQuantityMutation = useMutation({\n    mutationFn: async ({ userId, boostId, quantity }: { userId: string; boostId: string; quantity: number }) => {\n      return apiRequest(\"PUT\", `/api/admin/users/${userId}/boosts/${boostId}`, { quantity });\n    },\n    onSuccess: () => {\n      refetchUserBoosts();\n      toast({ title: \"Обновлено\", description: \"Количество буста изменено\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось изменить буст\", variant: \"destructive\" });\n    },\n  });\n\n  const openEditDialog = (user: User) => {\n    setEditingUser(user);\n    setEditForm({\n      username: user.username,\n      totalPoints: user.totalPoints,\n      gamesPlayed: user.gamesPlayed,\n      bestScore: user.bestScore,\n      btcBalanceSats: (user as User & { btcBalanceSats?: number }).btcBalanceSats || 0,\n      ethBalanceWei: (user as User & { ethBalanceWei?: number }).ethBalanceWei || 0,\n      usdtBalance: (user as User & { usdtBalance?: number }).usdtBalance || 0,\n      referredBy: (user as User & { referredBy?: string | null }).referredBy || \"\",\n    });\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Users className=\"w-5 h-5\" />\n          Игроки ({total})\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea className=\"h-[500px]\">\n          <div className=\"space-y-3\">\n            {users.map((user) => (\n              <div\n                key={user.id}\n                className=\"flex items-center justify-between p-3 rounded-lg border\"\n                data-testid={`user-row-${user.id}`}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\n                    <span className=\"text-sm font-bold\">\n                      {user.username[0].toUpperCase()}\n                    </span>\n                  </div>\n                  <div>\n                    <p className=\"font-medium\">{user.username}</p>\n                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                      <span>{user.totalPoints} Beads</span>\n                      <span>•</span>\n                      <span>{user.gamesPlayed} игр</span>\n                      <span>•</span>\n                      <span>Лучший: {user.bestScore}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                      <span className=\"flex items-center gap-0.5 text-xs px-1.5 py-0.5 rounded bg-amber-500/10 text-amber-600\">\n                        <Bitcoin className=\"w-3 h-3\" />\n                        {(((user as User & { btcBalanceSats?: number }).btcBalanceSats ?? 0) / 100000000).toFixed(8)} BTC\n                      </span>\n                      <span className=\"flex items-center gap-0.5 text-xs px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-600\">\n                        <SiEthereum className=\"w-3 h-3\" />\n                        {(((user as User & { ethBalanceWei?: number }).ethBalanceWei ?? 0) / 1000000000000000000).toFixed(9)} ETH\n                      </span>\n                      <span className=\"flex items-center gap-0.5 text-xs px-1.5 py-0.5 rounded bg-green-500/10 text-green-600\">\n                        <SiTether className=\"w-3 h-3\" />\n                        ${Number((user as User & { usdtBalance?: number }).usdtBalance ?? 0).toFixed(4)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {user.isAdmin && <Badge variant=\"secondary\">Админ</Badge>}\n                  <Switch\n                    checked={user.isAdmin}\n                    onCheckedChange={(isAdmin) =>\n                      toggleAdminMutation.mutate({ userId: user.id, isAdmin })\n                    }\n                    disabled={toggleAdminMutation.isPending}\n                    data-testid={`toggle-admin-${user.id}`}\n                  />\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => openEditDialog(user)}\n                    data-testid={`edit-user-${user.id}`}\n                    title=\"Редактировать\"\n                  >\n                    <Pencil className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => {\n                      if (confirm(`Сбросить уровни для ${user.username}?`)) {\n                        resetLevelsMutation.mutate(user.id);\n                      }\n                    }}\n                    disabled={resetLevelsMutation.isPending}\n                    data-testid={`reset-levels-${user.id}`}\n                    title=\"Сбросить уровни\"\n                  >\n                    <RotateCcw className=\"w-4 h-4 text-orange-500\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => {\n                      if (confirm(`Сбросить BEADS BOX для ${user.username}?`)) {\n                        resetBeadsBoxMutation.mutate(user.id);\n                      }\n                    }}\n                    disabled={resetBeadsBoxMutation.isPending}\n                    data-testid={`reset-beadsbox-${user.id}`}\n                    title=\"Сбросить BEADS BOX\"\n                  >\n                    <Gift className=\"w-4 h-4 text-green-500\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => deleteUserMutation.mutate(user.id)}\n                    disabled={deleteUserMutation.isPending}\n                    data-testid={`delete-user-${user.id}`}\n                    title=\"Удалить\"\n                  >\n                    <Trash2 className=\"w-4 h-4 text-destructive\" />\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </ScrollArea>\n      </CardContent>\n\n      <Dialog open={!!editingUser} onOpenChange={(open) => !open && setEditingUser(null)}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Редактирование пользователя</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 pt-4\">\n            <div>\n              <Label htmlFor=\"edit-username\">Имя пользователя</Label>\n              <Input\n                id=\"edit-username\"\n                value={editForm.username}\n                onChange={(e) => setEditForm({ ...editForm, username: e.target.value })}\n                data-testid=\"input-edit-username\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"edit-points\">Очки</Label>\n              <Input\n                id=\"edit-points\"\n                type=\"number\"\n                value={editForm.totalPoints}\n                onChange={(e) => setEditForm({ ...editForm, totalPoints: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-edit-points\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"edit-games\">Игр сыграно</Label>\n              <Input\n                id=\"edit-games\"\n                type=\"number\"\n                value={editForm.gamesPlayed}\n                onChange={(e) => setEditForm({ ...editForm, gamesPlayed: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-edit-games\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"edit-best\">Лучший результат</Label>\n              <Input\n                id=\"edit-best\"\n                type=\"number\"\n                value={editForm.bestScore}\n                onChange={(e) => setEditForm({ ...editForm, bestScore: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-edit-best\"\n              />\n            </div>\n            <Separator />\n            <div>\n              <Label htmlFor=\"edit-sponsor\" className=\"flex items-center gap-1\">\n                <UserPlus className=\"w-4 h-4\" />\n                Спонсор (реферальный код)\n              </Label>\n              <Input\n                id=\"edit-sponsor\"\n                value={editForm.referredBy}\n                onChange={(e) => setEditForm({ ...editForm, referredBy: e.target.value })}\n                placeholder=\"Введите реферальный код спонсора\"\n                data-testid=\"input-edit-sponsor\"\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Оставьте пустым для удаления спонсора\n              </p>\n            </div>\n            <Separator />\n            <p className=\"text-sm font-medium text-muted-foreground\">Крипто-балансы игрока</p>\n            <div className=\"grid grid-cols-3 gap-2\">\n              <div>\n                <Label htmlFor=\"edit-btc\" className=\"flex items-center gap-1 text-xs\">\n                  <Bitcoin className=\"w-3 h-3 text-amber-500\" />\n                  BTC (sats)\n                </Label>\n                <Input\n                  id=\"edit-btc\"\n                  type=\"number\"\n                  step=\"1\"\n                  value={editForm.btcBalanceSats}\n                  onChange={(e) => setEditForm({ ...editForm, btcBalanceSats: parseInt(e.target.value) || 0 })}\n                  placeholder=\"Кол-во сатоши\"\n                  data-testid=\"input-edit-btc\"\n                />\n                <p className=\"text-xs text-muted-foreground mt-0.5\">{(editForm.btcBalanceSats / 100000000).toFixed(8)} BTC</p>\n              </div>\n              <div>\n                <Label htmlFor=\"edit-eth\" className=\"flex items-center gap-1 text-xs\">\n                  <SiEthereum className=\"w-3 h-3 text-blue-500\" />\n                  ETH\n                </Label>\n                <Input\n                  id=\"edit-eth\"\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={(editForm.ethBalanceWei / 1000000000000000000).toFixed(9)}\n                  onChange={(e) => {\n                    const num = parseFloat(e.target.value) || 0;\n                    const wei = Math.round(num * 1000000000000000000);\n                    setEditForm({ ...editForm, ethBalanceWei: wei });\n                  }}\n                  placeholder=\"Кол-во ETH\"\n                  data-testid=\"input-edit-eth\"\n                />\n                <p className=\"text-xs text-muted-foreground mt-0.5\">Wei: {editForm.ethBalanceWei.toLocaleString()}</p>\n              </div>\n              <div>\n                <Label htmlFor=\"edit-usdt\" className=\"flex items-center gap-1 text-xs\">\n                  <SiTether className=\"w-3 h-3 text-green-500\" />\n                  USDT\n                </Label>\n                <Input\n                  id=\"edit-usdt\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={editForm.usdtBalance}\n                  onChange={(e) => setEditForm({ ...editForm, usdtBalance: parseFloat(e.target.value) || 0 })}\n                  data-testid=\"input-edit-usdt\"\n                />\n              </div>\n            </div>\n            <Button\n              className=\"w-full\"\n              onClick={() => {\n                if (editingUser) {\n                  updateUserMutation.mutate({ userId: editingUser.id, updates: editForm });\n                }\n              }}\n              disabled={updateUserMutation.isPending}\n              data-testid=\"button-save-user\"\n            >\n              {updateUserMutation.isPending ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Сохранить\n            </Button>\n            <Separator />\n            <div>\n              <p className=\"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-1\">\n                <Activity className=\"w-4 h-4\" />\n                Последние транзакции ({userTransactions?.total || 0})\n              </p>\n              {txLoading ? (\n                <div className=\"flex justify-center py-4\">\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                </div>\n              ) : userTransactions?.transactions && userTransactions.transactions.length > 0 ? (\n                <ScrollArea className=\"h-[200px]\">\n                  <div className=\"space-y-2\">\n                    {userTransactions.transactions.map((tx) => {\n                      const typeLabels: Record<string, { label: string; color: string }> = {\n                        game_win_reward: { label: \"Победа\", color: \"bg-green-500/20 text-green-500\" },\n                        buy_extra_life: { label: \"Жизнь\", color: \"bg-blue-500/20 text-blue-500\" },\n                        referral_reward: { label: \"Реферал\", color: \"bg-purple-500/20 text-purple-500\" },\n                        admin_adjustment: { label: \"Админ\", color: \"bg-amber-500/20 text-amber-500\" },\n                        house_deposit: { label: \"Пополнение\", color: \"bg-cyan-500/20 text-cyan-500\" },\n                      };\n                      const typeInfo = typeLabels[tx.type] || { label: tx.type, color: \"bg-muted\" };\n                      return (\n                        <div key={tx.id} className=\"p-2 border rounded text-xs\">\n                          <div className=\"flex items-center justify-between\">\n                            <Badge className={`${typeInfo.color} text-[10px]`}>{typeInfo.label}</Badge>\n                            <span className={tx.amount >= 0 ? \"text-green-500\" : \"text-red-500\"}>\n                              {tx.amount >= 0 ? \"+\" : \"\"}{tx.amount}\n                            </span>\n                          </div>\n                          <div className=\"text-muted-foreground mt-1 truncate\">\n                            {tx.description || \"—\"}\n                          </div>\n                          <div className=\"text-muted-foreground mt-0.5\">\n                            {new Date(tx.createdAt).toLocaleString(\"ru-RU\", {\n                              day: \"2-digit\", month: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\"\n                            })}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </ScrollArea>\n              ) : (\n                <p className=\"text-xs text-muted-foreground text-center py-4\">\n                  Транзакции не найдены\n                </p>\n              )}\n            </div>\n            <Separator />\n            <Button\n              variant=\"outline\"\n              className=\"w-full\"\n              onClick={() => setShowBoostsDialog(true)}\n              data-testid=\"button-manage-boosts\"\n            >\n              <Sparkles className=\"w-4 h-4 mr-2\" />\n              Управление бустами\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={showBoostsDialog} onOpenChange={setShowBoostsDialog}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Sparkles className=\"w-5 h-5\" />\n              Бусты пользователя: {editingUser?.username}\n            </DialogTitle>\n            <DialogDescription>\n              Добавляйте или удаляйте бусты вручную\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-3 pt-4 max-h-[400px] overflow-y-auto\">\n            {allBoosts?.filter(b => b.isActive).map((boost) => {\n              const userBoost = userBoosts?.find(ub => ub.boostId === boost.id);\n              const quantity = userBoost?.quantity || 0;\n              \n              return (\n                <div key={boost.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                  <div className=\"flex-1\">\n                    <div className=\"font-medium\">{boost.nameRu}</div>\n                    <div className=\"text-xs text-muted-foreground\">{boost.descriptionRu}</div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Button\n                      size=\"icon\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        if (editingUser && quantity > 0) {\n                          setBoostQuantityMutation.mutate({\n                            userId: editingUser.id,\n                            boostId: boost.id,\n                            quantity: quantity - 1,\n                          });\n                        }\n                      }}\n                      disabled={quantity <= 0 || setBoostQuantityMutation.isPending}\n                      data-testid={`boost-minus-${boost.id}`}\n                    >\n                      -\n                    </Button>\n                    <span className=\"w-8 text-center font-bold\">{quantity}</span>\n                    <Button\n                      size=\"icon\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        if (editingUser) {\n                          setBoostQuantityMutation.mutate({\n                            userId: editingUser.id,\n                            boostId: boost.id,\n                            quantity: quantity + 1,\n                          });\n                        }\n                      }}\n                      disabled={setBoostQuantityMutation.isPending}\n                      data-testid={`boost-plus-${boost.id}`}\n                    >\n                      +\n                    </Button>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      className=\"w-16 text-center\"\n                      value={quantity}\n                      onChange={(e) => {\n                        const val = parseInt(e.target.value) || 0;\n                        if (editingUser && val >= 0) {\n                          setBoostQuantityMutation.mutate({\n                            userId: editingUser.id,\n                            boostId: boost.id,\n                            quantity: val,\n                          });\n                        }\n                      }}\n                      data-testid={`boost-input-${boost.id}`}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n            {(!allBoosts || allBoosts.filter(b => b.isActive).length === 0) && (\n              <p className=\"text-center text-muted-foreground py-4\">\n                Нет активных бустов\n              </p>\n            )}\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowBoostsDialog(false)}>\n              Закрыть\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </Card>\n  );\n}\n\nfunction PrizePoolsTab({ pools }: { pools: PrizePool[] }) {\n  const { toast } = useToast();\n  const [newPool, setNewPool] = useState({ name: \"\", totalAmount: 0, isActive: false });\n  const [dialogOpen, setDialogOpen] = useState(false);\n\n  const createPoolMutation = useMutation({\n    mutationFn: async (pool: { name: string; totalAmount: number; isActive: boolean }) => {\n      return apiRequest(\"POST\", \"/api/admin/prize-pools\", pool);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/prize-pools\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/stats\"] });\n      toast({ title: \"Создано\", description: \"Призовой фонд успешно создан\" });\n      setDialogOpen(false);\n      setNewPool({ name: \"\", totalAmount: 0, isActive: false });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось создать фонд\", variant: \"destructive\" });\n    },\n  });\n\n  const updatePoolMutation = useMutation({\n    mutationFn: async ({ id, ...updates }: { id: string; isActive?: boolean; totalAmount?: number }) => {\n      return apiRequest(\"PATCH\", `/api/admin/prize-pools/${id}`, updates);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/prize-pools\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/stats\"] });\n      toast({ title: \"Обновлено\", description: \"Призовой фонд успешно обновлён\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить фонд\", variant: \"destructive\" });\n    },\n  });\n\n  const deletePoolMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(\"DELETE\", `/api/admin/prize-pools/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/prize-pools\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/stats\"] });\n      toast({ title: \"Удалено\", description: \"Призовой фонд успешно удалён\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось удалить фонд\", variant: \"destructive\" });\n    },\n  });\n\n  return (\n    <Card>\n      <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <Gift className=\"w-5 h-5\" />\n          Призовые фонды ({pools.length})\n        </CardTitle>\n        <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n          <DialogTrigger asChild>\n            <Button size=\"sm\" data-testid=\"button-add-pool\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Добавить\n            </Button>\n          </DialogTrigger>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Создать призовой фонд</DialogTitle>\n            </DialogHeader>\n            <div className=\"space-y-4 pt-4\">\n              <div>\n                <Label htmlFor=\"pool-name\">Название</Label>\n                <Input\n                  id=\"pool-name\"\n                  value={newPool.name}\n                  onChange={(e) => setNewPool({ ...newPool, name: e.target.value })}\n                  placeholder=\"Недельный призовой фонд\"\n                  data-testid=\"input-pool-name\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"pool-amount\">Сумма</Label>\n                <Input\n                  id=\"pool-amount\"\n                  type=\"number\"\n                  value={newPool.totalAmount}\n                  onChange={(e) => setNewPool({ ...newPool, totalAmount: parseInt(e.target.value) || 0 })}\n                  placeholder=\"1000\"\n                  data-testid=\"input-pool-amount\"\n                />\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <Label htmlFor=\"pool-active\">Активен</Label>\n                <Switch\n                  id=\"pool-active\"\n                  checked={newPool.isActive}\n                  onCheckedChange={(isActive) => setNewPool({ ...newPool, isActive })}\n                  data-testid=\"switch-pool-active\"\n                />\n              </div>\n              <Button\n                className=\"w-full\"\n                onClick={() => createPoolMutation.mutate(newPool)}\n                disabled={!newPool.name || createPoolMutation.isPending}\n                data-testid=\"button-create-pool\"\n              >\n                <Save className=\"w-4 h-4 mr-2\" />\n                Создать\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea className=\"h-[400px]\">\n          <div className=\"space-y-3\">\n            {pools.length === 0 ? (\n              <p className=\"text-center text-muted-foreground py-8\">Пока нет призовых фондов</p>\n            ) : (\n              pools.map((pool) => (\n                <div\n                  key={pool.id}\n                  className=\"flex items-center justify-between p-3 rounded-lg border\"\n                  data-testid={`pool-row-${pool.id}`}\n                >\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      <p className=\"font-medium\">{pool.name}</p>\n                      {pool.isActive && <Badge className=\"bg-green-500\">Активен</Badge>}\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Сумма: {pool.totalAmount.toLocaleString()}\n                    </p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Switch\n                      checked={pool.isActive}\n                      onCheckedChange={(isActive) =>\n                        updatePoolMutation.mutate({ id: pool.id, isActive })\n                      }\n                      disabled={updatePoolMutation.isPending}\n                      data-testid={`toggle-pool-${pool.id}`}\n                    />\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => deletePoolMutation.mutate(pool.id)}\n                      disabled={deletePoolMutation.isPending}\n                      data-testid={`delete-pool-${pool.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4 text-destructive\" />\n                    </Button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </ScrollArea>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction SignupBonusCard({ configs }: { configs: GameConfig[] }) {\n  const { toast } = useToast();\n  const signupBonusConfig = configs.find(c => c.key === 'signup_bonus');\n  const config = signupBonusConfig?.value as { enabled: boolean; amount: number; endDate: string } | undefined;\n  \n  const [enabled, setEnabled] = useState(config?.enabled ?? false);\n  const [amount, setAmount] = useState(config?.amount?.toString() ?? '150');\n  const [endDate, setEndDate] = useState(config?.endDate?.split('T')[0] ?? '');\n  \n  useEffect(() => {\n    if (config) {\n      setEnabled(config.enabled);\n      setAmount(config.amount.toString());\n      setEndDate(config.endDate.split('T')[0]);\n    }\n  }, [config]);\n\n  const updateMutation = useMutation({\n    mutationFn: async (newConfig: { enabled: boolean; amount: number; endDate: string }) => {\n      return apiRequest(\"POST\", \"/api/admin/configs\", {\n        key: 'signup_bonus',\n        value: newConfig,\n        description: 'Бонус Beads при первой регистрации (акция)'\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/configs\"] });\n      toast({ title: \"Сохранено\", description: \"Настройки акции обновлены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось сохранить настройки\", variant: \"destructive\" });\n    },\n  });\n\n  const handleSave = () => {\n    const parsedAmount = parseInt(amount);\n    if (!parsedAmount || parsedAmount <= 0) {\n      toast({ title: \"Ошибка\", description: \"Укажите корректную сумму бонуса\", variant: \"destructive\" });\n      return;\n    }\n    if (!endDate) {\n      toast({ title: \"Ошибка\", description: \"Укажите дату окончания акции\", variant: \"destructive\" });\n      return;\n    }\n    updateMutation.mutate({\n      enabled,\n      amount: parsedAmount,\n      endDate: `${endDate}T23:59:59.000Z`\n    });\n  };\n\n  const isExpired = endDate && new Date(`${endDate}T23:59:59.000Z`) < new Date();\n  const parsedAmount = parseInt(amount) || 0;\n  const isValid = parsedAmount > 0 && endDate;\n\n  return (\n    <Card className=\"mb-4\">\n      <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <Gift className=\"w-5 h-5 text-amber-500\" />\n          Приветственный бонус\n          {enabled && !isExpired && isValid && (\n            <Badge variant=\"default\" className=\"bg-green-500\">Активна</Badge>\n          )}\n          {enabled && !isValid && (\n            <Badge variant=\"outline\" className=\"border-amber-500 text-amber-500\">Не настроена</Badge>\n          )}\n          {isExpired && (\n            <Badge variant=\"destructive\">Истекла</Badge>\n          )}\n        </CardTitle>\n        <Switch\n          checked={enabled}\n          onCheckedChange={setEnabled}\n          data-testid=\"toggle-signup-bonus\"\n        />\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <p className=\"text-sm text-muted-foreground\">\n          Новые пользователи получат бонус Beads при первой регистрации\n        </p>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <Label htmlFor=\"bonus-amount\">Сумма бонуса *</Label>\n            <Input\n              id=\"bonus-amount\"\n              type=\"number\"\n              min=\"1\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n              placeholder=\"150\"\n              data-testid=\"input-bonus-amount\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"bonus-end-date\">Дата окончания *</Label>\n            <Input\n              id=\"bonus-end-date\"\n              type=\"date\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n              data-testid=\"input-bonus-end-date\"\n            />\n          </div>\n        </div>\n        <Button\n          onClick={handleSave}\n          disabled={updateMutation.isPending || !isValid}\n          className=\"w-full\"\n          data-testid=\"button-save-signup-bonus\"\n        >\n          {updateMutation.isPending ? (\n            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n          ) : (\n            <Save className=\"w-4 h-4 mr-2\" />\n          )}\n          Сохранить\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction ConfigTab({ configs }: { configs: GameConfig[] }) {\n  const { toast } = useToast();\n  const [newConfig, setNewConfig] = useState({ key: \"\", value: \"\", description: \"\" });\n  const [dialogOpen, setDialogOpen] = useState(false);\n\n  const createConfigMutation = useMutation({\n    mutationFn: async (config: { key: string; value: string; description: string }) => {\n      let parsedValue: unknown = config.value;\n      try {\n        parsedValue = JSON.parse(config.value);\n      } catch {\n        // Keep as string if not valid JSON\n      }\n      return apiRequest(\"POST\", \"/api/admin/configs\", { ...config, value: parsedValue });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/configs\"] });\n      toast({ title: \"Сохранено\", description: \"Настройка успешно сохранена\" });\n      setDialogOpen(false);\n      setNewConfig({ key: \"\", value: \"\", description: \"\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось сохранить настройку\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteConfigMutation = useMutation({\n    mutationFn: async (key: string) => {\n      return apiRequest(\"DELETE\", `/api/admin/configs/${key}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/configs\"] });\n      toast({ title: \"Удалено\", description: \"Настройка успешно удалена\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось удалить настройку\", variant: \"destructive\" });\n    },\n  });\n\n  // Filter out signup_bonus from general configs since it has its own card\n  const otherConfigs = configs.filter(c => c.key !== 'signup_bonus');\n\n  return (\n    <div className=\"space-y-4\">\n      <SignupBonusCard configs={configs} />\n      {/* <GameScoreLimitsCard /> */}      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"w-5 h-5\" />\n            Настройки игры ({otherConfigs.length})\n        </CardTitle>\n        <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n          <DialogTrigger asChild>\n            <Button size=\"sm\" data-testid=\"button-add-config\">\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Добавить\n            </Button>\n          </DialogTrigger>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Добавить настройку</DialogTitle>\n            </DialogHeader>\n            <div className=\"space-y-4 pt-4\">\n              <div>\n                <Label htmlFor=\"config-key\">Ключ</Label>\n                <Input\n                  id=\"config-key\"\n                  value={newConfig.key}\n                  onChange={(e) => setNewConfig({ ...newConfig, key: e.target.value })}\n                  placeholder=\"crypto_spawn_rate\"\n                  data-testid=\"input-config-key\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"config-value\">Значение (JSON или строка)</Label>\n                <Input\n                  id=\"config-value\"\n                  value={newConfig.value}\n                  onChange={(e) => setNewConfig({ ...newConfig, value: e.target.value })}\n                  placeholder='0.08 или {\"rate\": 0.08}'\n                  data-testid=\"input-config-value\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"config-desc\">Описание</Label>\n                <Input\n                  id=\"config-desc\"\n                  value={newConfig.description}\n                  onChange={(e) => setNewConfig({ ...newConfig, description: e.target.value })}\n                  placeholder=\"Частота появления крипто-шариков\"\n                  data-testid=\"input-config-desc\"\n                />\n              </div>\n              <Button\n                className=\"w-full\"\n                onClick={() => createConfigMutation.mutate(newConfig)}\n                disabled={!newConfig.key || !newConfig.value || createConfigMutation.isPending}\n                data-testid=\"button-create-config\"\n              >\n                <Save className=\"w-4 h-4 mr-2\" />\n                Сохранить\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea className=\"h-[400px]\">\n          <div className=\"space-y-3\">\n            {otherConfigs.length === 0 ? (\n              <p className=\"text-center text-muted-foreground py-8\">Пока нет настроек</p>\n            ) : (\n              otherConfigs.map((config) => (\n                <div\n                  key={config.id}\n                  className=\"flex items-center justify-between p-3 rounded-lg border\"\n                  data-testid={`config-row-${config.key}`}\n                >\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"font-mono text-sm font-medium truncate\">{config.key}</p>\n                    <p className=\"text-sm text-muted-foreground truncate\">\n                      {JSON.stringify(config.value)}\n                    </p>\n                    {config.description && (\n                      <p className=\"text-xs text-muted-foreground mt-1\">{config.description}</p>\n                    )}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => deleteConfigMutation.mutate(config.key)}\n                    disabled={deleteConfigMutation.isPending}\n                    data-testid={`delete-config-${config.key}`}\n                  >\n                    <Trash2 className=\"w-4 h-4 text-destructive\" />\n                  </Button>\n                </div>\n              ))\n            )}\n          </div>\n        </ScrollArea>\n      </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction ScoresTab({ scores, total }: { scores: GameScore[]; total: number }) {\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Trophy className=\"w-5 h-5\" />\n          Последние результаты ({total})\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea className=\"h-[400px]\">\n          <div className=\"space-y-3\">\n            {scores.length === 0 ? (\n              <p className=\"text-center text-muted-foreground py-8\">Пока нет результатов</p>\n            ) : (\n              scores.map((score) => (\n                <div\n                  key={score.id}\n                  className=\"flex items-center justify-between p-3 rounded-lg border\"\n                  data-testid={`score-row-${score.id}`}\n                >\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-bold text-lg\">{score.score}</span>\n                      {score.won && <Badge className=\"bg-green-500\">Победа</Badge>}\n                    </div>\n                    <div className=\"flex items-center gap-3 text-sm text-muted-foreground\">\n                      <span>Комбо: x{score.maxCombo}</span>\n                      <span>Время: {score.duration}с</span>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"flex gap-2 text-sm\">\n                      <Badge variant=\"outline\" className=\"text-amber-500 border-amber-500\">\n                        BTC: {score.cryptoBtc}\n                      </Badge>\n                      <Badge variant=\"outline\" className=\"text-blue-500 border-blue-500\">\n                        ETH: {score.cryptoEth}\n                      </Badge>\n                      <Badge variant=\"outline\" className=\"text-green-500 border-green-500\">\n                        USDT: {score.cryptoUsdt}\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </ScrollArea>\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface TelegramBotInfo {\n  bot: {\n    id: number;\n    is_bot: boolean;\n    first_name: string;\n    username: string;\n    can_join_groups: boolean;\n    can_read_all_group_messages: boolean;\n    supports_inline_queries: boolean;\n  };\n  webhook: {\n    url: string;\n    has_custom_certificate: boolean;\n    pending_update_count: number;\n    last_error_date?: number;\n    last_error_message?: string;\n    max_connections?: number;\n    allowed_updates?: string[];\n  };\n  appUrl: string;\n}\n\nfunction TelegramTab() {\n  const { toast } = useToast();\n  const [customWebhookUrl, setCustomWebhookUrl] = useState(\"\");\n  const [useCustomUrl, setUseCustomUrl] = useState(false);\n\n  const { data: botInfo, isLoading: infoLoading, refetch: refetchInfo } = useQuery<TelegramBotInfo>({\n    queryKey: [\"/api/telegram/info\"],\n  });\n\n  const setupWebhookMutation = useMutation({\n    mutationFn: async (customUrl?: string) => {\n      const res = await apiRequest(\"POST\", \"/api/telegram/setup-webhook\", {\n        customUrl: customUrl || undefined\n      });\n      if (!res.ok) {\n        const data = await res.json();\n        throw new Error(data.error || \"Ошибка настройки webhook\");\n      }\n      return res.json();\n    },\n    onSuccess: (data) => {\n      refetchInfo();\n      if (data.success) {\n        toast({\n          title: \"Webhook настроен\",\n          description: \"Бот готов к работе!\",\n        });\n      } else {\n        toast({\n          title: \"Частичная настройка\",\n          description: \"Некоторые настройки не применились\",\n          variant: \"destructive\",\n        });\n      }\n    },\n    onError: (error: Error) => {\n      toast({\n        title: \"Ошибка\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const isWebhookConfigured = botInfo?.webhook?.url && botInfo.webhook.url.includes(\"/api/telegram/webhook\");\n\n  return (\n    <Card>\n      <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <Bot className=\"w-5 h-5\" />\n          Telegram бот\n        </CardTitle>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => refetchInfo()}\n          disabled={infoLoading}\n          data-testid=\"button-refresh-bot-info\"\n        >\n          <RefreshCw className={`w-4 h-4 mr-2 ${infoLoading ? 'animate-spin' : ''}`} />\n          Обновить\n        </Button>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {infoLoading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\n          </div>\n        ) : botInfo ? (\n          <>\n            <div className=\"space-y-4\">\n              <div className=\"p-4 rounded-lg border\">\n                <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                  <Bot className=\"w-4 h-4\" />\n                  Информация о боте\n                </h3>\n                <div className=\"grid gap-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Имя:</span>\n                    <span className=\"font-medium\">{botInfo.bot?.first_name || \"—\"}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Username:</span>\n                    <span className=\"font-medium\">\n                      {botInfo.bot?.username ? (\n                        <a \n                          href={`https://t.me/${botInfo.bot.username}`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-primary hover:underline\"\n                        >\n                          @{botInfo.bot.username}\n                        </a>\n                      ) : \"—\"}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">ID:</span>\n                    <span className=\"font-mono\">{botInfo.bot?.id || \"—\"}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-4 rounded-lg border\">\n                <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                  <Link className=\"w-4 h-4\" />\n                  Webhook\n                </h3>\n                <div className=\"grid gap-2 text-sm\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-muted-foreground\">Статус:</span>\n                    <span className=\"flex items-center gap-1\">\n                      {isWebhookConfigured ? (\n                        <>\n                          <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                          <span className=\"text-green-500\">Настроен</span>\n                        </>\n                      ) : (\n                        <>\n                          <XCircle className=\"w-4 h-4 text-destructive\" />\n                          <span className=\"text-destructive\">Не настроен</span>\n                        </>\n                      )}\n                    </span>\n                  </div>\n                  {botInfo.webhook?.url && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-muted-foreground\">URL:</span>\n                      <span className=\"font-mono text-xs truncate max-w-[200px]\">\n                        {botInfo.webhook.url}\n                      </span>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-muted-foreground\">Ожидающие:</span>\n                    <span>{botInfo.webhook?.pending_update_count || 0}</span>\n                  </div>\n                  {botInfo.webhook?.last_error_message && (\n                    <div className=\"p-2 bg-destructive/10 rounded text-destructive text-xs\">\n                      Ошибка: {botInfo.webhook.last_error_message}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"p-4 rounded-lg border bg-muted/50\">\n                <h3 className=\"font-medium mb-2\">URL приложения</h3>\n                <p className=\"text-sm font-mono break-all\">{botInfo.appUrl}</p>\n              </div>\n            </div>\n\n            <div className=\"p-4 rounded-lg border bg-muted/30\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <Label className=\"flex items-center gap-2\">\n                  <Link className=\"w-4 h-4\" />\n                  Использовать свой URL\n                </Label>\n                <Switch\n                  checked={useCustomUrl}\n                  onCheckedChange={setUseCustomUrl}\n                  data-testid=\"switch-custom-url\"\n                />\n              </div>\n              \n              {useCustomUrl && (\n                <div className=\"space-y-2 mb-3\">\n                  <Input\n                    placeholder=\"https://your-app.replit.app\"\n                    value={customWebhookUrl}\n                    onChange={(e) => setCustomWebhookUrl(e.target.value)}\n                    data-testid=\"input-custom-webhook-url\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Укажите production URL вашего приложения (без /api/telegram/webhook)\n                  </p>\n                </div>\n              )}\n              \n              <p className=\"text-xs text-muted-foreground mb-3\">\n                {useCustomUrl \n                  ? `Webhook будет: ${customWebhookUrl || '...'}/api/telegram/webhook`\n                  : `Webhook будет: ${botInfo?.appUrl || '...'}/api/telegram/webhook`\n                }\n              </p>\n            </div>\n\n            <div className=\"flex flex-col gap-3\">\n              <Button\n                onClick={() => setupWebhookMutation.mutate(useCustomUrl ? customWebhookUrl : undefined)}\n                disabled={setupWebhookMutation.isPending || (useCustomUrl && !customWebhookUrl.trim())}\n                data-testid=\"button-setup-webhook\"\n              >\n                {setupWebhookMutation.isPending ? (\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                ) : (\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\n                )}\n                {isWebhookConfigured ? \"Переустановить Webhook\" : \"Настроить Webhook\"}\n              </Button>\n\n              {botInfo.bot?.username && (\n                <Button\n                  variant=\"outline\"\n                  asChild\n                  data-testid=\"button-open-bot\"\n                >\n                  <a\n                    href={`https://t.me/${botInfo.bot.username}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <Bot className=\"w-4 h-4 mr-2\" />\n                    Открыть бота\n                  </a>\n                </Button>\n              )}\n            </div>\n\n            <Separator />\n\n            <div className=\"space-y-3\">\n              <h3 className=\"font-medium\">Инструкция по настройке</h3>\n              <ol className=\"list-decimal list-inside space-y-2 text-sm text-muted-foreground\">\n                <li>Нажмите кнопку \"Настроить Webhook\" выше</li>\n                <li>Откройте бота в Telegram и отправьте /start</li>\n                <li>Бот будет отправлять кнопку для запуска Mini App</li>\n                <li>\n                  Для настройки Mini App в BotFather:\n                  <ul className=\"list-disc list-inside ml-4 mt-1 space-y-1\">\n                    <li>Отправьте /mybots в @BotFather</li>\n                    <li>Выберите вашего бота</li>\n                    <li>Bot Settings → Menu Button</li>\n                    <li>Настройте URL: <code className=\"text-xs bg-muted px-1 py-0.5 rounded\">{botInfo.appUrl}</code></li>\n                  </ul>\n                </li>\n              </ol>\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center py-8 text-muted-foreground\">\n            <XCircle className=\"w-12 h-12 mx-auto mb-3 text-destructive\" />\n            <p>Не удалось получить информацию о боте</p>\n            <p className=\"text-sm\">Проверьте настройки TELEGRAM_BOT_TOKEN</p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface HouseAccountData {\n  balance: number;\n  salesIncome: number;\n  totalDistributed: number;\n  lastUpdated: string;\n}\n\ninterface LivesConfigData {\n  livesPerGame: number;\n  extraLifeCost: number;\n  extraLifeSeconds: number;\n  maxExtraLives: number;\n}\n\ninterface TransactionData {\n  id: string;\n  userId: string | null;\n  type: string;\n  amount: number;\n  balanceBefore: number;\n  balanceAfter: number;\n  houseBalanceBefore: number | null;\n  houseBalanceAfter: number | null;\n  description: string | null;\n  gameScoreId: string | null;\n  createdAt: string;\n  username?: string;\n  cryptoBtc?: number;\n  cryptoEth?: number;\n  cryptoUsdt?: number;\n}\n\ninterface TransactionsResponse {\n  transactions: TransactionData[];\n  total: number;\n  limit: number;\n  offset: number;\n}\n\ninterface CryptoRewardData {\n  id: string;\n  userId: string;\n  cryptoType: string;\n  amount: number;\n  description?: string | null;\n  gameScoreId: string | null;\n  createdAt: string;\n  username?: string;\n  cryptoBtc?: number;\n  cryptoEth?: number;\n  cryptoUsdt?: number;\n}\n\ninterface CryptoRewardsResponse {\n  rewards: CryptoRewardData[];\n  total: number;\n  limit: number;\n  offset: number;\n}\n\nconst TRANSACTION_TYPES = [\n  { value: \"all\", label: \"Все типы\" },\n  { value: \"game_win_reward\", label: \"Победа\" },\n  { value: \"buy_extra_life\", label: \"Покупка жизни\" },\n  { value: \"referral_reward\", label: \"Реферал\" },\n  { value: \"admin_adjustment\", label: \"Админ\" },\n  { value: \"house_deposit\", label: \"Пополнение\" },\n];\n\nfunction TransactionsTab() {\n  const { toast } = useToast();\n  const [page, setPage] = useState(0);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [type, setType] = useState(\"all\");\n  const [deleteTarget, setDeleteTarget] = useState<{ id: string; desc: string } | null>(null);\n  const perPage = 20;\n\n  // Fetch economy config for crypto rates\n  const { data: economyConfig } = useQuery<GameEconomyConfig>({\n    queryKey: [\"/api/admin/game-economy\"],\n  });\n  const btcPerBall = economyConfig?.cryptoRewards?.btcPerBall ?? 0.00000005;\n  const ethPerBall = economyConfig?.cryptoRewards?.ethPerBall ?? 0.000001;\n  const usdtPerBall = economyConfig?.cryptoRewards?.usdtPerBall ?? 0.02;\n\n  const { data, isLoading } = useQuery<TransactionsResponse>({\n    queryKey: [\"/api/admin/transactions\", page, type, search],\n    queryFn: async () => {\n      const params = new URLSearchParams({\n        limit: perPage.toString(),\n        offset: (page * perPage).toString(),\n      });\n      if (type !== \"all\") params.set(\"type\", type);\n      if (search) params.set(\"search\", search);\n      const res = await fetch(`/api/admin/transactions?${params}`);\n      return res.json();\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest(\"DELETE\", `/api/admin/transactions/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/transactions\"] });\n      toast({ title: \"Готово\", description: \"Транзакция удалена\" });\n      setDeleteTarget(null);\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось удалить транзакцию\", variant: \"destructive\" });\n    },\n  });\n\n  const handleDelete = () => {\n    if (deleteTarget) {\n      deleteMutation.mutate(deleteTarget.id);\n    }\n  };\n\n  const handleSearch = () => {\n    setSearch(searchInput);\n    setPage(0);\n  };\n\n  const handleTypeChange = (value: string) => {\n    setType(value);\n    setPage(0);\n  };\n\n  const totalPages = data ? Math.ceil(data.total / perPage) : 0;\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleString(\"ru-RU\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getTypeLabel = (txType: string) => {\n    const labels: Record<string, { label: string; color: string }> = {\n      game_win_reward: { label: \"Победа\", color: \"bg-green-500/20 text-green-500\" },\n      buy_extra_life: { label: \"Покупка жизни\", color: \"bg-blue-500/20 text-blue-500\" },\n      referral_reward: { label: \"Реферал\", color: \"bg-purple-500/20 text-purple-500\" },\n      admin_adjustment: { label: \"Админ\", color: \"bg-amber-500/20 text-amber-500\" },\n      house_deposit: { label: \"Пополнение\", color: \"bg-cyan-500/20 text-cyan-500\" },\n    };\n    return labels[txType] || { label: txType, color: \"bg-muted text-muted-foreground\" };\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Activity className=\"w-5 h-5\" />\n          Журнал транзакций Beads\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex flex-col sm:flex-row gap-2\">\n          <div className=\"flex gap-2 flex-1\">\n            <Input\n              placeholder=\"Поиск по логину...\"\n              value={searchInput}\n              onChange={(e) => setSearchInput(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n              className=\"flex-1\"\n              data-testid=\"input-tx-search\"\n            />\n            <Button onClick={handleSearch} size=\"icon\" data-testid=\"button-tx-search\">\n              <Search className=\"w-4 h-4\" />\n            </Button>\n          </div>\n          <Select value={type} onValueChange={handleTypeChange}>\n            <SelectTrigger className=\"w-full sm:w-[180px]\" data-testid=\"select-tx-type\">\n              <SelectValue placeholder=\"Тип\" />\n            </SelectTrigger>\n            <SelectContent>\n              {TRANSACTION_TYPES.map((t) => (\n                <SelectItem key={t.value} value={t.value}>\n                  {t.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex justify-center py-8\">\n            <Loader2 className=\"w-6 h-6 animate-spin\" />\n          </div>\n        ) : (\n          <>\n            <div className=\"text-sm text-muted-foreground\">\n              Найдено: {data?.total || 0} транзакций\n            </div>\n            <ScrollArea className=\"h-[500px]\">\n              <div className=\"space-y-2\">\n                {data?.transactions.map((tx) => {\n                  const typeInfo = getTypeLabel(tx.type);\n                  return (\n                    <div\n                      key={tx.id}\n                      className=\"p-3 border rounded-lg space-y-2\"\n                      data-testid={`row-tx-${tx.id}`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          <Badge className={typeInfo.color}>{typeInfo.label}</Badge>\n                          <span className=\"font-medium\">\n                            @{tx.username || \"—\"}\n                          </span>\n                        </div>\n                        <span className={`font-bold ${tx.amount >= 0 ? \"text-green-500\" : \"text-red-500\"}`}>\n                          {tx.amount >= 0 ? \"+\" : \"\"}{tx.amount} Beads\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-muted-foreground\">\n                        {tx.description || \"Без описания\"}\n                      </div>\n                      {tx.gameScoreId && (tx.cryptoBtc || tx.cryptoEth || tx.cryptoUsdt) ? (\n                        <div className=\"flex flex-col gap-1 text-xs mt-1\">\n                          <span className=\"text-muted-foreground\">Шарики:</span>\n                          <div className=\"flex flex-wrap items-center gap-2\">\n                            {tx.cryptoBtc ? (\n                              <Badge variant=\"outline\" className=\"text-amber-500 border-amber-500/30\">\n                                <Bitcoin className=\"w-3 h-3 mr-1\" />\n                                {tx.cryptoBtc} = {(tx.cryptoBtc * btcPerBall).toFixed(8)} BTC\n                              </Badge>\n                            ) : null}\n                            {tx.cryptoEth ? (\n                              <Badge variant=\"outline\" className=\"text-blue-500 border-blue-500/30\">\n                                <SiEthereum className=\"w-3 h-3 mr-1\" />\n                                {tx.cryptoEth} = {(tx.cryptoEth * ethPerBall).toFixed(9)} ETH\n                              </Badge>\n                            ) : null}\n                            {tx.cryptoUsdt ? (\n                              <Badge variant=\"outline\" className=\"text-green-500 border-green-500/30\">\n                                <SiTether className=\"w-3 h-3 mr-1\" />\n                                {tx.cryptoUsdt} = {(tx.cryptoUsdt * usdtPerBall).toFixed(4)} USDT\n                              </Badge>\n                            ) : null}\n                          </div>\n                          {((tx as any).btcBalanceTransition || (tx as any).ethBalanceTransition || (tx as any).usdtBalanceTransition) && (\n                            <div className=\"flex flex-wrap items-center gap-3 mt-1 text-muted-foreground\">\n                              {(tx as any).btcBalanceTransition && (\n                                <span className=\"flex items-center gap-1\">\n                                  <Bitcoin className=\"w-3 h-3 text-amber-500\" />\n                                  {(tx as any).btcBalanceTransition}\n                                </span>\n                              )}\n                              {(tx as any).ethBalanceTransition && (\n                                <span className=\"flex items-center gap-1\">\n                                  <SiEthereum className=\"w-3 h-3 text-blue-500\" />\n                                  {(tx as any).ethBalanceTransition}\n                                </span>\n                              )}\n                              {(tx as any).usdtBalanceTransition && (\n                                <span className=\"flex items-center gap-1\">\n                                  <SiTether className=\"w-3 h-3 text-green-500\" />\n                                  {(tx as any).usdtBalanceTransition}\n                                </span>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      ) : null}\n                      <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n                        <span>Баланс: {tx.balanceBefore} → {tx.balanceAfter}</span>\n                        <div className=\"flex items-center gap-2\">\n                          <span>{formatDate(tx.createdAt)}</span>\n                          {!(tx as any).deletedAt && (\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"h-6 w-6 text-red-500 hover:text-red-600 hover:bg-red-500/10\"\n                              onClick={() => setDeleteTarget({ id: tx.id, desc: tx.description || tx.type })}\n                              data-testid={`button-delete-tx-${tx.id}`}\n                            >\n                              <Trash2 className=\"w-3 h-3\" />\n                            </Button>\n                          )}\n                          {(tx as any).deletedAt && (\n                            <Badge variant=\"outline\" className=\"text-red-500 border-red-500/30\">\n                              Удалено\n                            </Badge>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n                {(!data?.transactions || data.transactions.length === 0) && (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    Транзакции не найдены\n                  </div>\n                )}\n              </div>\n            </ScrollArea>\n\n            {totalPages > 1 && (\n              <div className=\"flex items-center justify-between\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setPage(Math.max(0, page - 1))}\n                  disabled={page === 0}\n                  data-testid=\"button-tx-prev\"\n                >\n                  <ChevronLeft className=\"w-4 h-4\" />\n                  Назад\n                </Button>\n                <span className=\"text-sm text-muted-foreground\">\n                  {page + 1} / {totalPages}\n                </span>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setPage(Math.min(totalPages - 1, page + 1))}\n                  disabled={page >= totalPages - 1}\n                  data-testid=\"button-tx-next\"\n                >\n                  Далее\n                  <ChevronRight className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            )}\n          </>\n        )}\n\n        <Dialog open={!!deleteTarget} onOpenChange={(open) => !open && setDeleteTarget(null)}>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Удалить транзакцию?</DialogTitle>\n              <DialogDescription>\n                {deleteTarget?.desc}\n              </DialogDescription>\n            </DialogHeader>\n            <DialogFooter>\n              <Button variant=\"outline\" onClick={() => setDeleteTarget(null)}>\n                Отмена\n              </Button>\n              <Button \n                variant=\"destructive\" \n                onClick={handleDelete}\n                disabled={deleteMutation.isPending}\n                data-testid=\"button-confirm-delete-tx\"\n              >\n                {deleteMutation.isPending ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Удалить\"}\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n      </CardContent>\n    </Card>\n  );\n}\n\nconst CRYPTO_TYPES = [\n  { value: \"all\", label: \"Все типы\" },\n  { value: \"btc\", label: \"BTC\" },\n  { value: \"eth\", label: \"ETH\" },\n  { value: \"usdt\", label: \"USDT\" },\n];\n\nfunction CryptoRewardsTab() {\n  const [page, setPage] = useState(0);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [cryptoType, setCryptoType] = useState(\"all\");\n  const perPage = 20;\n\n  const { data, isLoading } = useQuery<CryptoRewardsResponse>({\n    queryKey: [\"/api/admin/crypto-rewards\", page, cryptoType, search],\n    queryFn: async () => {\n      const params = new URLSearchParams({\n        limit: perPage.toString(),\n        offset: (page * perPage).toString(),\n      });\n      if (cryptoType !== \"all\") params.set(\"cryptoType\", cryptoType);\n      if (search) params.set(\"search\", search);\n      const res = await fetch(`/api/admin/crypto-rewards?${params}`);\n      return res.json();\n    },\n  });\n\n  const handleSearch = () => {\n    setSearch(searchInput);\n    setPage(0);\n  };\n\n  const handleTypeChange = (value: string) => {\n    setCryptoType(value);\n    setPage(0);\n  };\n\n  const totalPages = data ? Math.ceil(data.total / perPage) : 0;\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleString(\"ru-RU\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getCryptoLabel = (type: string) => {\n    const labels: Record<string, { label: string; color: string; icon: any }> = {\n      btc: { label: \"BTC\", color: \"bg-amber-500/20 text-amber-500\", icon: Bitcoin },\n      eth: { label: \"ETH\", color: \"bg-blue-500/20 text-blue-500\", icon: SiEthereum },\n      usdt: { label: \"USDT\", color: \"bg-green-500/20 text-green-500\", icon: SiTether },\n    };\n    return labels[type.toLowerCase()] || { label: type, color: \"bg-muted text-muted-foreground\", icon: Coins };\n  };\n\n  const formatAmount = (type: string, amount: number) => {\n    switch (type.toLowerCase()) {\n      case \"btc\":\n        return `${amount.toFixed(8)} BTC`;\n      case \"eth\":\n        return `${amount.toFixed(9)} ETH`;\n      case \"usdt\":\n        return `$${amount.toFixed(4)}`;\n      default:\n        return amount.toString();\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Coins className=\"w-5 h-5\" />\n          Крипто-награды\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex flex-col sm:flex-row gap-2\">\n          <div className=\"flex gap-2 flex-1\">\n            <Input\n              placeholder=\"Поиск по логину...\"\n              value={searchInput}\n              onChange={(e) => setSearchInput(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n              className=\"flex-1\"\n              data-testid=\"input-crypto-search\"\n            />\n            <Button onClick={handleSearch} size=\"icon\" data-testid=\"button-crypto-search\">\n              <Search className=\"w-4 h-4\" />\n            </Button>\n          </div>\n          <Select value={cryptoType} onValueChange={handleTypeChange}>\n            <SelectTrigger className=\"w-full sm:w-[180px]\" data-testid=\"select-crypto-type\">\n              <SelectValue placeholder=\"Тип\" />\n            </SelectTrigger>\n            <SelectContent>\n              {CRYPTO_TYPES.map((t) => (\n                <SelectItem key={t.value} value={t.value}>\n                  {t.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex justify-center py-8\">\n            <Loader2 className=\"w-6 h-6 animate-spin\" />\n          </div>\n        ) : (\n          <>\n            <div className=\"text-sm text-muted-foreground\">\n              Найдено: {data?.total || 0} наград\n            </div>\n            <ScrollArea className=\"h-[500px]\">\n              <div className=\"space-y-2\">\n                {data?.rewards.map((reward) => {\n                  const typeInfo = getCryptoLabel(reward.cryptoType);\n                  const Icon = typeInfo.icon;\n                  return (\n                    <div\n                      key={reward.id}\n                      className=\"p-3 border rounded-lg\"\n                      data-testid={`row-crypto-${reward.id}`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          <Badge className={typeInfo.color}>\n                            <Icon className=\"w-3 h-3 mr-1\" />\n                            {typeInfo.label}\n                          </Badge>\n                          <span className=\"font-medium\">\n                            @{reward.username || \"—\"}\n                          </span>\n                        </div>\n                        <div className=\"text-right\">\n                          <span className=\"font-bold text-green-500\">\n                            +{formatAmount(reward.cryptoType, reward.amount)}\n                          </span>\n                          {reward.description && (\n                            <div className=\"text-xs text-muted-foreground\">\n                              Баланс: {reward.description}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      {reward.gameScoreId ? (() => {\n                        const type = reward.cryptoType.toLowerCase();\n                        const ballCount = type === 'btc' ? reward.cryptoBtc \n                          : type === 'eth' ? reward.cryptoEth \n                          : type === 'usdt' ? reward.cryptoUsdt : 0;\n                        const rate = ballCount && ballCount > 0 ? reward.amount / ballCount : 0;\n                        const rateStr = type === 'btc' ? rate.toFixed(8)\n                          : type === 'eth' ? rate.toFixed(9)\n                          : rate.toFixed(4);\n                        return ballCount ? (\n                          <div className=\"text-xs mt-2 text-muted-foreground\">\n                            <span>Шарики: {ballCount} × {rateStr} = {formatAmount(reward.cryptoType, reward.amount)}</span>\n                          </div>\n                        ) : null;\n                      })() : null}\n                      <div className=\"flex items-center justify-between text-xs text-muted-foreground mt-2\">\n                        <span>Game: {reward.gameScoreId?.slice(0, 8) || \"—\"}...</span>\n                        <span>{formatDate(reward.createdAt)}</span>\n                      </div>\n                    </div>\n                  );\n                })}\n                {(!data?.rewards || data.rewards.length === 0) && (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    Крипто-награды не найдены\n                  </div>\n                )}\n              </div>\n            </ScrollArea>\n\n            {totalPages > 1 && (\n              <div className=\"flex items-center justify-between\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setPage(Math.max(0, page - 1))}\n                  disabled={page === 0}\n                  data-testid=\"button-crypto-prev\"\n                >\n                  <ChevronLeft className=\"w-4 h-4\" />\n                  Назад\n                </Button>\n                <span className=\"text-sm text-muted-foreground\">\n                  {page + 1} / {totalPages}\n                </span>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setPage(Math.min(totalPages - 1, page + 1))}\n                  disabled={page >= totalPages - 1}\n                  data-testid=\"button-crypto-next\"\n                >\n                  Далее\n                  <ChevronRight className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            )}\n          </>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction BeadsHouseTab() {\n  const { toast } = useToast();\n  const [txPage, setTxPage] = useState(0);\n  const [txSearch, setTxSearch] = useState(\"\");\n  const [txSearchInput, setTxSearchInput] = useState(\"\");\n  const [txType, setTxType] = useState(\"all\");\n  const txPerPage = 15;\n\n  const { data: houseAccount, isLoading: houseLoading } = useQuery<HouseAccountData>({\n    queryKey: [\"/api/admin/house-account\"],\n  });\n\n  const { data: livesConfig, isLoading: livesLoading } = useQuery<LivesConfigData>({\n    queryKey: [\"/api/lives-config\"],\n  });\n\n  const { data: transactionsData, isLoading: txLoading } = useQuery<TransactionsResponse>({\n    queryKey: [\"/api/admin/transactions\", txPage, txType, txSearch],\n    queryFn: async () => {\n      const params = new URLSearchParams({\n        limit: txPerPage.toString(),\n        offset: (txPage * txPerPage).toString(),\n      });\n      if (txType !== \"all\") params.set(\"type\", txType);\n      if (txSearch) params.set(\"search\", txSearch);\n      const res = await fetch(`/api/admin/transactions?${params}`);\n      return res.json();\n    },\n  });\n\n  const handleSearch = () => {\n    setTxSearch(txSearchInput);\n    setTxPage(0);\n  };\n\n  const handleTypeChange = (value: string) => {\n    setTxType(value);\n    setTxPage(0);\n  };\n\n  const totalPages = transactionsData ? Math.ceil(transactionsData.total / txPerPage) : 0;\n\n  const [editHouse, setEditHouse] = useState({ balance: 1000000, salesIncome: 0, totalDistributed: 0 });\n  const [editLives, setEditLives] = useState<LivesConfigData>({\n    livesPerGame: 3,\n    extraLifeCost: 50,\n    extraLifeSeconds: 30,\n    maxExtraLives: 5,\n  });\n\n  useEffect(() => {\n    if (houseAccount) {\n      setEditHouse({ \n        balance: houseAccount.balance, \n        salesIncome: houseAccount.salesIncome || 0,\n        totalDistributed: houseAccount.totalDistributed || 0\n      });\n    }\n  }, [houseAccount]);\n\n  useEffect(() => {\n    if (livesConfig) {\n      setEditLives(livesConfig);\n    }\n  }, [livesConfig]);\n\n  const updateHouseMutation = useMutation({\n    mutationFn: async (data: { balance: number; salesIncome: number; totalDistributed: number }) => {\n      return apiRequest(\"PUT\", \"/api/admin/house-account\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/house-account\"] });\n      toast({ title: \"House Account обновлён\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить House Account\", variant: \"destructive\" });\n    },\n  });\n\n  const updateLivesMutation = useMutation({\n    mutationFn: async (data: Partial<LivesConfigData>) => {\n      return apiRequest(\"PUT\", \"/api/admin/lives-config\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/lives-config\"] });\n      toast({ title: \"Настройки жизней сохранены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось сохранить настройки\", variant: \"destructive\" });\n    },\n  });\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return date.toLocaleString(\"ru-RU\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getTypeLabel = (type: string) => {\n    const labels: Record<string, { label: string; color: string }> = {\n      game_win_reward: { label: \"Победа\", color: \"bg-green-500/20 text-green-500\" },\n      buy_extra_life: { label: \"Покупка жизни\", color: \"bg-blue-500/20 text-blue-500\" },\n      referral_reward: { label: \"Реферал\", color: \"bg-purple-500/20 text-purple-500\" },\n      admin_adjustment: { label: \"Админ\", color: \"bg-amber-500/20 text-amber-500\" },\n      house_deposit: { label: \"Пополнение\", color: \"bg-cyan-500/20 text-cyan-500\" },\n    };\n    return labels[type] || { label: type, color: \"bg-muted text-muted-foreground\" };\n  };\n\n  if (houseLoading || livesLoading) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6 flex justify-center\">\n          <Loader2 className=\"w-6 h-6 animate-spin\" />\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid gap-4 md:grid-cols-3\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Coins className=\"w-4 h-4\" />\n              House Account\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-primary\" data-testid=\"text-house-balance\">\n              {houseAccount?.balance.toLocaleString() || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Beads в фонде</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <TrendingUp className=\"w-4 h-4\" />\n              Доход от продаж\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-500\" data-testid=\"text-sales-income\">\n              +{houseAccount?.salesIncome.toLocaleString() || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Beads от покупок</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Gift className=\"w-4 h-4\" />\n              Выдано игрокам\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-amber-500\" data-testid=\"text-total-distributed\">\n              {houseAccount?.totalDistributed.toLocaleString() || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Beads наград</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Wallet className=\"w-5 h-5\" />\n            Управление House Account\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid gap-4 md:grid-cols-3\">\n            <div className=\"space-y-2\">\n              <Label>Баланс Beads</Label>\n              <Input\n                type=\"number\"\n                value={editHouse.balance}\n                onChange={(e) => setEditHouse({ ...editHouse, balance: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-house-balance\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Доход от продаж</Label>\n              <Input\n                type=\"number\"\n                value={editHouse.salesIncome}\n                onChange={(e) => setEditHouse({ ...editHouse, salesIncome: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-sales-income\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Выдано игрокам</Label>\n              <Input\n                type=\"number\"\n                value={editHouse.totalDistributed}\n                onChange={(e) => setEditHouse({ ...editHouse, totalDistributed: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-total-distributed\"\n              />\n            </div>\n          </div>\n          <Button\n            onClick={() => updateHouseMutation.mutate(editHouse)}\n            disabled={updateHouseMutation.isPending}\n            className=\"w-full\"\n            data-testid=\"button-save-house\"\n          >\n            {updateHouseMutation.isPending ? (\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n            ) : (\n              <Save className=\"w-4 h-4 mr-2\" />\n            )}\n            Сохранить\n          </Button>\n          <p className=\"text-xs text-muted-foreground\">\n            House Account - центральный фонд Beads. Награды за победы дебетуются из него, покупки - кредитуются.\n          </p>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Target className=\"w-5 h-5\" />\n            Система жизней\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Игроки начинают с {editLives.livesPerGame} жизнями. При потере всех жизней - game over.\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid gap-4 md:grid-cols-4\">\n            <div className=\"space-y-2\">\n              <Label>Жизней в игре</Label>\n              <Input\n                type=\"number\"\n                value={editLives.livesPerGame}\n                onChange={(e) => setEditLives({ ...editLives, livesPerGame: parseInt(e.target.value) || 3 })}\n                data-testid=\"input-lives-per-game\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Цена жизни (Beads)</Label>\n              <Input\n                type=\"number\"\n                value={editLives.extraLifeCost}\n                onChange={(e) => setEditLives({ ...editLives, extraLifeCost: parseInt(e.target.value) || 50 })}\n                data-testid=\"input-extra-life-cost\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Секунд за жизнь</Label>\n              <Input\n                type=\"number\"\n                value={editLives.extraLifeSeconds}\n                onChange={(e) => setEditLives({ ...editLives, extraLifeSeconds: parseInt(e.target.value) || 30 })}\n                data-testid=\"input-extra-life-seconds\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Макс. покупок</Label>\n              <Input\n                type=\"number\"\n                value={editLives.maxExtraLives}\n                onChange={(e) => setEditLives({ ...editLives, maxExtraLives: parseInt(e.target.value) || 5 })}\n                data-testid=\"input-max-extra-lives\"\n              />\n            </div>\n          </div>\n          <Button\n            onClick={() => updateLivesMutation.mutate(editLives)}\n            disabled={updateLivesMutation.isPending}\n            data-testid=\"button-save-lives\"\n          >\n            {updateLivesMutation.isPending ? (\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n            ) : (\n              <Save className=\"w-4 h-4 mr-2\" />\n            )}\n            Сохранить настройки жизней\n          </Button>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Activity className=\"w-5 h-5\" />\n            Журнал транзакций\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Показано {transactionsData?.transactions.length || 0} из {transactionsData?.total || 0} транзакций\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <div className=\"flex gap-2 flex-1\">\n              <Input\n                placeholder=\"Поиск по описанию или ID...\"\n                value={txSearchInput}\n                onChange={(e) => setTxSearchInput(e.target.value)}\n                onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n                className=\"flex-1\"\n                data-testid=\"input-tx-search\"\n              />\n              <Button variant=\"outline\" onClick={handleSearch} data-testid=\"button-tx-search\">\n                <Search className=\"w-4 h-4\" />\n              </Button>\n            </div>\n            <Select value={txType} onValueChange={handleTypeChange}>\n              <SelectTrigger className=\"w-full sm:w-[180px]\" data-testid=\"select-tx-type\">\n                <SelectValue placeholder=\"Тип транзакции\" />\n              </SelectTrigger>\n              <SelectContent>\n                {TRANSACTION_TYPES.map((t) => (\n                  <SelectItem key={t.value} value={t.value}>\n                    {t.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {txLoading ? (\n            <div className=\"flex justify-center py-6\">\n              <Loader2 className=\"w-6 h-6 animate-spin\" />\n            </div>\n          ) : transactionsData?.transactions.length === 0 ? (\n            <p className=\"text-center py-6 text-muted-foreground\">Нет транзакций</p>\n          ) : (\n            <ScrollArea className=\"h-[400px]\">\n              <div className=\"space-y-2\">\n                {transactionsData?.transactions.map((tx) => {\n                  const typeInfo = getTypeLabel(tx.type);\n                  return (\n                    <div\n                      key={tx.id}\n                      className=\"flex items-center justify-between p-3 rounded-lg bg-muted/50 border\"\n                      data-testid={`tx-row-${tx.id}`}\n                    >\n                      <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                        <Badge className={typeInfo.color}>{typeInfo.label}</Badge>\n                        <div className=\"min-w-0 flex-1\">\n                          <p className=\"text-sm font-medium truncate\">\n                            {tx.description || \"—\"}\n                            {tx.username && (\n                              <span className=\"text-muted-foreground ml-2\">\n                                ({tx.username})\n                              </span>\n                            )}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">{formatDate(tx.createdAt)}</p>\n                        </div>\n                      </div>\n                      <div className=\"text-right flex-shrink-0 ml-2\">\n                        <p className={`font-bold ${tx.amount >= 0 ? \"text-green-500\" : \"text-red-500\"}`}>\n                          {tx.amount >= 0 ? \"+\" : \"\"}{tx.amount.toLocaleString()}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {tx.balanceBefore.toLocaleString()} → {tx.balanceAfter.toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </ScrollArea>\n          )}\n\n          {totalPages > 1 && (\n            <div className=\"flex items-center justify-between pt-2\">\n              <p className=\"text-sm text-muted-foreground\">\n                Страница {txPage + 1} из {totalPages}\n              </p>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setTxPage(Math.max(0, txPage - 1))}\n                  disabled={txPage === 0}\n                  data-testid=\"button-tx-prev\"\n                >\n                  <ChevronLeft className=\"w-4 h-4\" />\n                  Назад\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setTxPage(Math.min(totalPages - 1, txPage + 1))}\n                  disabled={txPage >= totalPages - 1}\n                  data-testid=\"button-tx-next\"\n                >\n                  Вперёд\n                  <ChevronRight className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction formatNumber(val: number | string): string {\n  if (typeof val === 'string') return val;\n  if (val === 0) return '0';\n  if (Math.abs(val) < 0.0001) {\n    return val.toFixed(20).replace(/\\.?0+$/, '');\n  }\n  return String(val);\n}\n\nfunction EconomyTab() {\n  const { toast } = useToast();\n  const [editConfig, setEditConfig] = useState<GameEconomyConfig>({\n    points: { normal: 5, btc: 500, eth: 300, usdt: 200 },\n    combo: { multiplier: 1.5, maxChain: 10 },\n    crypto: { spawnChance: 0.08 },\n    cryptoRewards: { btcPerBall: 0.00000005, ethPerBall: 0.0000001, usdtPerBall: 0.01 },\n    dailyLimits: { btcMaxSatsPerDay: 300, ethMaxWeiPerDay: 3000000000000000, usdtMaxPerDay: 3.0 },\n    pools: { btcBalanceSats: 100000, ethBalanceWei: 1000000000000000, usdtBalance: 100 },\n    perGameLimits: { btcMaxBeadsPerGame: 15, ethMaxBeadsPerGame: 15, usdtMaxBeadsPerGame: 15 },\n  });\n  const [rawInputs, setRawInputs] = useState<Record<string, string>>({});\n  const [hasInitialized, setHasInitialized] = useState(false);\n\n  const { data: economyConfig, isLoading, error, refetch } = useQuery<GameEconomyConfig>({\n    queryKey: [\"/api/admin/game-economy\"],\n  });\n\n  useEffect(() => {\n    if (economyConfig && !hasInitialized) {\n      const parseConfig = (config: any): GameEconomyConfig => ({\n        points: {\n          normal: parseFloat(String(config.points?.normal ?? 5)),\n          btc: parseFloat(String(config.points?.btc ?? 500)),\n          eth: parseFloat(String(config.points?.eth ?? 300)),\n          usdt: parseFloat(String(config.points?.usdt ?? 200)),\n        },\n        combo: {\n          multiplier: parseFloat(String(config.combo?.multiplier ?? 1.5)),\n          maxChain: parseInt(String(config.combo?.maxChain ?? 10)),\n        },\n        crypto: {\n          spawnChance: parseFloat(String(config.crypto?.spawnChance ?? 0.08)),\n        },\n        cryptoRewards: {\n          btcPerBall: parseFloat(String(config.cryptoRewards?.btcPerBall ?? 0.00000005)),\n          ethPerBall: parseFloat(String(config.cryptoRewards?.ethPerBall ?? 0.0000001)),\n          usdtPerBall: parseFloat(String(config.cryptoRewards?.usdtPerBall ?? 0.01)),\n        },\n        dailyLimits: {\n          btcMaxSatsPerDay: parseInt(String(config.dailyLimits?.btcMaxSatsPerDay ?? 300)),\n          ethMaxWeiPerDay: parseFloat(String(config.dailyLimits?.ethMaxWeiPerDay ?? 3000000000000000)),\n          usdtMaxPerDay: parseFloat(String(config.dailyLimits?.usdtMaxPerDay ?? 3.0)),\n        },\n        pools: {\n          btcBalanceSats: parseInt(String(config.pools?.btcBalanceSats ?? 100000)),\n          ethBalanceWei: parseFloat(String(config.pools?.ethBalanceWei ?? 1000000000000000)),\n          usdtBalance: parseFloat(String(config.pools?.usdtBalance ?? 100)),\n        },\n        perGameLimits: {\n          btcMaxBeadsPerGame: parseInt(String(config.perGameLimits?.btcMaxBeadsPerGame ?? 15)),\n          ethMaxBeadsPerGame: parseInt(String(config.perGameLimits?.ethMaxBeadsPerGame ?? 15)),\n          usdtMaxBeadsPerGame: parseInt(String(config.perGameLimits?.usdtMaxBeadsPerGame ?? 15)),\n        },\n      });\n      setEditConfig(parseConfig(economyConfig));\n      setHasInitialized(true);\n    }\n  }, [economyConfig, hasInitialized]);\n\n  const updateConfigMutation = useMutation({\n    mutationFn: async (config: GameEconomyConfig) => {\n      return apiRequest(\"PUT\", \"/api/admin/game-economy\", config);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/game-economy\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/game-economy\"] });\n      toast({ title: \"Сохранено\", description: \"Настройки экономики обновлены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить настройки\", variant: \"destructive\" });\n    },\n  });\n\n  if (isLoading) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6 flex justify-center\">\n          <Loader2 className=\"w-6 h-6 animate-spin\" />\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"text-center space-y-4\">\n            <XCircle className=\"w-12 h-12 mx-auto text-destructive\" />\n            <p className=\"text-muted-foreground\">Не удалось загрузить настройки экономики</p>\n            <Button onClick={() => refetch()} data-testid=\"button-retry-economy\">\n              <RefreshCw className=\"w-4 h-4 mr-2\" />\n              Повторить\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <TrendingUp className=\"w-5 h-5\" />\n            Экономика игры\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Настройка очков, комбо и вероятности появления крипто-шариков\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium text-lg flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-amber-500\" />\n              Очки за шарики\n            </h3>\n            <div className=\"grid gap-4 md:grid-cols-4\">\n              <div className=\"space-y-2\">\n                <Label>Обычный шарик</Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['normal'] ?? formatNumber(editConfig.points.normal)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, normal: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        points: { ...editConfig.points, normal: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, normal: undefined as any }))}\n                  data-testid=\"input-points-normal\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"flex items-center gap-2\">\n                  <Bitcoin className=\"w-4 h-4 text-amber-500\" />\n                  BTC шарик\n                </Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['btc'] ?? formatNumber(editConfig.points.btc)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, btc: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        points: { ...editConfig.points, btc: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, btc: undefined as any }))}\n                  data-testid=\"input-points-btc\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"flex items-center gap-2\">\n                  <SiEthereum className=\"w-4 h-4 text-blue-500\" />\n                  ETH шарик\n                </Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['eth'] ?? formatNumber(editConfig.points.eth)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, eth: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        points: { ...editConfig.points, eth: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, eth: undefined as any }))}\n                  data-testid=\"input-points-eth\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label className=\"flex items-center gap-2\">\n                  <SiTether className=\"w-4 h-4 text-green-500\" />\n                  USDT шарик\n                </Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['usdt'] ?? formatNumber(editConfig.points.usdt)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, usdt: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        points: { ...editConfig.points, usdt: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, usdt: undefined as any }))}\n                  data-testid=\"input-points-usdt\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium text-lg flex items-center gap-2\">\n              <TrendingUp className=\"w-5 h-5 text-green-500\" />\n              Комбо система\n            </h3>\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"space-y-2\">\n                <Label>Множитель комбо</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={rawInputs['comboMultiplier'] ?? formatNumber(editConfig.combo.multiplier)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, comboMultiplier: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 1 && num <= 5) {\n                      setEditConfig({\n                        ...editConfig,\n                        combo: { ...editConfig.combo, multiplier: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, comboMultiplier: undefined as any }))}\n                  data-testid=\"input-combo-multiplier\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Множитель применяется за каждое комбо\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Макс. цепочка комбо</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={rawInputs['comboMaxChain'] ?? String(editConfig.combo.maxChain)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, comboMaxChain: val }));\n                    const num = parseInt(val);\n                    if (!isNaN(num) && num >= 1 && num <= 20) {\n                      setEditConfig({\n                        ...editConfig,\n                        combo: { ...editConfig.combo, maxChain: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, comboMaxChain: undefined as any }))}\n                  data-testid=\"input-combo-max\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Максимальное кол-во комбо подряд\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium text-lg flex items-center gap-2\">\n              <Wallet className=\"w-5 h-5 text-purple-500\" />\n              Крипто-шарики\n            </h3>\n            <div className=\"space-y-2\">\n              <Label>Вероятность появления (0-1)</Label>\n              <Input\n                type=\"text\"\n                value={rawInputs['spawnChance'] ?? formatNumber(editConfig.crypto.spawnChance)}\n                onChange={(e) => {\n                  const val = e.target.value;\n                  setRawInputs(prev => ({ ...prev, spawnChance: val }));\n                  const num = parseFloat(val);\n                  if (!isNaN(num) && num >= 0 && num <= 1) {\n                    setEditConfig({\n                      ...editConfig,\n                      crypto: { spawnChance: num }\n                    });\n                  }\n                }}\n                onBlur={() => setRawInputs(prev => ({ ...prev, spawnChance: undefined as any }))}\n                data-testid=\"input-crypto-spawn\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Шанс появления крипто-шарика (0.08 = 8%, 0.0001 = 0.01%)\n              </p>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium text-lg flex items-center gap-2\">\n              <Coins className=\"w-5 h-5 text-amber-500\" />\n              Крипто-награды за шарик\n            </h3>\n            <p className=\"text-sm text-muted-foreground\">\n              Сколько реальной криптовалюты начисляется игроку за каждый собранный крипто-шарик\n            </p>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>BTC за шарик</Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['btcPerBall'] ?? formatNumber(editConfig.cryptoRewards.btcPerBall)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, btcPerBall: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        cryptoRewards: { ...editConfig.cryptoRewards, btcPerBall: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, btcPerBall: undefined as any }))}\n                  data-testid=\"input-btc-per-ball\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  0.00000005 = 5 сатош\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>ETH за шарик</Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['ethPerBall'] ?? formatNumber(editConfig.cryptoRewards.ethPerBall)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, ethPerBall: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        cryptoRewards: { ...editConfig.cryptoRewards, ethPerBall: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, ethPerBall: undefined as any }))}\n                  data-testid=\"input-eth-per-ball\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  0.0000001 = 100 gwei\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT за шарик</Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['usdtPerBall'] ?? formatNumber(editConfig.cryptoRewards.usdtPerBall)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, usdtPerBall: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        cryptoRewards: { ...editConfig.cryptoRewards, usdtPerBall: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, usdtPerBall: undefined as any }))}\n                  data-testid=\"input-usdt-per-ball\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  0.01 = 1 цент\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium\">Дневные лимиты</h3>\n            <p className=\"text-sm text-muted-foreground\">Максимальное количество крипто-наград в день для каждого пользователя</p>\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>BTC макс/день</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={rawInputs['btcDailyLimit'] ?? (Number.isFinite(editConfig.dailyLimits.btcMaxSatsPerDay) ? (editConfig.dailyLimits.btcMaxSatsPerDay / 100000000).toFixed(8) : '')}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, btcDailyLimit: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      const sats = Math.round(num * 100000000);\n                      setEditConfig({\n                        ...editConfig,\n                        dailyLimits: { ...editConfig.dailyLimits, btcMaxSatsPerDay: sats }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, btcDailyLimit: undefined as any }))}\n                  data-testid=\"input-btc-daily-limit\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Вводите в BTC (0.001 = 100,000 сат)\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>ETH макс/день</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={rawInputs['ethDailyLimit'] ?? (Number.isFinite(editConfig.dailyLimits.ethMaxWeiPerDay) ? (editConfig.dailyLimits.ethMaxWeiPerDay / 1000000000000000000).toFixed(9) : '')}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, ethDailyLimit: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      const wei = Math.round(num * 1000000000000000000);\n                      setEditConfig({\n                        ...editConfig,\n                        dailyLimits: { ...editConfig.dailyLimits, ethMaxWeiPerDay: wei }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, ethDailyLimit: undefined as any }))}\n                  data-testid=\"input-eth-daily-limit\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Вводите в ETH (0.001 = 10^15 wei)\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT макс/день</Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['usdtMaxPerDay'] ?? formatNumber(editConfig.dailyLimits.usdtMaxPerDay)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, usdtMaxPerDay: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        dailyLimits: { ...editConfig.dailyLimits, usdtMaxPerDay: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, usdtMaxPerDay: undefined as any }))}\n                  data-testid=\"input-usdt-daily-limit\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  1.0 = 1 USDT/день\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium text-lg flex items-center gap-2\">\n              <Wallet className=\"w-5 h-5 text-blue-500\" />\n              Пул крипто-фонда\n            </h3>\n            <p className=\"text-sm text-muted-foreground\">\n              Общий баланс криптовалюты для раздачи игрокам. При нулевом балансе крипто-шарики не появляются.\n            </p>\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>BTC пул</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={rawInputs['btcPool'] ?? (Number.isFinite(editConfig.pools.btcBalanceSats) ? (editConfig.pools.btcBalanceSats / 100000000).toFixed(8) : '')}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, btcPool: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      const sats = Math.round(num * 100000000);\n                      setEditConfig({\n                        ...editConfig,\n                        pools: { ...editConfig.pools, btcBalanceSats: sats }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, btcPool: undefined as any }))}\n                  data-testid=\"input-btc-pool\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Вводите в BTC (0.001 = 100,000 сат)\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>ETH пул</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"decimal\"\n                  value={rawInputs['ethPool'] ?? (Number.isFinite(editConfig.pools.ethBalanceWei) ? (editConfig.pools.ethBalanceWei / 1000000000000000000).toFixed(9) : '')}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, ethPool: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      const wei = Math.round(num * 1000000000000000000);\n                      setEditConfig({\n                        ...editConfig,\n                        pools: { ...editConfig.pools, ethBalanceWei: wei }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, ethPool: undefined as any }))}\n                  data-testid=\"input-eth-pool\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Вводите в ETH (0.001 = 10^15 wei)\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT пул ($)</Label>\n                <Input\n                  type=\"text\"\n                  value={rawInputs['usdtPool'] ?? formatNumber(editConfig.pools.usdtBalance)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, usdtPool: val }));\n                    const num = parseFloat(val);\n                    if (!isNaN(num) && num >= 0) {\n                      setEditConfig({\n                        ...editConfig,\n                        pools: { ...editConfig.pools, usdtBalance: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, usdtPool: undefined as any }))}\n                  data-testid=\"input-usdt-pool\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  100 = $100 USDT\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium text-lg flex items-center gap-2\">\n              <Target className=\"w-5 h-5 text-orange-500\" />\n              Лимиты за игру\n            </h3>\n            <p className=\"text-sm text-muted-foreground\">\n              Максимальное количество крипто-шариков каждого типа, которое может появиться в одной игре\n            </p>\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>BTC шариков/игра</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={rawInputs['btcPerGame'] ?? String(editConfig.perGameLimits.btcMaxBeadsPerGame)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, btcPerGame: val }));\n                    const num = parseInt(val);\n                    if (!isNaN(num) && num >= 0 && num <= 100) {\n                      setEditConfig({\n                        ...editConfig,\n                        perGameLimits: { ...editConfig.perGameLimits, btcMaxBeadsPerGame: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, btcPerGame: undefined as any }))}\n                  data-testid=\"input-btc-per-game\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>ETH шариков/игра</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={rawInputs['ethPerGame'] ?? String(editConfig.perGameLimits.ethMaxBeadsPerGame)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, ethPerGame: val }));\n                    const num = parseInt(val);\n                    if (!isNaN(num) && num >= 0 && num <= 100) {\n                      setEditConfig({\n                        ...editConfig,\n                        perGameLimits: { ...editConfig.perGameLimits, ethMaxBeadsPerGame: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, ethPerGame: undefined as any }))}\n                  data-testid=\"input-eth-per-game\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT шариков/игра</Label>\n                <Input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={rawInputs['usdtPerGame'] ?? String(editConfig.perGameLimits.usdtMaxBeadsPerGame)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    setRawInputs(prev => ({ ...prev, usdtPerGame: val }));\n                    const num = parseInt(val);\n                    if (!isNaN(num) && num >= 0 && num <= 100) {\n                      setEditConfig({\n                        ...editConfig,\n                        perGameLimits: { ...editConfig.perGameLimits, usdtMaxBeadsPerGame: num }\n                      });\n                    }\n                  }}\n                  onBlur={() => setRawInputs(prev => ({ ...prev, usdtPerGame: undefined as any }))}\n                  data-testid=\"input-usdt-per-game\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"flex gap-3\">\n            <Button\n              onClick={() => updateConfigMutation.mutate(editConfig)}\n              disabled={updateConfigMutation.isPending}\n              data-testid=\"button-save-economy\"\n            >\n              {updateConfigMutation.isPending ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Сохранить настройки\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                if (economyConfig) {\n                  const parseConfig = (config: any): GameEconomyConfig => ({\n                    points: {\n                      normal: parseFloat(String(config.points?.normal ?? 5)),\n                      btc: parseFloat(String(config.points?.btc ?? 500)),\n                      eth: parseFloat(String(config.points?.eth ?? 300)),\n                      usdt: parseFloat(String(config.points?.usdt ?? 200)),\n                    },\n                    combo: {\n                      multiplier: parseFloat(String(config.combo?.multiplier ?? 1.5)),\n                      maxChain: parseInt(String(config.combo?.maxChain ?? 10)),\n                    },\n                    crypto: {\n                      spawnChance: parseFloat(String(config.crypto?.spawnChance ?? 0.08)),\n                    },\n                    cryptoRewards: {\n                      btcPerBall: parseFloat(String(config.cryptoRewards?.btcPerBall ?? 0.00000005)),\n                      ethPerBall: parseFloat(String(config.cryptoRewards?.ethPerBall ?? 0.0000001)),\n                      usdtPerBall: parseFloat(String(config.cryptoRewards?.usdtPerBall ?? 0.01)),\n                    },\n                    dailyLimits: {\n                      btcMaxSatsPerDay: parseInt(String(config.dailyLimits?.btcMaxSatsPerDay ?? 300)),\n                      ethMaxWeiPerDay: parseFloat(String(config.dailyLimits?.ethMaxWeiPerDay ?? 3000000000000000)),\n                      usdtMaxPerDay: parseFloat(String(config.dailyLimits?.usdtMaxPerDay ?? 3.0)),\n                    },\n                    pools: {\n                      btcBalanceSats: parseInt(String(config.pools?.btcBalanceSats ?? 100000)),\n                      ethBalanceWei: parseFloat(String(config.pools?.ethBalanceWei ?? 1000000000000000)),\n                      usdtBalance: parseFloat(String(config.pools?.usdtBalance ?? 100)),\n                    },\n                    perGameLimits: {\n                      btcMaxBeadsPerGame: parseInt(String(config.perGameLimits?.btcMaxBeadsPerGame ?? 15)),\n                      ethMaxBeadsPerGame: parseInt(String(config.perGameLimits?.ethMaxBeadsPerGame ?? 15)),\n                      usdtMaxBeadsPerGame: parseInt(String(config.perGameLimits?.usdtMaxBeadsPerGame ?? 15)),\n                    },\n                  });\n                  setEditConfig(parseConfig(economyConfig));\n                }\n              }}\n              disabled={!economyConfig}\n              data-testid=\"button-reset-economy\"\n            >\n              <RotateCcw className=\"w-4 h-4 mr-2\" />\n              Сбросить изменения\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Подсказка</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ul className=\"text-sm text-muted-foreground space-y-2 list-disc list-inside\">\n            <li>Изменения вступают в силу сразу для новых игр</li>\n            <li>Крипто-шарики появляются только если их баланс в \"Фонде\" больше 0</li>\n            <li>Бонусные очки за крипто-шарики начисляются только при сборе 3+ шариков одного цвета</li>\n            <li><strong>Дневные лимиты защищают экономику:</strong> криптошары не появляются, если лимит юзера или фонд исчерпаны</li>\n            <li><strong>Комбо-множитель не влияет на BTC/ETH/USDT награды,</strong> только на Beads</li>\n            <li>При текущих настройках: 5 сатош за BTC-шар, лимит 300 сатош/день = до 4 игр с 15 BTC-шарами</li>\n            <li>BTC считается в сатоши (int), ETH в wei (bigint), USDT в центах/decimal</li>\n          </ul>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction ReferralsTab() {\n  const { toast } = useToast();\n  \n  const { data: referralConfig, isLoading: configLoading } = useQuery<ReferralConfig>({\n    queryKey: [\"/api/referral/config\"],\n  });\n\n  const { data: referralStats, isLoading: statsLoading } = useQuery<ReferralUserStats[]>({\n    queryKey: [\"/api/admin/referral/stats\"],\n  });\n\n  const [editConfig, setEditConfig] = useState<ReferralConfig>({\n    maxDirectReferralsPerUser: 1000,\n    level1RewardPercent: 10,\n    level2RewardPercent: 3,\n    maxReferralBeadsPerRefPerDay: 1000000,\n    maxReferralBeadsPerUserPerDay: 10000000,\n    title: 'Реферальная программа',\n    description: 'Зови друзей — получай 10% их Beads!',\n  });\n\n  useEffect(() => {\n    if (referralConfig) {\n      setEditConfig(referralConfig);\n    }\n  }, [referralConfig]);\n\n  const updateConfigMutation = useMutation({\n    mutationFn: async (config: Partial<ReferralConfig>) => {\n      return apiRequest(\"PUT\", \"/api/admin/referral/config\", config);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/referral/config\"] });\n      toast({ title: \"Настройки рефералов сохранены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка сохранения\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteRewardsMutation = useMutation({\n    mutationFn: async (userId: string) => {\n      return apiRequest(\"DELETE\", `/api/admin/referral/rewards/${userId}`);\n    },\n    onSuccess: (_, userId) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/referral/stats\"] });\n      toast({ title: \"Реферальные награды обнулены\" });\n    },\n    onError: () => {\n      toast({ title: \"Ошибка удаления\", variant: \"destructive\" });\n    },\n  });\n\n  const handleResetRewards = (userId: string, username: string, beads: number) => {\n    if (confirm(`Обнулить ${beads.toLocaleString()} Beads у ${username}?\\nЭто действие нельзя отменить!`)) {\n      deleteRewardsMutation.mutate(userId);\n    }\n  };\n\n  if (configLoading || statsLoading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Settings className=\"w-5 h-5\" />\n            Настройки реферальной системы\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"space-y-4 pb-4 border-b\">\n            <h3 className=\"font-medium flex items-center gap-2\">\n              <Gift className=\"w-4 h-4\" />\n              Тексты в приложении\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>Заголовок</Label>\n                <Input\n                  value={editConfig.title || ''}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    title: e.target.value\n                  })}\n                  placeholder=\"Реферальная программа\"\n                  data-testid=\"input-referral-title\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Описание</Label>\n                <Input\n                  value={editConfig.description || ''}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    description: e.target.value\n                  })}\n                  placeholder=\"Зови друзей — получай 10% их Beads!\"\n                  data-testid=\"input-referral-description\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <h3 className=\"font-medium\">Бонусы</h3>\n              <div className=\"space-y-2\">\n                <Label>Бонус 1-го уровня (%)</Label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  max={100}\n                  value={editConfig.level1RewardPercent}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    level1RewardPercent: parseInt(e.target.value) || 0\n                  })}\n                  data-testid=\"input-level1-percent\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  % от Beads прямого реферала\n                </p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Бонус 2-го уровня (%)</Label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  max={100}\n                  value={editConfig.level2RewardPercent}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    level2RewardPercent: parseInt(e.target.value) || 0\n                  })}\n                  data-testid=\"input-level2-percent\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  % от Beads реферала 2-го уровня\n                </p>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <h3 className=\"font-medium\">Лимиты</h3>\n              <div className=\"space-y-2\">\n                <Label>Макс. рефералов на пользователя</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  value={editConfig.maxDirectReferralsPerUser}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    maxDirectReferralsPerUser: parseInt(e.target.value) || 1\n                  })}\n                  data-testid=\"input-max-referrals\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Макс. Beads от одного реферала в день</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  value={editConfig.maxReferralBeadsPerRefPerDay}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    maxReferralBeadsPerRefPerDay: parseInt(e.target.value) || 1\n                  })}\n                  data-testid=\"input-max-beads-per-ref\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Макс. Beads от всех рефералов в день</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  value={editConfig.maxReferralBeadsPerUserPerDay}\n                  onChange={(e) => setEditConfig({\n                    ...editConfig,\n                    maxReferralBeadsPerUserPerDay: parseInt(e.target.value) || 1\n                  })}\n                  data-testid=\"input-max-beads-per-day\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <Button\n              onClick={() => updateConfigMutation.mutate(editConfig)}\n              disabled={updateConfigMutation.isPending}\n              data-testid=\"button-save-referral-config\"\n            >\n              {updateConfigMutation.isPending ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Сохранить настройки\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={() => referralConfig && setEditConfig(referralConfig)}\n              disabled={!referralConfig}\n              data-testid=\"button-reset-referral-config\"\n            >\n              <RotateCcw className=\"w-4 h-4 mr-2\" />\n              Сбросить изменения\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Users2 className=\"w-5 h-5\" />\n            Статистика рефералов\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ScrollArea className=\"h-[500px]\">\n            <div className=\"space-y-2\">\n              <div className=\"grid grid-cols-7 gap-2 text-xs font-medium text-muted-foreground px-2 py-1 border-b\">\n                <div>Имя</div>\n                <div>Код</div>\n                <div>Приглашён</div>\n                <div className=\"text-center\">L1</div>\n                <div className=\"text-center\">L2</div>\n                <div className=\"text-right\">Заработано</div>\n                <div></div>\n              </div>\n              \n              {referralStats?.map((stat) => (\n                <div \n                  key={stat.userId} \n                  className=\"grid grid-cols-7 gap-2 text-sm items-center px-2 py-2 rounded hover-elevate\"\n                  data-testid={`row-referral-${stat.userId}`}\n                >\n                  <div className=\"truncate font-medium\">{stat.username}</div>\n                  <div className=\"font-mono text-xs text-muted-foreground\">\n                    {stat.referralCode || '-'}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground truncate\">\n                    {stat.referredByUsername || '-'}\n                  </div>\n                  <div className=\"text-center\">\n                    <Badge variant=\"secondary\">{stat.level1ReferralsCount}</Badge>\n                  </div>\n                  <div className=\"text-center\">\n                    <Badge variant=\"outline\">{stat.level2ReferralsCount}</Badge>\n                  </div>\n                  <div className=\"text-right font-medium text-primary\">\n                    {stat.totalReferralBeads.toLocaleString()}\n                  </div>\n                  <div className=\"flex justify-end\">\n                    {stat.totalReferralBeads > 0 && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-7 w-7 text-destructive hover:text-destructive\"\n                        onClick={() => handleResetRewards(stat.userId, stat.username, stat.totalReferralBeads)}\n                        disabled={deleteRewardsMutation.isPending}\n                        data-testid={`button-reset-referral-${stat.userId}`}\n                      >\n                        <Trash2 className=\"w-3.5 h-3.5\" />\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              ))}\n\n              {(!referralStats || referralStats.length === 0) && (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  Нет данных о рефералах\n                </div>\n              )}\n            </div>\n          </ScrollArea>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Подсказка</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ul className=\"text-sm text-muted-foreground space-y-2 list-disc list-inside\">\n            <li>L1 — количество прямых рефералов (приглашённых напрямую)</li>\n            <li>L2 — количество рефералов 2-го уровня (приглашённых рефералами)</li>\n            <li>Бонус начисляется автоматически при каждой игре реферала</li>\n            <li>Реф-бонусы увеличивают только виртуальные Beads, не USDT</li>\n            <li>Лимиты \"в день\" — мягкие ограничения для защиты от злоупотреблений</li>\n          </ul>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface MaintenanceConfig {\n  enabled: boolean;\n  endTime: string | null;\n  message: string | null;\n}\n\nfunction MaintenanceTab() {\n  const { toast } = useToast();\n  const [enabled, setEnabled] = useState(false);\n  const [endTime, setEndTime] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [hasChanges, setHasChanges] = useState(false);\n\n  const { data: maintenanceConfig, isLoading } = useQuery<MaintenanceConfig>({\n    queryKey: [\"/api/maintenance\"],\n  });\n\n  useEffect(() => {\n    if (maintenanceConfig) {\n      setEnabled(maintenanceConfig.enabled);\n      if (maintenanceConfig.endTime) {\n        const date = new Date(maintenanceConfig.endTime);\n        const localDateTime = new Date(date.getTime() - date.getTimezoneOffset() * 60000)\n          .toISOString()\n          .slice(0, 16);\n        setEndTime(localDateTime);\n      } else {\n        setEndTime(\"\");\n      }\n      setMessage(maintenanceConfig.message || \"\");\n      setHasChanges(false);\n    }\n  }, [maintenanceConfig]);\n\n  const updateMaintenanceMutation = useMutation({\n    mutationFn: async (config: { enabled: boolean; endTime: string | null; message: string | null }) => {\n      return apiRequest(\"PUT\", \"/api/admin/maintenance\", config);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/maintenance\"] });\n      setHasChanges(false);\n      toast({\n        title: enabled ? \"Режим обслуживания включён\" : \"Режим обслуживания выключен\",\n        description: enabled \n          ? \"Пользователи увидят страницу ожидания\"\n          : \"Приложение доступно для всех\"\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Ошибка\",\n        description: \"Не удалось сохранить настройки\",\n        variant: \"destructive\"\n      });\n    },\n  });\n\n  const handleSave = () => {\n    let isoEndTime: string | null = null;\n    if (endTime) {\n      try {\n        const date = new Date(endTime);\n        if (!isNaN(date.getTime())) {\n          isoEndTime = date.toISOString();\n        }\n      } catch {\n      }\n    }\n    \n    updateMaintenanceMutation.mutate({\n      enabled,\n      endTime: isoEndTime,\n      message: message.trim() || null\n    });\n  };\n\n  const handleToggle = (checked: boolean) => {\n    setEnabled(checked);\n    setHasChanges(true);\n  };\n\n  const handleReset = () => {\n    if (maintenanceConfig) {\n      setEnabled(maintenanceConfig.enabled);\n      if (maintenanceConfig.endTime) {\n        const date = new Date(maintenanceConfig.endTime);\n        const localDateTime = new Date(date.getTime() - date.getTimezoneOffset() * 60000)\n          .toISOString()\n          .slice(0, 16);\n        setEndTime(localDateTime);\n      } else {\n        setEndTime(\"\");\n      }\n      setMessage(maintenanceConfig.message || \"\");\n      setHasChanges(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Power className=\"w-5 h-5\" />\n            Режим обслуживания\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Включите режим обслуживания для проведения технических работ. \n            Пользователи увидят страницу ожидания с таймером.\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"flex items-center justify-between p-4 bg-muted/50 rounded-lg\">\n            <div className=\"flex items-center gap-3\">\n              <Wrench className=\"w-5 h-5 text-muted-foreground\" />\n              <div>\n                <div className=\"font-medium\">Статус приложения</div>\n                <div className=\"text-sm text-muted-foreground\">\n                  {enabled ? \"Технические работы\" : \"Работает нормально\"}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <Switch\n                checked={enabled}\n                onCheckedChange={handleToggle}\n                data-testid=\"switch-maintenance\"\n              />\n              <Badge variant={enabled ? \"destructive\" : \"default\"}>\n                {enabled ? \"ВЫКЛ для пользователей\" : \"ВКЛЮЧЕНО\"}\n              </Badge>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label className=\"flex items-center gap-2\">\n                <Clock className=\"w-4 h-4\" />\n                Время окончания работ\n              </Label>\n              <Input\n                type=\"datetime-local\"\n                value={endTime}\n                onChange={(e) => {\n                  setEndTime(e.target.value);\n                  setHasChanges(true);\n                }}\n                className=\"max-w-xs\"\n                data-testid=\"input-maintenance-end-time\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Укажите дату и время, когда приложение снова заработает. \n                Пользователи увидят обратный отсчёт.\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Сообщение для пользователей (необязательно)</Label>\n              <Input\n                type=\"text\"\n                value={message}\n                onChange={(e) => {\n                  setMessage(e.target.value);\n                  setHasChanges(true);\n                }}\n                placeholder=\"Мы обновляем приложение...\"\n                data-testid=\"input-maintenance-message\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Кастомное сообщение для страницы ожидания\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex gap-2\">\n            <Button \n              onClick={handleSave}\n              disabled={updateMaintenanceMutation.isPending || !hasChanges}\n              data-testid=\"button-save-maintenance\"\n            >\n              {updateMaintenanceMutation.isPending ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Сохранить\n            </Button>\n            <Button \n              variant=\"outline\"\n              onClick={handleReset}\n              disabled={!hasChanges}\n              data-testid=\"button-reset-maintenance\"\n            >\n              <RotateCcw className=\"w-4 h-4 mr-2\" />\n              Сбросить\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Подсказка</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ul className=\"text-sm text-muted-foreground space-y-2 list-disc list-inside\">\n            <li>При включении режима все пользователи (кроме админов) увидят страницу ожидания</li>\n            <li>Укажите время окончания работ, чтобы показать таймер обратного отсчёта</li>\n            <li>После истечения таймера страница автоматически обновится</li>\n            <li>Не забудьте выключить режим обслуживания после завершения работ</li>\n          </ul>\n        </CardContent>\n      </Card>\n\n      <DataManagementSection />\n    </div>\n  );\n}\n\nfunction DataManagementSection() {\n  const { toast } = useToast();\n  const [showClearScoresConfirm, setShowClearScoresConfirm] = useState(false);\n  const [showResetPointsConfirm, setShowResetPointsConfirm] = useState(false);\n\n  const clearScoresMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest(\"DELETE\", \"/api/admin/clear-game-scores\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/leaderboard\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/game-scores\"] });\n      setShowClearScoresConfirm(false);\n      toast({\n        title: \"Записи игр очищены\",\n        description: \"Все игровые результаты были удалены\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Ошибка\",\n        description: \"Не удалось очистить записи игр\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const resetPointsMutation = useMutation({\n    mutationFn: async () => {\n      return apiRequest(\"DELETE\", \"/api/admin/reset-user-points\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/leaderboard\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/users\"] });\n      setShowResetPointsConfirm(false);\n      toast({\n        title: \"Очки сброшены\",\n        description: \"Очки всех пользователей были обнулены\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Ошибка\",\n        description: \"Не удалось сбросить очки\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  return (\n    <Card className=\"border-destructive/50\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2 text-destructive\">\n          <AlertTriangle className=\"w-5 h-5\" />\n          Управление данными\n        </CardTitle>\n        <p className=\"text-sm text-muted-foreground\">\n          Опасные операции с данными. Действия необратимы!\n        </p>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex flex-col sm:flex-row gap-3\">\n          {!showClearScoresConfirm ? (\n            <Button \n              variant=\"outline\"\n              className=\"border-orange-500 text-orange-500 hover:bg-orange-500/10\"\n              onClick={() => setShowClearScoresConfirm(true)}\n              data-testid=\"button-clear-scores-start\"\n            >\n              <Trash2 className=\"w-4 h-4 mr-2\" />\n              Очистить записи игр\n            </Button>\n          ) : (\n            <div className=\"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg\">\n              <span className=\"text-sm text-orange-500\">Удалить все игровые сессии?</span>\n              <Button \n                size=\"sm\"\n                variant=\"destructive\"\n                onClick={() => clearScoresMutation.mutate()}\n                disabled={clearScoresMutation.isPending}\n                data-testid=\"button-clear-scores-confirm\"\n              >\n                {clearScoresMutation.isPending ? (\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                ) : (\n                  \"Да, удалить\"\n                )}\n              </Button>\n              <Button \n                size=\"sm\"\n                variant=\"ghost\"\n                onClick={() => setShowClearScoresConfirm(false)}\n                data-testid=\"button-clear-scores-cancel\"\n              >\n                Отмена\n              </Button>\n            </div>\n          )}\n\n          {!showResetPointsConfirm ? (\n            <Button \n              variant=\"outline\"\n              className=\"border-red-500 text-red-500 hover:bg-red-500/10\"\n              onClick={() => setShowResetPointsConfirm(true)}\n              data-testid=\"button-reset-points-start\"\n            >\n              <RotateCcw className=\"w-4 h-4 mr-2\" />\n              Сбросить очки всех\n            </Button>\n          ) : (\n            <div className=\"flex items-center gap-2 p-2 bg-red-500/10 rounded-lg\">\n              <span className=\"text-sm text-red-500\">Обнулить очки всех?</span>\n              <Button \n                size=\"sm\"\n                variant=\"destructive\"\n                onClick={() => resetPointsMutation.mutate()}\n                disabled={resetPointsMutation.isPending}\n                data-testid=\"button-reset-points-confirm\"\n              >\n                {resetPointsMutation.isPending ? (\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                ) : (\n                  \"Да, сбросить\"\n                )}\n              </Button>\n              <Button \n                size=\"sm\"\n                variant=\"ghost\"\n                onClick={() => setShowResetPointsConfirm(false)}\n                data-testid=\"button-reset-points-cancel\"\n              >\n                Отмена\n              </Button>\n            </div>\n          )}\n        </div>\n        \n        <p className=\"text-xs text-muted-foreground\">\n          <strong>Очистить записи игр:</strong> Удалит все записи из таблицы game_scores (история игр).\n          <br />\n          <strong>Сбросить очки всех:</strong> Обнулит total_points у всех пользователей.\n        </p>\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface GameplayConfigType {\n  balls: {\n    initialCount: number;\n    targetCount: number;\n    maxTotalBalls: number;\n  };\n  spawn: {\n    period: number;\n    resumeThreshold: number;\n  };\n  speed: {\n    base: number;\n    max: number;\n    accelerationStart: number;\n  };\n  colors: {\n    count: number;\n    activeColors?: string[];\n  };\n}\n\nfunction GameplayTab() {\n  const { toast } = useToast();\n  const [editConfig, setEditConfig] = useState<GameplayConfigType | null>(null);\n  const [rawInputs, setRawInputs] = useState<Record<string, string>>({});\n\n  const { data: config, isLoading } = useQuery<GameplayConfigType>({\n    queryKey: [\"/api/admin/gameplay-config\"],\n  });\n\n  useEffect(() => {\n    if (config && !editConfig) {\n      setEditConfig(config);\n    }\n  }, [config, editConfig]);\n\n  const updateConfigMutation = useMutation({\n    mutationFn: async (newConfig: GameplayConfigType) => {\n      return apiRequest(\"PUT\", \"/api/admin/gameplay-config\", newConfig);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/gameplay-config\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/gameplay-config\"] });\n      toast({ title: \"Сохранено\", description: \"Настройки геймплея обновлены\" });\n      setRawInputs({});\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить настройки\", variant: \"destructive\" });\n    },\n  });\n\n  const handleSave = () => {\n    if (!editConfig) return;\n    updateConfigMutation.mutate(editConfig);\n  };\n\n  const handleReset = () => {\n    if (config) {\n      setEditConfig(config);\n      setRawInputs({});\n    }\n  };\n\n  const handleInputChange = (key: string, value: string, setter: (val: number) => void) => {\n    setRawInputs(prev => ({ ...prev, [key]: value }));\n    const num = parseFloat(value);\n    if (!isNaN(num)) {\n      setter(num);\n    }\n  };\n\n  if (isLoading || !editConfig) {\n    return (\n      <Card>\n        <CardContent className=\"py-8\">\n          <div className=\"flex items-center justify-center\">\n            <Loader2 className=\"w-6 h-6 animate-spin\" />\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const hasChanges = JSON.stringify(editConfig) !== JSON.stringify(config);\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Gamepad2 className=\"w-5 h-5\" />\n            Настройки геймплея\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Управление сложностью игры: количество шариков, скорость, спавн\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium\">Шарики</h3>\n            <div className=\"grid gap-4 md:grid-cols-3\">\n              <div className=\"space-y-2\">\n                <Label>Начальное количество</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  max={100}\n                  value={rawInputs['initialCount'] ?? String(editConfig.balls.initialCount)}\n                  onChange={(e) => handleInputChange('initialCount', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, balls: { ...prev.balls, initialCount: Math.floor(num) } } : null)\n                  )}\n                  data-testid=\"input-initial-count\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Шариков при старте игры</p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Целевое количество</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  max={200}\n                  value={rawInputs['targetCount'] ?? String(editConfig.balls.targetCount)}\n                  onChange={(e) => handleInputChange('targetCount', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, balls: { ...prev.balls, targetCount: Math.floor(num) } } : null)\n                  )}\n                  data-testid=\"input-target-count\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Спавн продолжается до этого числа</p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Максимум шариков</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  max={200}\n                  value={rawInputs['maxTotalBalls'] ?? String(editConfig.balls.maxTotalBalls)}\n                  onChange={(e) => handleInputChange('maxTotalBalls', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, balls: { ...prev.balls, maxTotalBalls: Math.floor(num) } } : null)\n                  )}\n                  data-testid=\"input-max-balls\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Абсолютный лимит шариков</p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium\">Спавн</h3>\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"space-y-2\">\n                <Label>Период спавна (мс)</Label>\n                <Input\n                  type=\"number\"\n                  min={100}\n                  max={10000}\n                  value={rawInputs['spawnPeriod'] ?? String(editConfig.spawn.period)}\n                  onChange={(e) => handleInputChange('spawnPeriod', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, spawn: { ...prev.spawn, period: Math.floor(num) } } : null)\n                  )}\n                  data-testid=\"input-spawn-period\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Интервал между спавном новых шариков</p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Порог возобновления</Label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  max={100}\n                  value={rawInputs['resumeThreshold'] ?? String(editConfig.spawn.resumeThreshold)}\n                  onChange={(e) => handleInputChange('resumeThreshold', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, spawn: { ...prev.spawn, resumeThreshold: Math.floor(num) } } : null)\n                  )}\n                  data-testid=\"input-resume-threshold\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Спавн возобновляется если шариков меньше</p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium\">Скорость</h3>\n            <div className=\"grid gap-4 md:grid-cols-3\">\n              <div className=\"space-y-2\">\n                <Label>Базовая скорость</Label>\n                <Input\n                  type=\"number\"\n                  step={0.001}\n                  min={0.001}\n                  max={0.1}\n                  value={rawInputs['speedBase'] ?? String(editConfig.speed.base)}\n                  onChange={(e) => handleInputChange('speedBase', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, speed: { ...prev.speed, base: num } } : null)\n                  )}\n                  data-testid=\"input-speed-base\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Начальная скорость движения</p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Максимальная скорость</Label>\n                <Input\n                  type=\"number\"\n                  step={0.001}\n                  min={0.001}\n                  max={0.1}\n                  value={rawInputs['speedMax'] ?? String(editConfig.speed.max)}\n                  onChange={(e) => handleInputChange('speedMax', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, speed: { ...prev.speed, max: num } } : null)\n                  )}\n                  data-testid=\"input-speed-max\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Скорость в конце пути</p>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Точка ускорения (0-1)</Label>\n                <Input\n                  type=\"number\"\n                  step={0.1}\n                  min={0}\n                  max={1}\n                  value={rawInputs['accelerationStart'] ?? String(editConfig.speed.accelerationStart)}\n                  onChange={(e) => handleInputChange('accelerationStart', e.target.value, (num) => \n                    setEditConfig(prev => prev ? { ...prev, speed: { ...prev.speed, accelerationStart: num } } : null)\n                  )}\n                  data-testid=\"input-acceleration-start\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Где начинается ускорение (0.8 = 80% пути)</p>\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          <div className=\"space-y-4\">\n            <h3 className=\"font-medium\">Цвета</h3>\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label>Активные цвета (выберите 2-10)</Label>\n                <div className=\"grid grid-cols-5 gap-2\">\n                  {[\n                    { id: 'red', name: 'Красный', color: '#ff4757' },\n                    { id: 'blue', name: 'Синий', color: '#3b82f6' },\n                    { id: 'green', name: 'Зелёный', color: '#22c55e' },\n                    { id: 'yellow', name: 'Жёлтый', color: '#eab308' },\n                    { id: 'purple', name: 'Пурпурный', color: '#8b5cf6' },\n                    { id: 'cyan', name: 'Голубой', color: '#00e5ff' },\n                    { id: 'magenta', name: 'Розовый', color: '#ff2bf2' },\n                    { id: 'amber', name: 'Янтарный', color: '#ffc400' },\n                    { id: 'lime', name: 'Лайм', color: '#b6ff00' },\n                    { id: 'violet', name: 'Фиолет', color: '#8c3bff' },\n                  ].map(({ id, name, color }) => {\n                    const allColorIds = ['red', 'blue', 'green', 'yellow', 'purple', 'cyan', 'magenta', 'amber', 'lime', 'violet'];\n                    const rawActiveColors = editConfig.colors.activeColors;\n                    const activeColors = (rawActiveColors && rawActiveColors.length >= 2) \n                      ? rawActiveColors \n                      : allColorIds.slice(0, Math.max(2, editConfig.colors.count));\n                    const isActive = activeColors.includes(id);\n                    return (\n                      <button\n                        key={id}\n                        type=\"button\"\n                        onClick={() => {\n                          const current = (rawActiveColors && rawActiveColors.length >= 2) \n                            ? rawActiveColors \n                            : allColorIds.slice(0, Math.max(2, editConfig.colors.count));\n                          let newColors: string[];\n                          if (isActive) {\n                            if (current.length <= 2) return;\n                            newColors = current.filter((c: string) => c !== id);\n                          } else {\n                            if (current.length >= 10) return;\n                            newColors = [...current, id];\n                          }\n                          setEditConfig(prev => prev ? { \n                            ...prev, \n                            colors: { \n                              ...prev.colors,\n                              count: newColors.length,\n                              activeColors: newColors \n                            } \n                          } : null);\n                        }}\n                        className={`flex flex-col items-center gap-1 p-2 rounded-lg border-2 transition-all ${\n                          isActive ? 'border-primary bg-primary/10' : 'border-muted hover:border-muted-foreground/50'\n                        }`}\n                        data-testid={`button-color-${id}`}\n                      >\n                        <div \n                          className=\"w-6 h-6 rounded-full shadow-lg\"\n                          style={{ backgroundColor: color }}\n                        />\n                        <span className=\"text-xs\">{name}</span>\n                      </button>\n                    );\n                  })}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  Активно: {editConfig.colors.activeColors?.length || editConfig.colors.count} цветов. Меньше цветов = проще игра\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-2 pt-4\">\n            <Button \n              onClick={handleSave}\n              disabled={updateConfigMutation.isPending || !hasChanges}\n              data-testid=\"button-save-gameplay\"\n            >\n              {updateConfigMutation.isPending ? (\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Сохранить\n            </Button>\n            <Button \n              variant=\"outline\"\n              onClick={handleReset}\n              disabled={!hasChanges}\n              data-testid=\"button-reset-gameplay\"\n            >\n              <RotateCcw className=\"w-4 h-4 mr-2\" />\n              Сбросить\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface BoostPackageForm {\n  name: string;\n  nameRu: string;\n  boostsPerType: number;\n  priceStars: number;\n  priceUsd: number | null;\n  originalPriceStars: number | null;\n  badge: string;\n  badgeText: string;\n  bonusLives: number;\n  sortOrder: number;\n  isActive: boolean;\n}\n\nfunction BoostPackagesTab() {\n  const { toast } = useToast();\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [showCreate, setShowCreate] = useState(false);\n  const [form, setForm] = useState<BoostPackageForm>({\n    name: '',\n    nameRu: '',\n    boostsPerType: 10,\n    priceStars: 50,\n    priceUsd: null,\n    originalPriceStars: null,\n    badge: '',\n    badgeText: '',\n    bonusLives: 0,\n    sortOrder: 0,\n    isActive: true,\n  });\n\n  const { data: packages = [], isLoading } = useQuery<any[]>({\n    queryKey: ['/api/admin/boost-packages'],\n  });\n\n  const { data: boosts = [] } = useQuery<any[]>({\n    queryKey: ['/api/admin/boosts'],\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: BoostPackageForm) => {\n      return apiRequest('POST', '/api/admin/boost-packages', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/boost-packages'] });\n      toast({ title: 'Создано', description: 'Пакет бустов добавлен' });\n      setShowCreate(false);\n      resetForm();\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось создать пакет', variant: 'destructive' });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<BoostPackageForm> }) => {\n      return apiRequest('PATCH', `/api/admin/boost-packages/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/boost-packages'] });\n      toast({ title: 'Сохранено', description: 'Пакет бустов обновлён' });\n      setEditingId(null);\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось обновить пакет', variant: 'destructive' });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest('DELETE', `/api/admin/boost-packages/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/boost-packages'] });\n      toast({ title: 'Удалено', description: 'Пакет бустов удалён' });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось удалить пакет', variant: 'destructive' });\n    },\n  });\n\n  const resetForm = () => {\n    setForm({\n      name: '',\n      nameRu: '',\n      boostsPerType: 10,\n      priceStars: 50,\n      priceUsd: null,\n      originalPriceStars: null,\n      badge: '',\n      badgeText: '',\n      bonusLives: 0,\n      sortOrder: 0,\n      isActive: true,\n    });\n  };\n\n  const startEdit = (pkg: any) => {\n    setEditingId(pkg.id);\n    setForm({\n      name: pkg.name,\n      nameRu: pkg.nameRu,\n      boostsPerType: pkg.boostsPerType,\n      priceStars: pkg.priceStars,\n      priceUsd: pkg.priceUsd ? parseFloat(pkg.priceUsd) : null,\n      originalPriceStars: pkg.originalPriceStars,\n      badge: pkg.badge || '',\n      badgeText: pkg.badgeText || '',\n      bonusLives: pkg.bonusLives || 0,\n      sortOrder: pkg.sortOrder || 0,\n      isActive: pkg.isActive,\n    });\n  };\n\n  const totalBoostsInPackage = boosts.length * form.boostsPerType;\n  const pricePerBoost = form.priceStars > 0 ? (form.priceStars / totalBoostsInPackage).toFixed(4) : '0';\n\n  if (isLoading) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex items-center justify-center py-8\">\n            <Loader2 className=\"w-6 h-6 animate-spin\" />\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n          <div>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Gift className=\"w-5 h-5\" />\n              Пакеты бустов\n            </CardTitle>\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              Наборы бустов для покупки за Telegram Stars. Всего типов бустов: {boosts.length}\n            </p>\n          </div>\n          <Button onClick={() => { setShowCreate(true); resetForm(); }} data-testid=\"button-create-package\">\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Добавить пакет\n          </Button>\n        </CardHeader>\n        <CardContent>\n          {packages.length === 0 && !showCreate ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Пакеты ещё не созданы. Нажмите \"Добавить пакет\" для создания.\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {/* Create form */}\n              {showCreate && (\n                <Card className=\"border-primary\">\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">Новый пакет</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Название (EN)</Label>\n                        <Input\n                          value={form.name}\n                          onChange={(e) => setForm({ ...form, name: e.target.value })}\n                          placeholder=\"starter\"\n                          data-testid=\"input-pkg-name\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Название (RU)</Label>\n                        <Input\n                          value={form.nameRu}\n                          onChange={(e) => setForm({ ...form, nameRu: e.target.value })}\n                          placeholder=\"СТАРТОВЫЙ\"\n                          data-testid=\"input-pkg-name-ru\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Бустов каждого типа</Label>\n                        <Input\n                          type=\"number\"\n                          min={1}\n                          value={form.boostsPerType}\n                          onChange={(e) => setForm({ ...form, boostsPerType: parseInt(e.target.value) || 1 })}\n                          data-testid=\"input-pkg-boosts\"\n                        />\n                        <p className=\"text-xs text-muted-foreground\">Всего: {totalBoostsInPackage} бустов</p>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Цена (Stars)</Label>\n                        <Input\n                          type=\"number\"\n                          min={1}\n                          value={form.priceStars}\n                          onChange={(e) => setForm({ ...form, priceStars: parseInt(e.target.value) || 1 })}\n                          data-testid=\"input-pkg-price\"\n                        />\n                        <p className=\"text-xs text-muted-foreground\">{pricePerBoost} Stars/буст</p>\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Цена (USDT)</Label>\n                        <Input\n                          type=\"number\"\n                          min={0}\n                          step={0.01}\n                          value={form.priceUsd || ''}\n                          onChange={(e) => setForm({ ...form, priceUsd: parseFloat(e.target.value) || null })}\n                          placeholder=\"Для крипто-платежей\"\n                          data-testid=\"input-pkg-price-usd\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Старая цена (если скидка)</Label>\n                        <Input\n                          type=\"number\"\n                          min={0}\n                          value={form.originalPriceStars || ''}\n                          onChange={(e) => setForm({ ...form, originalPriceStars: parseInt(e.target.value) || null })}\n                          placeholder=\"Пусто = нет скидки\"\n                          data-testid=\"input-pkg-original-price\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Бейдж</Label>\n                        <Select value={form.badge || \"none\"} onValueChange={(v) => setForm({ ...form, badge: v === \"none\" ? \"\" : v })}>\n                          <SelectTrigger data-testid=\"select-pkg-badge\">\n                            <SelectValue placeholder=\"Без бейджа\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"none\">Без бейджа</SelectItem>\n                            <SelectItem value=\"hot\">Хит продаж</SelectItem>\n                            <SelectItem value=\"best_value\">Лучшая цена</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Текст бейджа</Label>\n                        <Input\n                          value={form.badgeText}\n                          onChange={(e) => setForm({ ...form, badgeText: e.target.value })}\n                          placeholder=\"ХИТ ПРОДАЖ!\"\n                          data-testid=\"input-pkg-badge-text\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Бонус жизней</Label>\n                        <Input\n                          type=\"number\"\n                          min={0}\n                          value={form.bonusLives}\n                          onChange={(e) => setForm({ ...form, bonusLives: parseInt(e.target.value) || 0 })}\n                          data-testid=\"input-pkg-bonus-lives\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Порядок сортировки</Label>\n                        <Input\n                          type=\"number\"\n                          value={form.sortOrder}\n                          onChange={(e) => setForm({ ...form, sortOrder: parseInt(e.target.value) || 0 })}\n                          data-testid=\"input-pkg-sort\"\n                        />\n                      </div>\n                      <div className=\"flex items-center space-x-2 pt-6\">\n                        <Switch\n                          checked={form.isActive}\n                          onCheckedChange={(checked) => setForm({ ...form, isActive: checked })}\n                          data-testid=\"toggle-pkg-active\"\n                        />\n                        <Label>Активен</Label>\n                      </div>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <Button \n                        type=\"button\"\n                        onClick={() => createMutation.mutate(form)}\n                        disabled={!form.name || !form.nameRu || createMutation.isPending}\n                        data-testid=\"button-save-new-package\"\n                      >\n                        {createMutation.isPending ? <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> : <Save className=\"w-4 h-4 mr-2\" />}\n                        Создать\n                      </Button>\n                      <Button type=\"button\" variant=\"outline\" onClick={() => setShowCreate(false)}>\n                        Отмена\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              {/* Packages list */}\n              {packages.map((pkg: any) => (\n                <Card key={pkg.id} className={!pkg.isActive ? 'opacity-50' : ''}>\n                  <CardContent className=\"pt-4\">\n                    {editingId === pkg.id ? (\n                      <div className=\"space-y-4\">\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Название (EN)</Label>\n                            <Input\n                              value={form.name}\n                              onChange={(e) => setForm({ ...form, name: e.target.value })}\n                              data-testid={`input-edit-name-${pkg.id}`}\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Название (RU)</Label>\n                            <Input\n                              value={form.nameRu}\n                              onChange={(e) => setForm({ ...form, nameRu: e.target.value })}\n                              data-testid={`input-edit-name-ru-${pkg.id}`}\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Бустов каждого типа</Label>\n                            <Input\n                              type=\"number\"\n                              min={1}\n                              value={form.boostsPerType}\n                              onChange={(e) => setForm({ ...form, boostsPerType: parseInt(e.target.value) || 1 })}\n                              data-testid={`input-edit-boosts-${pkg.id}`}\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Цена (Stars)</Label>\n                            <Input\n                              type=\"number\"\n                              min={1}\n                              value={form.priceStars}\n                              onChange={(e) => setForm({ ...form, priceStars: parseInt(e.target.value) || 1 })}\n                              data-testid={`input-edit-price-${pkg.id}`}\n                            />\n                          </div>\n                        </div>\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Цена (USDT)</Label>\n                            <Input\n                              type=\"number\"\n                              min={0}\n                              step={0.01}\n                              value={form.priceUsd || ''}\n                              onChange={(e) => setForm({ ...form, priceUsd: parseFloat(e.target.value) || null })}\n                              placeholder=\"Для крипто-платежей\"\n                              data-testid={`input-edit-price-usd-${pkg.id}`}\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Старая цена</Label>\n                            <Input\n                              type=\"number\"\n                              min={0}\n                              value={form.originalPriceStars || ''}\n                              onChange={(e) => setForm({ ...form, originalPriceStars: parseInt(e.target.value) || null })}\n                              data-testid={`input-edit-original-${pkg.id}`}\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Бейдж</Label>\n                            <Select value={form.badge || \"none\"} onValueChange={(v) => setForm({ ...form, badge: v === \"none\" ? \"\" : v })}>\n                              <SelectTrigger data-testid={`select-edit-badge-${pkg.id}`}>\n                                <SelectValue placeholder=\"Без бейджа\" />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"none\">Без бейджа</SelectItem>\n                                <SelectItem value=\"hot\">Хит продаж</SelectItem>\n                                <SelectItem value=\"best_value\">Лучшая цена</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Текст бейджа</Label>\n                            <Input\n                              value={form.badgeText}\n                              onChange={(e) => setForm({ ...form, badgeText: e.target.value })}\n                              data-testid={`input-edit-badge-text-${pkg.id}`}\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Бонус жизней</Label>\n                            <Input\n                              type=\"number\"\n                              min={0}\n                              value={form.bonusLives}\n                              onChange={(e) => setForm({ ...form, bonusLives: parseInt(e.target.value) || 0 })}\n                              data-testid={`input-edit-lives-${pkg.id}`}\n                            />\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"flex items-center space-x-2\">\n                            <Switch\n                              checked={form.isActive}\n                              onCheckedChange={(checked) => setForm({ ...form, isActive: checked })}\n                              data-testid={`toggle-edit-active-${pkg.id}`}\n                            />\n                            <Label>Активен</Label>\n                          </div>\n                          <div className=\"flex gap-2 ml-auto\">\n                            <Button \n                              type=\"button\"\n                              onClick={() => updateMutation.mutate({ id: pkg.id, data: form })}\n                              disabled={updateMutation.isPending}\n                              data-testid={`button-save-${pkg.id}`}\n                            >\n                              {updateMutation.isPending ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Save className=\"w-4 h-4\" />}\n                            </Button>\n                            <Button type=\"button\" variant=\"outline\" onClick={() => setEditingId(null)}>\n                              Отмена\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"text-3xl\">\n                            {pkg.badge === 'hot' ? '🔥' : pkg.badge === 'best_value' ? '👑' : '📦'}\n                          </div>\n                          <div>\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"font-semibold\">{pkg.nameRu}</span>\n                              <span className=\"text-muted-foreground text-sm\">({pkg.name})</span>\n                              {pkg.badge && (\n                                <Badge variant={pkg.badge === 'hot' ? 'destructive' : 'default'}>\n                                  {pkg.badgeText || (pkg.badge === 'hot' ? 'ХИТ' : 'VIP')}\n                                </Badge>\n                              )}\n                              {!pkg.isActive && <Badge variant=\"outline\">Неактивен</Badge>}\n                            </div>\n                            <div className=\"text-sm text-muted-foreground\">\n                              {pkg.boostsPerType} x {boosts.length} типов = {pkg.boostsPerType * boosts.length} бустов | \n                              {pkg.originalPriceStars && (\n                                <span className=\"line-through mx-1\">{pkg.originalPriceStars} ⭐</span>\n                              )}\n                              <span className=\"font-medium text-foreground\"> {pkg.priceStars} ⭐</span>\n                              {pkg.priceUsd && <span className=\"font-medium text-green-500 ml-1\">/ ${parseFloat(pkg.priceUsd).toFixed(2)}</span>}\n                              {pkg.bonusLives > 0 && <span className=\"ml-2\">+{pkg.bonusLives} жизней</span>}\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button \n                            type=\"button\"\n                            variant=\"outline\" \n                            size=\"icon\"\n                            onClick={() => startEdit(pkg)}\n                            data-testid={`button-edit-${pkg.id}`}\n                          >\n                            <Pencil className=\"w-4 h-4\" />\n                          </Button>\n                          <Button \n                            type=\"button\"\n                            variant=\"destructive\" \n                            size=\"icon\"\n                            onClick={() => deleteMutation.mutate(pkg.id)}\n                            disabled={deleteMutation.isPending}\n                            data-testid={`button-delete-${pkg.id}`}\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n// Types for Accounting\ninterface TeamMember {\n  id: string;\n  name: string;\n  role: string | null;\n  sharePercent: number;\n  totalEarnedStars: number;\n  totalEarnedUsd: string;\n  isActive: boolean;\n  createdAt: string;\n}\n\n\nfunction AccountingTab() {\n  const { toast } = useToast();\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editName, setEditName] = useState('');\n  const [editRole, setEditRole] = useState('');\n\n  const { data: teamMembers = [], isLoading: membersLoading } = useQuery<TeamMember[]>({\n    queryKey: ['/api/admin/team-members'],\n  });\n\n  const { data: revenue, isLoading: revenueLoading } = useQuery<RevenueSummary>({\n    queryKey: ['/api/admin/revenue-summary'],\n  });\n\n  const { data: houseAccount } = useQuery<{ balance: number; salesIncome: number; totalDistributed: number }>({\n    queryKey: ['/api/admin/house-account'],\n    refetchInterval: 10000,\n  });\n\n  const beadsIncome = houseAccount?.salesIncome || 0;\n  const beadsDevelopment = Math.floor(beadsIncome * 0.1);\n  const beadsAdvertising = Math.floor(beadsIncome * 0.15);\n  const beadsTeamPool = beadsIncome - beadsDevelopment - beadsAdvertising;\n  const beadsPerMember = Math.floor(beadsTeamPool / 5);\n\n  const updateMemberMutation = useMutation({\n    mutationFn: async ({ id, name, role }: { id: string; name: string; role: string }) => {\n      return apiRequest('PUT', `/api/admin/team-members/${id}`, { name, role });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/team-members'] });\n      toast({ title: 'Сохранено', description: 'Член команды обновлён' });\n      setEditingId(null);\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось обновить', variant: 'destructive' });\n    },\n  });\n\n  const startEdit = (member: TeamMember) => {\n    setEditingId(member.id);\n    setEditName(member.name);\n    setEditRole(member.role || '');\n  };\n\n  const saveEdit = () => {\n    if (editingId) {\n      updateMemberMutation.mutate({ id: editingId, name: editName, role: editRole });\n    }\n  };\n\n  const formatStars = (stars: number) => {\n    return `${stars.toLocaleString()} ⭐`;\n  };\n\n  const formatUsd = (usd: number | string) => {\n    const num = typeof usd === 'string' ? parseFloat(usd) : usd;\n    return `$${num.toFixed(2)}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Coins className=\"w-5 h-5\" />\n            Статистика продаж\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {revenueLoading ? (\n            <div className=\"text-center py-8 text-muted-foreground\">Загрузка...</div>\n          ) : revenue ? (\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"p-4 rounded-lg bg-muted/50\">\n                  <div className=\"text-sm text-muted-foreground\">Всего продаж</div>\n                  <div className=\"text-2xl font-bold\">{revenue.salesCount}</div>\n                  <div className=\"text-xs text-muted-foreground mt-1\">\n                    Stars: {revenue.starsSalesCount} | Crypto: {revenue.cryptoSalesCount}\n                  </div>\n                </div>\n                <div className=\"p-4 rounded-lg bg-yellow-500/10\">\n                  <div className=\"text-sm text-muted-foreground\">Доход (Stars)</div>\n                  <div className=\"text-2xl font-bold text-yellow-500\">{formatStars(revenue.totalSalesStars)}</div>\n                </div>\n                <div className=\"p-4 rounded-lg bg-green-500/10\">\n                  <div className=\"text-sm text-muted-foreground\">Доход (USD)</div>\n                  <div className=\"text-2xl font-bold text-green-500\">{formatUsd(revenue.totalSalesUsd)}</div>\n                </div>\n                <div className=\"p-4 rounded-lg bg-blue-500/10\">\n                  <div className=\"text-sm text-muted-foreground\">Всего доход</div>\n                  <div className=\"text-xl font-bold text-blue-500\">\n                    {formatStars(revenue.totalSalesStars)} + {formatUsd(revenue.totalSalesUsd)}\n                  </div>\n                </div>\n              </div>\n\n              <Separator />\n\n              <div>\n                <h3 className=\"font-semibold mb-4\">Распределение дохода</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"p-4 rounded-lg border\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Wrench className=\"w-4 h-4 text-primary\" />\n                      <span className=\"font-medium\">Разработка (10%)</span>\n                    </div>\n                    <div className=\"text-lg\">{formatStars(revenue.developmentStars)} + {formatUsd(revenue.developmentUsd)}</div>\n                    <div className=\"text-sm text-green-500 mt-1\">+ {beadsDevelopment.toLocaleString()} Beads</div>\n                  </div>\n                  <div className=\"p-4 rounded-lg border\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Target className=\"w-4 h-4 text-orange-500\" />\n                      <span className=\"font-medium\">Реклама (15%)</span>\n                    </div>\n                    <div className=\"text-lg\">{formatStars(revenue.advertisingStars)} + {formatUsd(revenue.advertisingUsd)}</div>\n                    <div className=\"text-sm text-green-500 mt-1\">+ {beadsAdvertising.toLocaleString()} Beads</div>\n                  </div>\n                  <div className=\"p-4 rounded-lg border\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Users className=\"w-4 h-4 text-blue-500\" />\n                      <span className=\"font-medium\">Команда (75%)</span>\n                    </div>\n                    <div className=\"text-lg\">{formatStars(Math.floor(revenue.totalSalesStars * 0.75))} + {formatUsd(revenue.totalSalesUsd * 0.75)}</div>\n                    <div className=\"text-sm text-green-500 mt-1\">+ {beadsTeamPool.toLocaleString()} Beads ({beadsPerMember.toLocaleString()}/чел)</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-muted-foreground\">Нет данных о продажах</div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Users className=\"w-5 h-5\" />\n            Команда (5 членов, по 15% каждому)\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {membersLoading ? (\n            <div className=\"text-center py-8 text-muted-foreground\">Загрузка...</div>\n          ) : (\n            <div className=\"space-y-3\">\n              {teamMembers.map((member, index) => (\n                <div key={member.id} className=\"p-4 rounded-lg border flex flex-col md:flex-row md:items-center gap-4\">\n                  <div className=\"flex-1\">\n                    {editingId === member.id ? (\n                      <div className=\"space-y-2\">\n                        <Input\n                          value={editName}\n                          onChange={(e) => setEditName(e.target.value)}\n                          placeholder=\"Имя\"\n                          data-testid={`input-member-name-${member.id}`}\n                        />\n                        <Input\n                          value={editRole}\n                          onChange={(e) => setEditRole(e.target.value)}\n                          placeholder=\"Роль\"\n                          data-testid={`input-member-role-${member.id}`}\n                        />\n                      </div>\n                    ) : (\n                      <div>\n                        <div className=\"font-medium flex items-center gap-2\">\n                          <Badge variant=\"outline\">{index + 1}</Badge>\n                          {member.name}\n                        </div>\n                        {member.role && (\n                          <div className=\"text-sm text-muted-foreground\">{member.role}</div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"text-right\">\n                      <div className=\"text-sm text-muted-foreground\">Заработано</div>\n                      <div className=\"font-medium\">\n                        {formatStars(member.totalEarnedStars)}\n                      </div>\n                      <div className=\"text-sm text-green-500\">\n                        {formatUsd(member.totalEarnedUsd)}\n                      </div>\n                    </div>\n                    \n                    <div>\n                      {editingId === member.id ? (\n                        <div className=\"flex gap-2\">\n                          <Button\n                            size=\"sm\"\n                            onClick={saveEdit}\n                            disabled={updateMemberMutation.isPending}\n                            data-testid={`button-save-member-${member.id}`}\n                          >\n                            {updateMemberMutation.isPending ? (\n                              <Loader2 className=\"w-4 h-4 animate-spin\" />\n                            ) : (\n                              <Save className=\"w-4 h-4\" />\n                            )}\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => setEditingId(null)}\n                            data-testid={`button-cancel-member-${member.id}`}\n                          >\n                            <XCircle className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      ) : (\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => startEdit(member)}\n                          data-testid={`button-edit-member-${member.id}`}\n                        >\n                          <Pencil className=\"w-4 h-4\" />\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n              \n              {teamMembers.length === 0 && (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  Нет членов команды. Добавьте их в базу данных.\n                </div>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Распределение дохода по членам команды</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {revenue && revenue.teamShares.length > 0 ? (\n            <div className=\"space-y-2\">\n              {revenue.teamShares.map((share) => (\n                <div key={share.memberId} className=\"flex items-center justify-between p-3 rounded-lg bg-muted/30\">\n                  <span className=\"font-medium\">{share.name}</span>\n                  <div className=\"text-right\">\n                    <span className=\"text-yellow-500\">{formatStars(share.stars)}</span>\n                    <span className=\"mx-2\">+</span>\n                    <span className=\"text-green-500\">{formatUsd(share.usd)}</span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-4 text-muted-foreground\">\n              Пока нет продаж для распределения\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction CharactersTab() {\n  const { toast } = useToast();\n  const [activeSubTab, setActiveSubTab] = useState<'categories' | 'bodies' | 'accessories' | 'editor'>('categories');\n  \n  const { data: categories = [], isLoading: categoriesLoading } = useQuery<any[]>({\n    queryKey: ['/api/admin/accessory-categories'],\n  });\n  \n  const { data: baseBodies = [], isLoading: bodiesLoading } = useQuery<any[]>({\n    queryKey: ['/api/admin/base-bodies'],\n  });\n  \n  const { data: accessories = [], isLoading: accessoriesLoading } = useQuery<any[]>({\n    queryKey: ['/api/admin/accessories'],\n  });\n\n  const [editorGender, setEditorGender] = useState<'male' | 'female'>('male');\n  const [selectedAccessoryId, setSelectedAccessoryId] = useState<string | null>(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [editedPositions, setEditedPositions] = useState<Record<string, { x: number; y: number; z: number; scale: number }>>({});\n\n  const updateAccessoryPositionMutation = useMutation({\n    mutationFn: async ({ id, positionX, positionY, zIndex, scale }: { id: string; positionX: number; positionY: number; zIndex: number; scale: number }) => {\n      return apiRequest('PATCH', `/api/admin/accessories/${id}`, { positionX, positionY, zIndex, scale: String(scale) });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/accessories'] });\n      toast({ title: 'Позиция сохранена' });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка сохранения', variant: 'destructive' });\n    },\n  });\n\n  const getDefaultBody = (gender: 'male' | 'female') => {\n    return baseBodies.find((b: any) => b.gender === gender && b.isDefault) || baseBodies.find((b: any) => b.gender === gender);\n  };\n\n  const filteredAccessories = accessories.filter((acc: any) => \n    acc.gender === 'both' || acc.gender === editorGender\n  );\n\n  const selectedAccessory = accessories.find((a: any) => a.id === selectedAccessoryId);\n  const currentPosition = selectedAccessoryId ? editedPositions[selectedAccessoryId] || {\n    x: selectedAccessory?.positionX || 0,\n    y: selectedAccessory?.positionY || 0,\n    z: selectedAccessory?.zIndex || 1,\n    scale: parseFloat(selectedAccessory?.scale || '1'),\n  } : null;\n\n  const handleEditorMouseDown = (e: React.MouseEvent, accessory: any) => {\n    e.preventDefault();\n    setSelectedAccessoryId(accessory.id);\n    setIsDragging(true);\n    \n    const rect = (e.target as HTMLElement).closest('.editor-preview')?.getBoundingClientRect();\n    if (rect) {\n      const pos = editedPositions[accessory.id] || { x: accessory.positionX, y: accessory.positionY, z: accessory.zIndex, scale: parseFloat(accessory.scale || '1') };\n      setDragOffset({\n        x: e.clientX - rect.left - pos.x,\n        y: e.clientY - rect.top - pos.y,\n      });\n    }\n  };\n\n  const handleEditorMouseMove = (e: React.MouseEvent) => {\n    if (!isDragging || !selectedAccessoryId) return;\n    \n    const rect = (e.target as HTMLElement).closest('.editor-preview')?.getBoundingClientRect();\n    if (rect) {\n      const x = Math.round(e.clientX - rect.left - dragOffset.x);\n      const y = Math.round(e.clientY - rect.top - dragOffset.y);\n      const current = editedPositions[selectedAccessoryId] || {\n        x: selectedAccessory?.positionX || 0,\n        y: selectedAccessory?.positionY || 0,\n        z: selectedAccessory?.zIndex || 1,\n        scale: parseFloat(selectedAccessory?.scale || '1'),\n      };\n      setEditedPositions({\n        ...editedPositions,\n        [selectedAccessoryId]: { ...current, x, y },\n      });\n    }\n  };\n\n  const handleEditorMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const saveAccessoryPosition = (accId: string) => {\n    const pos = editedPositions[accId];\n    if (pos) {\n      updateAccessoryPositionMutation.mutate({ id: accId, positionX: pos.x, positionY: pos.y, zIndex: pos.z, scale: pos.scale });\n    }\n  };\n\n  const [newCategory, setNewCategory] = useState({ name: '', nameRu: '', slot: 'head', sortOrder: 0 });\n  const [newBody, setNewBody] = useState({ gender: 'male', imageUrl: '', isDefault: false });\n  const [uploadingBody, setUploadingBody] = useState(false);\n  const [uploadingAccessory, setUploadingAccessory] = useState(false);\n  const [newAccessory, setNewAccessory] = useState({\n    categoryId: '',\n    name: '',\n    nameRu: '',\n    descriptionRu: '',\n    imageUrl: '',\n    gender: 'both',\n    positionX: 0,\n    positionY: 0,\n    zIndex: 1,\n    price: 100,\n    maxQuantity: null as number | null,\n    isActive: true,\n  });\n\n  const createCategoryMutation = useMutation({\n    mutationFn: async (data: typeof newCategory) => {\n      return apiRequest('POST', '/api/admin/accessory-categories', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/accessory-categories'] });\n      toast({ title: 'Категория создана' });\n      setNewCategory({ name: '', nameRu: '', slot: 'head', sortOrder: 0 });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка создания категории', variant: 'destructive' });\n    },\n  });\n\n  const deleteCategoryMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest('DELETE', `/api/admin/accessory-categories/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/accessory-categories'] });\n      toast({ title: 'Категория удалена' });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка удаления категории', variant: 'destructive' });\n    },\n  });\n\n  const createBodyMutation = useMutation({\n    mutationFn: async (data: typeof newBody) => {\n      return apiRequest('POST', '/api/admin/base-bodies', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/base-bodies'] });\n      toast({ title: 'Базовое тело создано' });\n      setNewBody({ gender: 'male', imageUrl: '', isDefault: false });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка создания базового тела', variant: 'destructive' });\n    },\n  });\n\n  const deleteBodyMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest('DELETE', `/api/admin/base-bodies/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/base-bodies'] });\n      toast({ title: 'Базовое тело удалено' });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка удаления', variant: 'destructive' });\n    },\n  });\n\n  const setDefaultBodyMutation = useMutation({\n    mutationFn: async ({ id, gender }: { id: string; gender: string }) => {\n      return apiRequest('PATCH', `/api/admin/base-bodies/${id}/default`, { gender });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/base-bodies'] });\n      toast({ title: 'Базовое тело по умолчанию обновлено' });\n    },\n  });\n\n  const createAccessoryMutation = useMutation({\n    mutationFn: async (data: typeof newAccessory) => {\n      return apiRequest('POST', '/api/admin/accessories', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/accessories'] });\n      toast({ title: 'Аксессуар создан' });\n      setNewAccessory({\n        categoryId: '',\n        name: '',\n        nameRu: '',\n        descriptionRu: '',\n        imageUrl: '',\n        gender: 'both',\n        positionX: 0,\n        positionY: 0,\n        zIndex: 1,\n        price: 100,\n        maxQuantity: null,\n        isActive: true,\n      });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка создания аксессуара', variant: 'destructive' });\n    },\n  });\n\n  const deleteAccessoryMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return apiRequest('DELETE', `/api/admin/accessories/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/accessories'] });\n      toast({ title: 'Аксессуар удалён' });\n    },\n  });\n\n  const toggleAccessoryMutation = useMutation({\n    mutationFn: async ({ id, isActive }: { id: string; isActive: boolean }) => {\n      return apiRequest('PATCH', `/api/admin/accessories/${id}`, { isActive });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/accessories'] });\n    },\n  });\n\n  const handleBodyImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    \n    setUploadingBody(true);\n    try {\n      // Step 1: Request presigned URL from backend\n      const urlRes = await fetch('/api/admin/upload/request-url', {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: file.name,\n          contentType: file.type,\n          uploadType: 'character'\n        }),\n      });\n      \n      if (!urlRes.ok) {\n        throw new Error('Failed to get upload URL');\n      }\n      \n      const { uploadURL, objectPath } = await urlRes.json();\n      \n      // Step 2: Upload file directly to Object Storage\n      const uploadRes = await fetch(uploadURL, {\n        method: 'PUT',\n        body: file,\n        headers: { 'Content-Type': file.type },\n      });\n      \n      if (!uploadRes.ok) {\n        throw new Error('Failed to upload file');\n      }\n      \n      // Step 3: Set ACL to public\n      const aclRes = await fetch('/api/admin/upload/set-public', {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ objectPath }),\n      });\n      \n      if (aclRes.ok) {\n        setNewBody({ ...newBody, imageUrl: objectPath });\n        toast({ title: 'Изображение загружено' });\n      } else {\n        toast({ title: 'Ошибка настройки доступа', variant: 'destructive' });\n      }\n    } catch (error) {\n      toast({ title: 'Ошибка загрузки', variant: 'destructive' });\n    } finally {\n      setUploadingBody(false);\n    }\n  };\n\n  const handleAccessoryImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    \n    setUploadingAccessory(true);\n    try {\n      // Step 1: Request presigned URL from backend\n      const urlRes = await fetch('/api/admin/upload/request-url', {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: file.name,\n          contentType: file.type,\n          uploadType: 'accessory'\n        }),\n      });\n      \n      if (!urlRes.ok) {\n        throw new Error('Failed to get upload URL');\n      }\n      \n      const { uploadURL, objectPath } = await urlRes.json();\n      \n      // Step 2: Upload file directly to Object Storage\n      const uploadRes = await fetch(uploadURL, {\n        method: 'PUT',\n        body: file,\n        headers: { 'Content-Type': file.type },\n      });\n      \n      if (!uploadRes.ok) {\n        throw new Error('Failed to upload file');\n      }\n      \n      // Step 3: Set ACL to public\n      const aclRes = await fetch('/api/admin/upload/set-public', {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ objectPath }),\n      });\n      \n      if (aclRes.ok) {\n        setNewAccessory({ ...newAccessory, imageUrl: objectPath });\n        toast({ title: 'Изображение загружено' });\n      } else {\n        toast({ title: 'Ошибка настройки доступа', variant: 'destructive' });\n      }\n    } catch (error) {\n      toast({ title: 'Ошибка загрузки', variant: 'destructive' });\n    } finally {\n      setUploadingAccessory(false);\n    }\n  };\n\n  const slotOptions = [\n    { value: 'head', label: 'Голова' },\n    { value: 'eyes', label: 'Глаза' },\n    { value: 'face', label: 'Лицо' },\n    { value: 'body', label: 'Тело' },\n    { value: 'background', label: 'Фон' },\n  ];\n\n  const genderOptions = [\n    { value: 'male', label: 'Мужской' },\n    { value: 'female', label: 'Женский' },\n    { value: 'both', label: 'Оба' },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex gap-2\">\n        <Button\n          variant={activeSubTab === 'categories' ? 'default' : 'outline'}\n          onClick={() => setActiveSubTab('categories')}\n          data-testid=\"subtab-categories\"\n        >\n          Категории\n        </Button>\n        <Button\n          variant={activeSubTab === 'bodies' ? 'default' : 'outline'}\n          onClick={() => setActiveSubTab('bodies')}\n          data-testid=\"subtab-bodies\"\n        >\n          Базовые тела\n        </Button>\n        <Button\n          variant={activeSubTab === 'accessories' ? 'default' : 'outline'}\n          onClick={() => setActiveSubTab('accessories')}\n          data-testid=\"subtab-accessories\"\n        >\n          Аксессуары\n        </Button>\n        <Button\n          variant={activeSubTab === 'editor' ? 'default' : 'outline'}\n          onClick={() => setActiveSubTab('editor')}\n          data-testid=\"subtab-editor\"\n        >\n          Редактор\n        </Button>\n      </div>\n\n      {activeSubTab === 'categories' && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Категории аксессуаров</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg\">\n              <div className=\"space-y-2\">\n                <Label>Код (англ.)</Label>\n                <Input\n                  value={newCategory.name}\n                  onChange={(e) => setNewCategory({ ...newCategory, name: e.target.value })}\n                  placeholder=\"head_wear\"\n                  data-testid=\"input-category-name\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Название (рус.)</Label>\n                <Input\n                  value={newCategory.nameRu}\n                  onChange={(e) => setNewCategory({ ...newCategory, nameRu: e.target.value })}\n                  placeholder=\"Головные уборы\"\n                  data-testid=\"input-category-nameRu\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Слот</Label>\n                <Select value={newCategory.slot} onValueChange={(v) => setNewCategory({ ...newCategory, slot: v })}>\n                  <SelectTrigger data-testid=\"select-category-slot\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {slotOptions.map((opt) => (\n                      <SelectItem key={opt.value} value={opt.value}>{opt.label}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Порядок</Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    type=\"number\"\n                    value={newCategory.sortOrder}\n                    onChange={(e) => setNewCategory({ ...newCategory, sortOrder: parseInt(e.target.value) || 0 })}\n                    data-testid=\"input-category-sort\"\n                  />\n                  <Button\n                    onClick={() => createCategoryMutation.mutate(newCategory)}\n                    disabled={createCategoryMutation.isPending || !newCategory.name || !newCategory.nameRu}\n                    data-testid=\"button-create-category\"\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n\n            {categoriesLoading ? (\n              <div className=\"flex justify-center p-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin\" />\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {categories.map((cat: any) => (\n                  <div key={cat.id} className=\"flex items-center justify-between p-3 border rounded-lg\" data-testid={`category-${cat.id}`}>\n                    <div className=\"flex items-center gap-4\">\n                      <Badge variant=\"outline\">{cat.slot}</Badge>\n                      <span className=\"font-medium\">{cat.nameRu}</span>\n                      <span className=\"text-muted-foreground text-sm\">({cat.name})</span>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => deleteCategoryMutation.mutate(cat.id)}\n                      disabled={deleteCategoryMutation.isPending}\n                      data-testid={`delete-category-${cat.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4 text-destructive\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {activeSubTab === 'bodies' && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Базовые тела персонажей</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg\">\n              <div className=\"space-y-2\">\n                <Label>Пол</Label>\n                <Select value={newBody.gender} onValueChange={(v) => setNewBody({ ...newBody, gender: v })}>\n                  <SelectTrigger data-testid=\"select-body-gender\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"male\">Мужской</SelectItem>\n                    <SelectItem value=\"female\">Женский</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2 md:col-span-2\">\n                <Label>Изображение</Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    value={newBody.imageUrl}\n                    onChange={(e) => setNewBody({ ...newBody, imageUrl: e.target.value })}\n                    placeholder=\"URL или загрузите файл\"\n                    data-testid=\"input-body-url\"\n                    className=\"flex-1\"\n                  />\n                  <label className=\"cursor-pointer\">\n                    <input\n                      type=\"file\"\n                      accept=\"image/png,image/jpeg,image/webp,image/gif\"\n                      onChange={handleBodyImageUpload}\n                      className=\"hidden\"\n                      data-testid=\"input-body-file\"\n                    />\n                    <Button type=\"button\" variant=\"outline\" disabled={uploadingBody} asChild>\n                      <span>\n                        {uploadingBody ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Upload className=\"w-4 h-4\" />}\n                      </span>\n                    </Button>\n                  </label>\n                </div>\n                {newBody.imageUrl && (\n                  <div className=\"w-16 h-16 bg-muted rounded overflow-hidden mt-2\">\n                    <img src={newBody.imageUrl} alt=\"Preview\" className=\"w-full h-full object-contain\" />\n                  </div>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Label>По умолчанию</Label>\n                <div className=\"flex gap-2 items-center\">\n                  <Switch\n                    checked={newBody.isDefault}\n                    onCheckedChange={(checked) => setNewBody({ ...newBody, isDefault: checked })}\n                    data-testid=\"toggle-body-default\"\n                  />\n                  <Button\n                    onClick={() => createBodyMutation.mutate(newBody)}\n                    disabled={createBodyMutation.isPending || !newBody.imageUrl}\n                    data-testid=\"button-create-body\"\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n\n            {bodiesLoading ? (\n              <div className=\"flex justify-center p-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin\" />\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                {baseBodies.map((body: any) => (\n                  <div key={body.id} className=\"border rounded-lg p-2 space-y-2\" data-testid={`body-${body.id}`}>\n                    <div className=\"aspect-square bg-muted rounded overflow-hidden\">\n                      <img src={body.imageUrl} alt=\"Body\" className=\"w-full h-full object-contain\" />\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant={body.gender === 'male' ? 'default' : 'secondary'}>\n                          {body.gender === 'male' ? 'М' : 'Ж'}\n                        </Badge>\n                        {body.isDefault && <Badge variant=\"outline\">По умолч.</Badge>}\n                      </div>\n                      <div className=\"flex gap-1\">\n                        {!body.isDefault && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            onClick={() => setDefaultBodyMutation.mutate({ id: body.id, gender: body.gender })}\n                            data-testid={`set-default-body-${body.id}`}\n                          >\n                            <CheckCircle className=\"w-4 h-4\" />\n                          </Button>\n                        )}\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => deleteBodyMutation.mutate(body.id)}\n                          data-testid={`delete-body-${body.id}`}\n                        >\n                          <Trash2 className=\"w-4 h-4 text-destructive\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {activeSubTab === 'accessories' && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Аксессуары</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg\">\n              <div className=\"space-y-2\">\n                <Label>Категория</Label>\n                <Select \n                  value={newAccessory.categoryId} \n                  onValueChange={(v) => setNewAccessory({ ...newAccessory, categoryId: v })}\n                >\n                  <SelectTrigger data-testid=\"select-accessory-category\">\n                    <SelectValue placeholder=\"Выберите категорию\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {categories.map((cat: any) => (\n                      <SelectItem key={cat.id} value={cat.id}>{cat.nameRu}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Код (англ.)</Label>\n                <Input\n                  value={newAccessory.name}\n                  onChange={(e) => setNewAccessory({ ...newAccessory, name: e.target.value })}\n                  placeholder=\"cool_hat\"\n                  data-testid=\"input-accessory-name\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Название (рус.)</Label>\n                <Input\n                  value={newAccessory.nameRu}\n                  onChange={(e) => setNewAccessory({ ...newAccessory, nameRu: e.target.value })}\n                  placeholder=\"Крутая шляпа\"\n                  data-testid=\"input-accessory-nameRu\"\n                />\n              </div>\n              <div className=\"space-y-2 md:col-span-2\">\n                <Label>Изображение</Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    value={newAccessory.imageUrl}\n                    onChange={(e) => setNewAccessory({ ...newAccessory, imageUrl: e.target.value })}\n                    placeholder=\"URL или загрузите файл\"\n                    data-testid=\"input-accessory-url\"\n                    className=\"flex-1\"\n                  />\n                  <label className=\"cursor-pointer\">\n                    <input\n                      type=\"file\"\n                      accept=\"image/png,image/jpeg,image/webp,image/gif\"\n                      onChange={handleAccessoryImageUpload}\n                      className=\"hidden\"\n                      data-testid=\"input-accessory-file\"\n                    />\n                    <Button type=\"button\" variant=\"outline\" disabled={uploadingAccessory} asChild>\n                      <span>\n                        {uploadingAccessory ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Upload className=\"w-4 h-4\" />}\n                      </span>\n                    </Button>\n                  </label>\n                </div>\n                {newAccessory.imageUrl && (\n                  <div className=\"w-16 h-16 bg-muted rounded overflow-hidden mt-2\">\n                    <img src={newAccessory.imageUrl} alt=\"Preview\" className=\"w-full h-full object-contain\" />\n                  </div>\n                )}\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Пол</Label>\n                <Select \n                  value={newAccessory.gender} \n                  onValueChange={(v) => setNewAccessory({ ...newAccessory, gender: v })}\n                >\n                  <SelectTrigger data-testid=\"select-accessory-gender\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {genderOptions.map((opt) => (\n                      <SelectItem key={opt.value} value={opt.value}>{opt.label}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"grid grid-cols-3 gap-2\">\n                <div className=\"space-y-2\">\n                  <Label>X</Label>\n                  <Input\n                    type=\"number\"\n                    value={newAccessory.positionX}\n                    onChange={(e) => setNewAccessory({ ...newAccessory, positionX: parseInt(e.target.value) || 0 })}\n                    data-testid=\"input-accessory-x\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Y</Label>\n                  <Input\n                    type=\"number\"\n                    value={newAccessory.positionY}\n                    onChange={(e) => setNewAccessory({ ...newAccessory, positionY: parseInt(e.target.value) || 0 })}\n                    data-testid=\"input-accessory-y\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Z</Label>\n                  <Input\n                    type=\"number\"\n                    value={newAccessory.zIndex}\n                    onChange={(e) => setNewAccessory({ ...newAccessory, zIndex: parseInt(e.target.value) || 1 })}\n                    data-testid=\"input-accessory-z\"\n                  />\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Цена (Beads)</Label>\n                <Input\n                  type=\"number\"\n                  value={newAccessory.price}\n                  onChange={(e) => setNewAccessory({ ...newAccessory, price: parseInt(e.target.value) || 0 })}\n                  data-testid=\"input-accessory-price\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Лимит (пусто = безлимит)</Label>\n                <Input\n                  type=\"number\"\n                  value={newAccessory.maxQuantity ?? ''}\n                  onChange={(e) => setNewAccessory({ ...newAccessory, maxQuantity: e.target.value ? parseInt(e.target.value) : null })}\n                  placeholder=\"∞\"\n                  data-testid=\"input-accessory-limit\"\n                />\n              </div>\n              <div className=\"flex items-end\">\n                <Button\n                  onClick={() => createAccessoryMutation.mutate(newAccessory)}\n                  disabled={createAccessoryMutation.isPending || !newAccessory.categoryId || !newAccessory.name || !newAccessory.nameRu || !newAccessory.imageUrl}\n                  className=\"w-full\"\n                  data-testid=\"button-create-accessory\"\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Создать\n                </Button>\n              </div>\n            </div>\n\n            {accessoriesLoading ? (\n              <div className=\"flex justify-center p-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin\" />\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {accessories.map((acc: any) => (\n                  <div key={acc.id} className=\"flex items-center gap-4 p-3 border rounded-lg\" data-testid={`accessory-${acc.id}`}>\n                    <div className=\"w-12 h-12 bg-muted rounded overflow-hidden flex-shrink-0\">\n                      <img src={acc.imageUrl} alt={acc.nameRu} className=\"w-full h-full object-contain\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"font-medium truncate\">{acc.nameRu}</span>\n                        <Badge variant=\"outline\">{acc.gender === 'both' ? 'Все' : acc.gender === 'male' ? 'М' : 'Ж'}</Badge>\n                      </div>\n                      <div className=\"text-sm text-muted-foreground flex items-center gap-2\">\n                        <span>{acc.price} Beads</span>\n                        {acc.maxQuantity && <span>• Лимит: {acc.soldCount}/{acc.maxQuantity}</span>}\n                        <span>• Z: {acc.zIndex}</span>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Switch\n                        checked={acc.isActive}\n                        onCheckedChange={(checked) => toggleAccessoryMutation.mutate({ id: acc.id, isActive: checked })}\n                        data-testid={`toggle-accessory-${acc.id}`}\n                      />\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => deleteAccessoryMutation.mutate(acc.id)}\n                        data-testid={`delete-accessory-${acc.id}`}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-destructive\" />\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {activeSubTab === 'editor' && (\n        <Card>\n          <CardHeader>\n            <CardTitle>Визуальный редактор аксессуаров</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">\n              Перетаскивайте аксессуары мышью для настройки позиции\n            </p>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex gap-4 items-center\">\n              <Label>Пол персонажа:</Label>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant={editorGender === 'male' ? 'default' : 'outline'}\n                  size=\"sm\"\n                  onClick={() => setEditorGender('male')}\n                  data-testid=\"button-editor-male\"\n                >\n                  Мужской\n                </Button>\n                <Button\n                  variant={editorGender === 'female' ? 'default' : 'outline'}\n                  size=\"sm\"\n                  onClick={() => setEditorGender('female')}\n                  data-testid=\"button-editor-female\"\n                >\n                  Женский\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <div \n                className=\"editor-preview relative bg-muted rounded-lg overflow-hidden select-none\"\n                style={{ width: 300, height: 400 }}\n                onMouseMove={handleEditorMouseMove}\n                onMouseUp={handleEditorMouseUp}\n                onMouseLeave={handleEditorMouseUp}\n              >\n                {getDefaultBody(editorGender) && (\n                  <img \n                    src={getDefaultBody(editorGender).imageUrl}\n                    alt=\"Base body\"\n                    className=\"absolute inset-0 w-full h-full object-contain pointer-events-none\"\n                    style={{ zIndex: 0 }}\n                  />\n                )}\n                \n                {filteredAccessories\n                  .sort((a: any, b: any) => {\n                    const posA = editedPositions[a.id] || { z: a.zIndex };\n                    const posB = editedPositions[b.id] || { z: b.zIndex };\n                    return posA.z - posB.z;\n                  })\n                  .map((acc: any) => {\n                    const pos = editedPositions[acc.id] || { x: acc.positionX, y: acc.positionY, z: acc.zIndex, scale: parseFloat(acc.scale || '1') };\n                    const isSelected = acc.id === selectedAccessoryId;\n                    const imgSize = 80 * (pos.scale || 1);\n                    return (\n                      <img\n                        key={acc.id}\n                        src={acc.imageUrl}\n                        alt={acc.nameRu}\n                        className={`absolute cursor-move ${isSelected ? 'ring-2 ring-primary' : ''}`}\n                        style={{\n                          left: pos.x,\n                          top: pos.y,\n                          zIndex: pos.z + 1,\n                          width: imgSize,\n                          height: imgSize,\n                          objectFit: 'contain',\n                          opacity: isSelected ? 1 : 0.8,\n                        }}\n                        onMouseDown={(e) => handleEditorMouseDown(e, acc)}\n                        draggable={false}\n                        data-testid={`editor-accessory-${acc.id}`}\n                      />\n                    );\n                  })}\n\n                <div className=\"absolute bottom-2 left-2 text-xs bg-background/80 px-2 py-1 rounded\">\n                  {editorGender === 'male' ? 'М' : 'Ж'} | 300x400\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                <h3 className=\"font-medium\">Выберите аксессуар для редактирования:</h3>\n                <ScrollArea className=\"h-[350px] border rounded-lg p-2\">\n                  <div className=\"space-y-2\">\n                    {filteredAccessories.map((acc: any) => {\n                      const pos = editedPositions[acc.id] || { x: acc.positionX, y: acc.positionY, z: acc.zIndex, scale: parseFloat(acc.scale || '1') };\n                      const hasChanges = editedPositions[acc.id] !== undefined;\n                      const isSelected = acc.id === selectedAccessoryId;\n                      \n                      return (\n                        <div \n                          key={acc.id}\n                          className={`flex items-center gap-3 p-2 rounded-lg border cursor-pointer transition-colors ${\n                            isSelected ? 'bg-primary/10 border-primary' : 'hover:bg-muted'\n                          }`}\n                          onClick={() => setSelectedAccessoryId(acc.id)}\n                          data-testid={`editor-select-${acc.id}`}\n                        >\n                          <div className=\"w-10 h-10 bg-muted rounded overflow-hidden flex-shrink-0\">\n                            <img src={acc.imageUrl} alt=\"\" className=\"w-full h-full object-contain\" />\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"font-medium text-sm truncate\">{acc.nameRu}</div>\n                            <div className=\"text-xs text-muted-foreground\">\n                              X: {pos.x} | Y: {pos.y} | Z: {pos.z} | S: {pos.scale?.toFixed(1)}\n                            </div>\n                          </div>\n                          {hasChanges && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={(e) => { e.stopPropagation(); saveAccessoryPosition(acc.id); }}\n                              disabled={updateAccessoryPositionMutation.isPending}\n                              data-testid={`button-save-pos-${acc.id}`}\n                            >\n                              <Save className=\"w-4 h-4\" />\n                            </Button>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </ScrollArea>\n\n                {selectedAccessoryId && currentPosition && (\n                  <Card className=\"p-4\">\n                    <div className=\"space-y-3\">\n                      <h4 className=\"font-medium\">{selectedAccessory?.nameRu}</h4>\n                      <div className=\"grid grid-cols-4 gap-3\">\n                        <div className=\"space-y-1\">\n                          <Label className=\"text-xs\">X</Label>\n                          <Input\n                            type=\"number\"\n                            value={currentPosition.x}\n                            onChange={(e) => setEditedPositions({\n                              ...editedPositions,\n                              [selectedAccessoryId]: { ...currentPosition, x: parseInt(e.target.value) || 0 }\n                            })}\n                            data-testid=\"input-editor-x\"\n                          />\n                        </div>\n                        <div className=\"space-y-1\">\n                          <Label className=\"text-xs\">Y</Label>\n                          <Input\n                            type=\"number\"\n                            value={currentPosition.y}\n                            onChange={(e) => setEditedPositions({\n                              ...editedPositions,\n                              [selectedAccessoryId]: { ...currentPosition, y: parseInt(e.target.value) || 0 }\n                            })}\n                            data-testid=\"input-editor-y\"\n                          />\n                        </div>\n                        <div className=\"space-y-1\">\n                          <Label className=\"text-xs\">Z-index</Label>\n                          <Input\n                            type=\"number\"\n                            value={currentPosition.z}\n                            onChange={(e) => setEditedPositions({\n                              ...editedPositions,\n                              [selectedAccessoryId]: { ...currentPosition, z: parseInt(e.target.value) || 1 }\n                            })}\n                            data-testid=\"input-editor-z\"\n                          />\n                        </div>\n                        <div className=\"space-y-1\">\n                          <Label className=\"text-xs\">Масштаб</Label>\n                          <Input\n                            type=\"number\"\n                            step=\"0.1\"\n                            min=\"0.1\"\n                            max=\"5\"\n                            value={currentPosition.scale}\n                            onChange={(e) => setEditedPositions({\n                              ...editedPositions,\n                              [selectedAccessoryId]: { ...currentPosition, scale: parseFloat(e.target.value) || 1 }\n                            })}\n                            data-testid=\"input-editor-scale\"\n                          />\n                        </div>\n                      </div>\n                      <Button\n                        className=\"w-full\"\n                        onClick={() => saveAccessoryPosition(selectedAccessoryId)}\n                        disabled={updateAccessoryPositionMutation.isPending || !editedPositions[selectedAccessoryId]}\n                        data-testid=\"button-save-position\"\n                      >\n                        {updateAccessoryPositionMutation.isPending ? (\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                        ) : (\n                          <Save className=\"w-4 h-4 mr-2\" />\n                        )}\n                        Сохранить позицию\n                      </Button>\n                    </div>\n                  </Card>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n\nfunction DebugLogsTab() {\n  const [logs, setLogs] = useState<string[]>([]);\n  const [autoRefresh, setAutoRefresh] = useState(true);\n  const [filterSpawn, setFilterSpawn] = useState(true);\n  const [filterLives, setFilterLives] = useState(false);\n  \n  const EXCLUDED_PATTERNS = [\n    '[CRYPTO]',\n    '[CRYPTO CONFIG]',\n    '=== GAME STARTED ===',\n    'initialBalls:',\n    '[FRAME]',\n    '[LOOP]',\n    '[BOOST]',\n    '[GAP-FOUND]',\n    '[GAP]',\n    '[CHECK]',\n    '[MATCH]',\n    '[LEFT]',\n    '[RIGHT]',\n    '[SHOOTER-SMART]',\n  ];\n\n  const fetchLogs = async () => {\n    try {\n      const res = await fetch('/api/admin/debug-logs', { credentials: 'include' });\n      if (res.ok) {\n        const data = await res.json();\n        setLogs(data.logs || []);\n      }\n    } catch (e) {}\n  };\n\n  useEffect(() => {\n    fetchLogs();\n    \n    if (autoRefresh) {\n      const interval = setInterval(fetchLogs, 1000);\n      return () => clearInterval(interval);\n    }\n  }, [autoRefresh]);\n\n  const handleClear = async () => {\n    try {\n      await fetch('/api/admin/debug-logs', { method: 'DELETE', credentials: 'include' });\n      setLogs([]);\n    } catch (e) {}\n  };\n  \n  const filteredLogs = logs.filter(log => {\n    // Если включён фильтр \"Только жизни\" - показываем только логи жизней\n    if (filterLives) {\n      return log.includes('[ПОТЕРЯ ЖИЗНИ]') || log.includes('[ПОКУПКА ЖИЗНИ]');\n    }\n    \n    for (const pattern of EXCLUDED_PATTERNS) {\n      if (log.includes(pattern)) return false;\n    }\n    if (filterSpawn && (log.includes('[SPAWN]') || log.includes('[GAP-CLOSE]'))) {\n      return true;\n    }\n    if (!filterSpawn) return true;\n    return !filterSpawn;\n  });\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FileText className=\"w-5 h-5\" />\n            Логи игровой механики\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Отладочные логи для анализа совпадений и удалений шаров\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <Switch \n                  checked={autoRefresh} \n                  onCheckedChange={setAutoRefresh}\n                  data-testid=\"switch-auto-refresh\"\n                />\n                <Label>Авто-обновление</Label>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Switch \n                  checked={filterSpawn} \n                  onCheckedChange={setFilterSpawn}\n                  data-testid=\"switch-filter-spawn\"\n                />\n                <Label>Только SPAWN/GAP</Label>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Switch \n                  checked={filterLives} \n                  onCheckedChange={setFilterLives}\n                  data-testid=\"switch-filter-lives\"\n                />\n                <Label>Только жизни</Label>\n              </div>\n            </div>\n            <div className=\"flex gap-2\">\n              <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={fetchLogs}\n                data-testid=\"button-refresh-logs\"\n              >\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                Обновить\n              </Button>\n              <Button \n                variant=\"destructive\" \n                size=\"sm\"\n                onClick={handleClear}\n                data-testid=\"button-clear-logs\"\n              >\n                <Trash2 className=\"w-4 h-4 mr-2\" />\n                Очистить\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"text-sm text-muted-foreground\">\n            Записей: {filteredLogs.length} / {logs.length} (всего)\n          </div>\n\n          <ScrollArea className=\"h-[500px] border rounded-md p-3 bg-muted/30\">\n            {filteredLogs.length === 0 ? (\n              <div className=\"text-center text-muted-foreground py-8\">\n                {logs.length === 0 ? 'Логов пока нет. Начните игру, чтобы увидеть логи.' : 'Нет логов с текущим фильтром.'}\n              </div>\n            ) : (\n              <div className=\"space-y-1 font-mono text-xs\">\n                {filteredLogs.map((log, index) => (\n                  <div \n                    key={index} \n                    className={`p-1 rounded ${\n                      log.includes('[SPAWN]') ? 'bg-emerald-500/30 text-emerald-300 font-bold' :\n                      log.includes('[GAP-CLOSE]') ? 'bg-amber-500/30 text-amber-300 font-bold' :\n                      log.includes('[CHAIN-REACT]') ? 'bg-purple-500/30 text-purple-300 font-bold' :\n                      log.includes('[CHAIN-END]') ? 'bg-green-500/20 text-green-300' :\n                      log.includes('[CHAIN-NOMATCH]') ? 'bg-yellow-500/20 text-yellow-300' :\n                      log.includes('[CHAIN-BREAK]') ? 'bg-orange-500/20 text-orange-300' :\n                      log.includes('[CHAIN-SHORT]') ? 'bg-orange-500/20 text-orange-300' :\n                      log.includes('[SHOOTER-SMART]') ? 'bg-cyan-500/20 text-cyan-300' :\n                      log.includes('[RESET]') ? 'bg-red-500/20 text-red-300' :\n                      log.includes('removeBalls') ? 'bg-red-500/20 text-red-300' :\n                      log.includes('MATCH') ? 'bg-green-500/20 text-green-300' :\n                      log.includes('insertBall') ? 'bg-blue-500/20 text-blue-300' :\n                      'text-foreground/80'\n                    }`}\n                  >\n                    {log}\n                  </div>\n                ))}\n              </div>\n            )}\n          </ScrollArea>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction BoostsTab() {\n  const { toast } = useToast();\n  const [editingBoost, setEditingBoost] = useState<Boost | null>(null);\n  const [editForm, setEditForm] = useState({\n    price: 0,\n    durationSeconds: 0,\n    effectValue: 0,\n    isActive: true,\n    sortOrder: 0,\n  });\n\n  const { data: boosts, isLoading } = useQuery<Boost[]>({\n    queryKey: [\"/api/admin/boosts\"],\n  });\n\n  const updateBoostMutation = useMutation({\n    mutationFn: async ({ id, updates }: { id: string; updates: Partial<Boost> }) => {\n      return apiRequest(\"PATCH\", `/api/admin/boosts/${id}`, updates);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/boosts\"] });\n      toast({ title: \"Сохранено\", description: \"Буст успешно обновлён\" });\n      setEditingBoost(null);\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить буст\", variant: \"destructive\" });\n    },\n  });\n\n  const handleEdit = (boost: Boost) => {\n    setEditingBoost(boost);\n    setEditForm({\n      price: boost.price,\n      durationSeconds: boost.durationSeconds,\n      effectValue: boost.effectValue,\n      isActive: boost.isActive,\n      sortOrder: boost.sortOrder,\n    });\n  };\n\n  const handleSave = () => {\n    if (!editingBoost) return;\n    updateBoostMutation.mutate({\n      id: editingBoost.id,\n      updates: editForm,\n    });\n  };\n\n  const handleToggleActive = (boost: Boost) => {\n    updateBoostMutation.mutate({\n      id: boost.id,\n      updates: { isActive: !boost.isActive },\n    });\n  };\n\n  const getBoostIcon = (type: string) => {\n    switch (type) {\n      case 'slowdown': return <Clock className=\"w-5 h-5 text-blue-400\" />;\n      case 'bomb': return <Target className=\"w-5 h-5 text-red-400\" />;\n      case 'rainbow': return <Sparkles className=\"w-5 h-5 text-purple-400\" />;\n      case 'rewind': return <RotateCcw className=\"w-5 h-5 text-green-400\" />;\n      case 'shield': return <Shield className=\"w-5 h-5 text-cyan-400\" />;\n      case 'magnet': return <Target className=\"w-5 h-5 text-orange-400\" />;\n      case 'laser': return <Target className=\"w-5 h-5 text-yellow-400\" />;\n      default: return <Sparkles className=\"w-5 h-5 text-muted-foreground\" />;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex items-center justify-center py-8\">\n            <Loader2 className=\"w-6 h-6 animate-spin text-muted-foreground\" />\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Sparkles className=\"w-5 h-5\" />\n            Управление бустами\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Настройте цены, эффекты и доступность бустов в магазине\n          </p>\n        </CardHeader>\n        <CardContent>\n          {!boosts || boosts.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Бусты не найдены. Добавьте их в базу данных.\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {boosts.map((boost) => (\n                <div\n                  key={boost.id}\n                  className=\"flex items-center justify-between p-4 border rounded-lg\"\n                  data-testid={`boost-item-${boost.type}`}\n                >\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"p-2 rounded-lg bg-muted\">\n                      {getBoostIcon(boost.type)}\n                    </div>\n                    <div>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"font-medium\">{boost.nameRu}</span>\n                        <Badge variant={boost.isActive ? \"default\" : \"secondary\"}>\n                          {boost.isActive ? \"Активен\" : \"Отключён\"}\n                        </Badge>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">{boost.descriptionRu}</p>\n                      <div className=\"flex items-center gap-4 mt-1 text-xs text-muted-foreground\">\n                        <span>Тип: <code>{boost.type}</code></span>\n                        <span>Цена: <strong>{boost.price}</strong> Beads</span>\n                        {boost.durationSeconds > 0 && (\n                          <span>Длительность: <strong>{boost.durationSeconds}с</strong></span>\n                        )}\n                        {boost.effectValue > 0 && (\n                          <span>Эффект: <strong>{boost.effectValue}</strong></span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Switch\n                      checked={boost.isActive}\n                      onCheckedChange={() => handleToggleActive(boost)}\n                      disabled={updateBoostMutation.isPending}\n                      data-testid={`toggle-boost-${boost.type}`}\n                    />\n                    <Dialog>\n                      <DialogTrigger asChild>\n                        <Button\n                          type=\"button\"\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleEdit(boost)}\n                          data-testid={`button-edit-boost-${boost.type}`}\n                        >\n                          <Pencil className=\"w-4 h-4\" />\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle className=\"flex items-center gap-2\">\n                            {getBoostIcon(boost.type)}\n                            Редактировать: {boost.nameRu}\n                          </DialogTitle>\n                        </DialogHeader>\n                        <div className=\"space-y-4 py-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Цена (Beads)</Label>\n                            <Input\n                              type=\"number\"\n                              min=\"0\"\n                              value={editForm.price}\n                              onChange={(e) => setEditForm({ ...editForm, price: parseInt(e.target.value) || 0 })}\n                              data-testid=\"input-boost-price\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Длительность (секунды)</Label>\n                            <Input\n                              type=\"number\"\n                              min=\"0\"\n                              value={editForm.durationSeconds}\n                              onChange={(e) => setEditForm({ ...editForm, durationSeconds: parseInt(e.target.value) || 0 })}\n                              data-testid=\"input-boost-duration\"\n                            />\n                            <p className=\"text-xs text-muted-foreground\">\n                              Для бустов типа замедление. 0 = мгновенный эффект.\n                            </p>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Значение эффекта</Label>\n                            <Input\n                              type=\"number\"\n                              min=\"0\"\n                              step=\"0.1\"\n                              value={editForm.effectValue}\n                              onChange={(e) => setEditForm({ ...editForm, effectValue: parseFloat(e.target.value) || 0 })}\n                              data-testid=\"input-boost-effect\"\n                            />\n                            <p className=\"text-xs text-muted-foreground\">\n                              Замедление: множитель скорости (0.5 = в 2 раза медленнее). Бомба: радиус. Откат: процент отката.\n                            </p>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Порядок сортировки</Label>\n                            <Input\n                              type=\"number\"\n                              min=\"0\"\n                              value={editForm.sortOrder}\n                              onChange={(e) => setEditForm({ ...editForm, sortOrder: parseInt(e.target.value) || 0 })}\n                              data-testid=\"input-boost-sort\"\n                            />\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <Switch\n                              checked={editForm.isActive}\n                              onCheckedChange={(checked) => setEditForm({ ...editForm, isActive: checked })}\n                              data-testid=\"toggle-boost-active-edit\"\n                            />\n                            <Label>Активен в магазине</Label>\n                          </div>\n                          <div className=\"flex justify-end gap-2 pt-4\">\n                            <Button\n                              onClick={handleSave}\n                              disabled={updateBoostMutation.isPending}\n                              data-testid=\"button-save-boost\"\n                            >\n                              {updateBoostMutation.isPending ? (\n                                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                              ) : (\n                                <Save className=\"w-4 h-4 mr-2\" />\n                              )}\n                              Сохранить\n                            </Button>\n                          </div>\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface LeagueData {\n  id: string;\n  slug: string;\n  nameRu: string;\n  nameEn: string;\n  icon: string;\n  minBeads: number;\n  maxRank: number | null;\n  themeColor: string;\n  sortOrder: number;\n  isActive: boolean;\n  createdAt: string;\n}\n\nfunction LeaguesTab() {\n  const { toast } = useToast();\n  const [editingLeague, setEditingLeague] = useState<LeagueData | null>(null);\n  const [editForm, setEditForm] = useState({\n    nameRu: '',\n    nameEn: '',\n    icon: '',\n    minBeads: 0,\n    maxRank: null as number | null,\n    themeColor: '',\n    sortOrder: 0,\n    isActive: true,\n  });\n\n  const { data: leagues, isLoading } = useQuery<LeagueData[]>({\n    queryKey: [\"/api/admin/leagues\"],\n  });\n\n  const updateLeagueMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: typeof editForm }) => {\n      return apiRequest(\"PUT\", `/api/admin/leagues/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/leagues\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/leagues\"] });\n      toast({ title: \"Сохранено\", description: \"Лига обновлена\" });\n      setEditingLeague(null);\n    },\n    onError: () => {\n      toast({ title: \"Ошибка\", description: \"Не удалось обновить лигу\", variant: \"destructive\" });\n    },\n  });\n\n  const handleEdit = (league: LeagueData) => {\n    setEditingLeague(league);\n    setEditForm({\n      nameRu: league.nameRu,\n      nameEn: league.nameEn,\n      icon: league.icon,\n      minBeads: league.minBeads,\n      maxRank: league.maxRank,\n      themeColor: league.themeColor,\n      sortOrder: league.sortOrder,\n      isActive: league.isActive,\n    });\n  };\n\n  const handleSave = () => {\n    if (!editingLeague) return;\n    updateLeagueMutation.mutate({ id: editingLeague.id, data: editForm });\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Trophy className=\"w-5 h-5\" />\n            Управление лигами\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Настройка требований для лиг. Гости не участвуют в лигах.\n          </p>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div className=\"flex justify-center py-8\">\n              <Loader2 className=\"w-8 h-8 animate-spin\" />\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {leagues?.map((league) => (\n                <div \n                  key={league.id} \n                  className=\"flex items-center justify-between p-4 border rounded-lg\"\n                  style={{ borderLeftColor: league.themeColor, borderLeftWidth: 4 }}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-2xl\">{league.icon}</span>\n                    <div>\n                      <div className=\"font-medium flex items-center gap-2\">\n                        {league.nameRu}\n                        {!league.isActive && (\n                          <Badge variant=\"secondary\">Неактивна</Badge>\n                        )}\n                      </div>\n                      <div className=\"text-sm text-muted-foreground\">\n                        Мин. бидов: {league.minBeads.toLocaleString()} \n                        {league.maxRank && ` | Топ-${league.maxRank}`}\n                      </div>\n                    </div>\n                  </div>\n                  <Dialog>\n                    <DialogTrigger asChild>\n                      <Button \n                        size=\"sm\" \n                        variant=\"outline\"\n                        onClick={() => handleEdit(league)}\n                        data-testid={`button-edit-league-${league.slug}`}\n                      >\n                        <Pencil className=\"w-4 h-4 mr-1\" />\n                        Редактировать\n                      </Button>\n                    </DialogTrigger>\n                    <DialogContent>\n                      <DialogHeader>\n                        <DialogTitle>Редактировать лигу</DialogTitle>\n                      </DialogHeader>\n                      <div className=\"space-y-4 py-4\">\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Название (RU)</Label>\n                            <Input\n                              value={editForm.nameRu}\n                              onChange={(e) => setEditForm({ ...editForm, nameRu: e.target.value })}\n                              data-testid=\"input-league-name-ru\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Название (EN)</Label>\n                            <Input\n                              value={editForm.nameEn}\n                              onChange={(e) => setEditForm({ ...editForm, nameEn: e.target.value })}\n                              data-testid=\"input-league-name-en\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Иконка</Label>\n                            <Input\n                              value={editForm.icon}\n                              onChange={(e) => setEditForm({ ...editForm, icon: e.target.value })}\n                              data-testid=\"input-league-icon\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Цвет темы</Label>\n                            <Input\n                              type=\"color\"\n                              value={editForm.themeColor}\n                              onChange={(e) => setEditForm({ ...editForm, themeColor: e.target.value })}\n                              data-testid=\"input-league-color\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div className=\"space-y-2\">\n                            <Label>Мин. бидов</Label>\n                            <Input\n                              type=\"number\"\n                              min=\"0\"\n                              value={editForm.minBeads}\n                              onChange={(e) => setEditForm({ ...editForm, minBeads: parseInt(e.target.value) || 0 })}\n                              data-testid=\"input-league-min-beads\"\n                            />\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Макс. ранг (топ-N)</Label>\n                            <Input\n                              type=\"number\"\n                              min=\"0\"\n                              placeholder=\"Пусто = без ограничений\"\n                              value={editForm.maxRank || ''}\n                              onChange={(e) => setEditForm({ ...editForm, maxRank: e.target.value ? parseInt(e.target.value) : null })}\n                              data-testid=\"input-league-max-rank\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label>Порядок сортировки</Label>\n                          <Input\n                            type=\"number\"\n                            min=\"1\"\n                            value={editForm.sortOrder}\n                            onChange={(e) => setEditForm({ ...editForm, sortOrder: parseInt(e.target.value) || 1 })}\n                            data-testid=\"input-league-sort\"\n                          />\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Switch\n                            checked={editForm.isActive}\n                            onCheckedChange={(checked) => setEditForm({ ...editForm, isActive: checked })}\n                            data-testid=\"toggle-league-active\"\n                          />\n                          <Label>Активна</Label>\n                        </div>\n                        <div className=\"flex justify-end gap-2 pt-4\">\n                          <Button\n                            onClick={handleSave}\n                            disabled={updateLeagueMutation.isPending}\n                            data-testid=\"button-save-league\"\n                          >\n                            {updateLeagueMutation.isPending ? (\n                              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            ) : (\n                              <Save className=\"w-4 h-4 mr-2\" />\n                            )}\n                            Сохранить\n                          </Button>\n                        </div>\n                      </div>\n                    </DialogContent>\n                  </Dialog>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface SeasonData {\n  id: number;\n  seasonNumber: number;\n  month: number;\n  year: number;\n  startDate: string;\n  endDate: string | null;\n  isActive: boolean;\n  createdAt: string;\n}\n\ninterface SeasonResultData {\n  id: number;\n  seasonId: number;\n  userId: string;\n  finalRank: number;\n  finalLeague: string;\n  finalRatingScore: number;\n  totalWins: number;\n  totalGames: number;\n  bestWinStreak: number;\n  beadsEarned: number;\n  createdAt: string;\n}\n\ninterface SeasonsResponse {\n  seasons: SeasonData[];\n  activeSeason: SeasonData | null;\n}\n\nfunction SeasonsTab() {\n  const { toast } = useToast();\n\n  const { data: seasonsData, isLoading } = useQuery<SeasonsResponse>({\n    queryKey: [\"/api/admin/seasons\"],\n  });\n\n  const seasons = seasonsData?.seasons || [];\n  const currentSeason = seasonsData?.activeSeason;\n\n  const endSeasonMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/admin/seasons/end\");\n      return response.json();\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/seasons\"] });\n      toast({ \n        title: \"Сезон завершён\", \n        description: `Сохранено ${data.resultsCount || 0} результатов. Рейтинги сброшены на 70%.` \n      });\n    },\n    onError: (error: Error) => {\n      toast({ \n        title: \"Ошибка\", \n        description: error.message || \"Не удалось завершить сезон\", \n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const startSeasonMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/admin/seasons/start\");\n      return response.json();\n    },\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/seasons\"] });\n      toast({ \n        title: \"Новый сезон начат\", \n        description: `Сезон ${data.season?.seasonNumber || ''} активен!` \n      });\n    },\n    onError: (error: Error) => {\n      toast({ \n        title: \"Ошибка\", \n        description: error.message || \"Не удалось начать новый сезон\", \n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const getMonthName = (month: number) => {\n    const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', \n                    'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\n    return months[month - 1] || '';\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Calendar className=\"w-5 h-5\" />\n            Управление сезонами\n          </CardTitle>\n          <p className=\"text-sm text-muted-foreground\">\n            Завершение и начало сезонов. При завершении сезона все результаты сохраняются, рейтинги сбрасываются на 70%.\n          </p>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {isLoading ? (\n            <div className=\"flex justify-center py-8\">\n              <Loader2 className=\"w-8 h-8 animate-spin\" />\n            </div>\n          ) : (\n            <>\n              {/* Current Season Status */}\n              <div className=\"p-4 bg-muted rounded-lg\">\n                <h3 className=\"font-medium mb-3 flex items-center gap-2\">\n                  <Activity className=\"w-4 h-4\" />\n                  Текущий сезон\n                </h3>\n                {currentSeason ? (\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <Badge variant=\"default\" className=\"bg-green-500\">Активен</Badge>\n                      <span className=\"text-lg font-semibold\">Сезон {currentSeason.seasonNumber}</span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {getMonthName(currentSeason.month)} {currentSeason.year}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Начат: {new Date(currentSeason.startDate).toLocaleDateString('ru-RU')}\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"text-muted-foreground\">\n                    Нет активного сезона. Начните новый сезон.\n                  </div>\n                )}\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex flex-wrap gap-3\">\n                <Dialog>\n                  <DialogTrigger asChild>\n                    <Button \n                      variant=\"destructive\" \n                      disabled={!currentSeason || endSeasonMutation.isPending}\n                      data-testid=\"button-end-season\"\n                    >\n                      {endSeasonMutation.isPending ? (\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                      ) : (\n                        <StopCircle className=\"w-4 h-4 mr-2\" />\n                      )}\n                      Завершить сезон\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent>\n                    <DialogHeader>\n                      <DialogTitle>Завершить текущий сезон?</DialogTitle>\n                      <DialogDescription>\n                        Это действие:\n                        <ul className=\"list-disc list-inside mt-2 space-y-1\">\n                          <li>Сохранит результаты всех игроков в архив</li>\n                          <li>Сбросит рейтинги всех игроков на 70%</li>\n                          <li>Пометит сезон как завершённый</li>\n                        </ul>\n                      </DialogDescription>\n                    </DialogHeader>\n                    <DialogFooter className=\"mt-4\">\n                      <DialogClose asChild>\n                        <Button variant=\"outline\">Отмена</Button>\n                      </DialogClose>\n                      <DialogClose asChild>\n                        <Button \n                          variant=\"destructive\" \n                          onClick={() => endSeasonMutation.mutate()}\n                          data-testid=\"button-confirm-end-season\"\n                        >\n                          Да, завершить сезон\n                        </Button>\n                      </DialogClose>\n                    </DialogFooter>\n                  </DialogContent>\n                </Dialog>\n\n                <Dialog>\n                  <DialogTrigger asChild>\n                    <Button \n                      variant=\"default\"\n                      disabled={currentSeason?.isActive || startSeasonMutation.isPending}\n                      data-testid=\"button-start-season\"\n                    >\n                      {startSeasonMutation.isPending ? (\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                      ) : (\n                        <Play className=\"w-4 h-4 mr-2\" />\n                      )}\n                      Начать новый сезон\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent>\n                    <DialogHeader>\n                      <DialogTitle>Начать новый сезон?</DialogTitle>\n                      <DialogDescription>\n                        Будет создан новый сезон для текущего месяца.\n                      </DialogDescription>\n                    </DialogHeader>\n                    <DialogFooter className=\"mt-4\">\n                      <DialogClose asChild>\n                        <Button variant=\"outline\">Отмена</Button>\n                      </DialogClose>\n                      <DialogClose asChild>\n                        <Button \n                          onClick={() => startSeasonMutation.mutate()}\n                          data-testid=\"button-confirm-start-season\"\n                        >\n                          Да, начать сезон\n                        </Button>\n                      </DialogClose>\n                    </DialogFooter>\n                  </DialogContent>\n                </Dialog>\n              </div>\n\n              {/* Season History */}\n              <div>\n                <h3 className=\"font-medium mb-3\">История сезонов</h3>\n                {seasons && seasons.length > 0 ? (\n                  <div className=\"space-y-2\">\n                    {seasons.map((season) => (\n                      <div \n                        key={season.id}\n                        className=\"flex items-center justify-between p-3 border rounded-lg\"\n                        data-testid={`card-season-${season.id}`}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"text-lg font-medium\" data-testid={`text-season-number-${season.id}`}>\n                            Сезон {season.seasonNumber}\n                          </div>\n                          <Badge \n                            variant={season.isActive ? \"default\" : \"secondary\"}\n                            data-testid={`badge-season-status-${season.id}`}\n                          >\n                            {season.isActive ? \"Активен\" : \"Завершён\"}\n                          </Badge>\n                        </div>\n                        <div className=\"text-sm text-muted-foreground\" data-testid={`text-season-date-${season.id}`}>\n                          {getMonthName(season.month)} {season.year}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-muted-foreground text-sm\">Нет сезонов</p>\n                )}\n              </div>\n            </>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface UsersWithoutCharactersResponse {\n  users: Array<{ id: string; telegramId: string; firstName: string | null; username: string }>;\n  count: number;\n}\n\ninterface NotifyResponse {\n  success: boolean;\n  sentCount?: number;\n  failedCount?: number;\n  totalUsers?: number;\n  message?: string;\n}\n\nfunction NotificationsTab() {\n  const { toast } = useToast();\n  \n  const { data: usersWithoutChars, isLoading, refetch } = useQuery<UsersWithoutCharactersResponse>({\n    queryKey: ['/api/admin/users-without-characters'],\n  });\n\n  const notifyMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest('POST', '/api/admin/notify-character-creation');\n      return response.json() as Promise<NotifyResponse>;\n    },\n    onSuccess: (data) => {\n      if (data.success) {\n        toast({\n          title: 'Уведомления отправлены',\n          description: `Отправлено: ${data.sentCount}, Ошибок: ${data.failedCount}`,\n        });\n        refetch();\n      }\n    },\n    onError: () => {\n      toast({\n        title: 'Ошибка',\n        description: 'Не удалось отправить уведомления',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bot className=\"w-5 h-5\" />\n            Уведомления через Telegram\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"p-4 bg-muted rounded-lg\">\n            <h3 className=\"font-medium mb-2\">Пользователи без персонажа</h3>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Отправьте уведомление всем зарегистрированным пользователям, которые ещё не создали персонажа.\n              Они получат сообщение с призывом создать персонажа и ссылкой на игру.\n            </p>\n            \n            {isLoading ? (\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                Загрузка...\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-4\">\n                  <Badge variant=\"secondary\" className=\"text-lg px-3 py-1\">\n                    {usersWithoutChars?.count || 0} пользователей\n                  </Badge>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => refetch()}\n                    data-testid=\"button-refresh-users\"\n                  >\n                    <RefreshCw className=\"w-4 h-4 mr-1\" />\n                    Обновить\n                  </Button>\n                </div>\n                \n                {(usersWithoutChars?.count || 0) > 0 && (\n                  <>\n                    <ScrollArea className=\"h-40 border rounded-md p-2\">\n                      <div className=\"space-y-1\">\n                        {usersWithoutChars?.users.map((u) => (\n                          <div key={u.id} className=\"flex items-center gap-2 text-sm py-1\">\n                            <span className=\"text-muted-foreground\">{u.telegramId}</span>\n                            <span>—</span>\n                            <span>{u.firstName || u.username}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </ScrollArea>\n                    \n                    <Button\n                      onClick={() => notifyMutation.mutate()}\n                      disabled={notifyMutation.isPending}\n                      data-testid=\"button-send-notifications\"\n                    >\n                      {notifyMutation.isPending ? (\n                        <>\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                          Отправка...\n                        </>\n                      ) : (\n                        <>\n                          <Bot className=\"w-4 h-4 mr-2\" />\n                          Отправить уведомления ({usersWithoutChars?.count})\n                        </>\n                      )}\n                    </Button>\n                  </>\n                )}\n                \n                {(usersWithoutChars?.count || 0) === 0 && (\n                  <div className=\"flex items-center gap-2 text-green-600\">\n                    <CheckCircle className=\"w-5 h-5\" />\n                    Все пользователи уже создали персонажей\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ninterface WithdrawalWithUser {\n  id: string;\n  userId: string;\n  cryptoType: string;\n  network: string | null;\n  amount: string;\n  walletAddress: string;\n  networkFee: string;\n  status: string;\n  adminNote: string | null;\n  txHash: string | null;\n  processedAt: string | null;\n  processedBy: string | null;\n  createdAt: string;\n  username?: string;\n}\n\nconst STATUS_COLORS: Record<string, string> = {\n  pending: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\n  approved: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\n  completed: 'bg-green-500/20 text-green-400 border-green-500/30',\n  rejected: 'bg-red-500/20 text-red-400 border-red-500/30',\n};\n\nconst STATUS_LABELS: Record<string, string> = {\n  pending: 'Ожидает',\n  approved: 'Одобрено',\n  completed: 'Выполнено',\n  rejected: 'Отклонено',\n};\n\ninterface CryptoConfig {\n  minAmount: number;\n  networkFee: number;\n  enabled: boolean;\n}\n\ninterface UsdtNetworkConfig {\n  bep20: CryptoConfig;\n  trc20: CryptoConfig;\n  erc20: CryptoConfig;\n  ton: CryptoConfig;\n}\n\ninterface WithdrawalConfig {\n  btc: CryptoConfig;\n  eth: CryptoConfig;\n  usdt: UsdtNetworkConfig;\n}\n\nfunction WithdrawalsTab() {\n  const { toast } = useToast();\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [selectedWithdrawal, setSelectedWithdrawal] = useState<WithdrawalWithUser | null>(null);\n  const [txHash, setTxHash] = useState('');\n  const [adminNote, setAdminNote] = useState('');\n  const [showSettings, setShowSettings] = useState(false);\n\n  const { data: config, isLoading: configLoading } = useQuery<WithdrawalConfig>({\n    queryKey: ['/api/withdrawal/config'],\n  });\n\n  const [editConfig, setEditConfig] = useState<WithdrawalConfig | null>(null);\n\n  useEffect(() => {\n    if (config) {\n      setEditConfig(config);\n    }\n  }, [config]);\n\n  const updateConfigMutation = useMutation({\n    mutationFn: async (newConfig: Partial<WithdrawalConfig>) => {\n      return apiRequest('PATCH', '/api/admin/withdrawal/config', newConfig);\n    },\n    onSuccess: () => {\n      toast({ title: 'Успешно', description: 'Настройки вывода обновлены' });\n      queryClient.invalidateQueries({ queryKey: ['/api/withdrawal/config'] });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось обновить настройки', variant: 'destructive' });\n    },\n  });\n\n  const { data: withdrawals = [], isLoading, refetch } = useQuery<WithdrawalWithUser[]>({\n    queryKey: ['/api/admin/withdrawals', statusFilter === 'all' ? '' : statusFilter],\n    queryFn: async () => {\n      const url = statusFilter === 'all' \n        ? '/api/admin/withdrawals' \n        : `/api/admin/withdrawals?status=${statusFilter}`;\n      const response = await fetch(url, { credentials: 'include' });\n      return response.json();\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, status, txHash, adminNote }: { id: string; status?: string; txHash?: string; adminNote?: string }) => {\n      return apiRequest('PATCH', `/api/admin/withdrawals/${id}`, { status, txHash, adminNote });\n    },\n    onSuccess: () => {\n      toast({ title: 'Успешно', description: 'Заявка обновлена' });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/withdrawals'] });\n      setSelectedWithdrawal(null);\n      setTxHash('');\n      setAdminNote('');\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось обновить заявку', variant: 'destructive' });\n    },\n  });\n\n  const handleApprove = (w: WithdrawalWithUser) => {\n    setSelectedWithdrawal(w);\n  };\n\n  const handleComplete = () => {\n    if (!selectedWithdrawal) return;\n    updateMutation.mutate({ \n      id: selectedWithdrawal.id, \n      status: 'completed', \n      txHash: txHash || undefined,\n      adminNote: adminNote || undefined,\n    });\n  };\n\n  const handleReject = (w: WithdrawalWithUser) => {\n    if (confirm('Отклонить заявку? Средства будут возвращены пользователю.')) {\n      updateMutation.mutate({ id: w.id, status: 'rejected', adminNote: 'Отклонено администратором' });\n    }\n  };\n\n  const pendingCount = withdrawals.filter(w => w.status === 'pending').length;\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <ArrowDownToLine className=\"w-5 h-5\" />\n            Заявки на вывод\n            {pendingCount > 0 && (\n              <Badge className=\"bg-yellow-500/20 text-yellow-400 ml-2\">{pendingCount} ожидает</Badge>\n            )}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-4 mb-4\">\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-40\" data-testid=\"select-status-filter\">\n                <SelectValue placeholder=\"Все статусы\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">Все статусы</SelectItem>\n                <SelectItem value=\"pending\">Ожидает</SelectItem>\n                <SelectItem value=\"completed\">Выполнено</SelectItem>\n                <SelectItem value=\"rejected\">Отклонено</SelectItem>\n              </SelectContent>\n            </Select>\n            <Button variant=\"outline\" size=\"sm\" onClick={() => refetch()} data-testid=\"button-refresh-withdrawals\">\n              <RefreshCw className=\"w-4 h-4 mr-1\" />\n              Обновить\n            </Button>\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"w-6 h-6 animate-spin\" />\n            </div>\n          ) : withdrawals.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Нет заявок на вывод\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {withdrawals.map((w) => (\n                <Card key={w.id} className=\"bg-muted/30\" data-testid={`card-withdrawal-admin-${w.id}`}>\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex flex-col md:flex-row md:items-center gap-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"font-semibold text-lg\">\n                            {parseFloat(w.amount).toFixed(w.cryptoType === 'usdt' ? 2 : 8)} {w.cryptoType.toUpperCase()}\n                          </span>\n                          <Badge className={STATUS_COLORS[w.status]}>\n                            {STATUS_LABELS[w.status]}\n                          </Badge>\n                          {w.network && w.network !== w.cryptoType && (\n                            <Badge variant=\"outline\">{w.network.toUpperCase()}</Badge>\n                          )}\n                        </div>\n                        <div className=\"text-sm text-muted-foreground space-y-1\">\n                          <div>Пользователь: <span className=\"font-medium text-foreground\">{w.username || w.userId}</span></div>\n                          <div className=\"flex items-center gap-1\">\n                            Кошелёк: \n                            <code className=\"text-xs bg-muted px-1 rounded max-w-[200px] truncate\" title={w.walletAddress}>\n                              {w.walletAddress}\n                            </code>\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={() => navigator.clipboard.writeText(w.walletAddress)}>\n                              <ExternalLink className=\"w-3 h-3\" />\n                            </Button>\n                          </div>\n                          <div>Комиссия сети: {parseFloat(w.networkFee).toFixed(w.cryptoType === 'usdt' ? 2 : 8)} {w.cryptoType.toUpperCase()}</div>\n                          <div>Дата: {new Date(w.createdAt).toLocaleString('ru-RU')}</div>\n                          {w.txHash && <div>TX: <code className=\"text-xs\">{w.txHash}</code></div>}\n                          {w.adminNote && <div className=\"text-yellow-500\">Заметка: {w.adminNote}</div>}\n                        </div>\n                      </div>\n                      \n                      {w.status === 'pending' && (\n                        <div className=\"flex gap-2\">\n                          <Button size=\"sm\" onClick={() => handleApprove(w)} data-testid={`button-approve-${w.id}`}>\n                            <CheckCircle className=\"w-4 h-4 mr-1\" />\n                            Выполнить\n                          </Button>\n                          <Button size=\"sm\" variant=\"destructive\" onClick={() => handleReject(w)} data-testid={`button-reject-${w.id}`}>\n                            <XCircle className=\"w-4 h-4 mr-1\" />\n                            Отклонить\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings className=\"w-5 h-5\" />\n              Настройки вывода\n            </CardTitle>\n            <Button variant=\"outline\" size=\"sm\" onClick={() => setShowSettings(!showSettings)} data-testid=\"button-toggle-settings\">\n              {showSettings ? 'Скрыть' : 'Показать'}\n            </Button>\n          </div>\n        </CardHeader>\n        {showSettings && editConfig && (\n          <CardContent className=\"space-y-6\">\n            <div className=\"space-y-4\">\n              <h4 className=\"font-semibold flex items-center gap-2\">\n                <Bitcoin className=\"w-5 h-5 text-amber-500\" />\n                Bitcoin (BTC)\n              </h4>\n              <div className=\"flex items-center gap-4 mb-2\">\n                <Switch\n                  checked={editConfig.btc.enabled}\n                  onCheckedChange={(checked) => setEditConfig({ \n                    ...editConfig, \n                    btc: { ...editConfig.btc, enabled: checked } \n                  })}\n                  data-testid=\"switch-btc-enabled\"\n                />\n                <span className=\"text-sm\">{editConfig.btc.enabled ? 'Включено' : 'Выключено'}</span>\n              </div>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"space-y-2\">\n                  <Label>Минимум</Label>\n                  <Input\n                    type=\"number\"\n                    step=\"0.0001\"\n                    min=\"0\"\n                    value={editConfig.btc.minAmount}\n                    onChange={(e) => setEditConfig({ \n                      ...editConfig, \n                      btc: { ...editConfig.btc, minAmount: parseFloat(e.target.value) || 0 } \n                    })}\n                    data-testid=\"input-min-btc\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Комиссия сети</Label>\n                  <Input\n                    type=\"number\"\n                    step=\"0.00001\"\n                    min=\"0\"\n                    value={editConfig.btc.networkFee}\n                    onChange={(e) => setEditConfig({ \n                      ...editConfig, \n                      btc: { ...editConfig.btc, networkFee: parseFloat(e.target.value) || 0 } \n                    })}\n                    data-testid=\"input-fee-btc\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <Separator />\n\n            <div className=\"space-y-4\">\n              <h4 className=\"font-semibold flex items-center gap-2\">\n                <SiEthereum className=\"w-5 h-5 text-blue-500\" />\n                Ethereum (ETH)\n              </h4>\n              <div className=\"flex items-center gap-4 mb-2\">\n                <Switch\n                  checked={editConfig.eth.enabled}\n                  onCheckedChange={(checked) => setEditConfig({ \n                    ...editConfig, \n                    eth: { ...editConfig.eth, enabled: checked } \n                  })}\n                  data-testid=\"switch-eth-enabled\"\n                />\n                <span className=\"text-sm\">{editConfig.eth.enabled ? 'Включено' : 'Выключено'}</span>\n              </div>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"space-y-2\">\n                  <Label>Минимум</Label>\n                  <Input\n                    type=\"number\"\n                    step=\"0.001\"\n                    min=\"0\"\n                    value={editConfig.eth.minAmount}\n                    onChange={(e) => setEditConfig({ \n                      ...editConfig, \n                      eth: { ...editConfig.eth, minAmount: parseFloat(e.target.value) || 0 } \n                    })}\n                    data-testid=\"input-min-eth\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label>Комиссия сети</Label>\n                  <Input\n                    type=\"number\"\n                    step=\"0.0001\"\n                    min=\"0\"\n                    value={editConfig.eth.networkFee}\n                    onChange={(e) => setEditConfig({ \n                      ...editConfig, \n                      eth: { ...editConfig.eth, networkFee: parseFloat(e.target.value) || 0 } \n                    })}\n                    data-testid=\"input-fee-eth\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <Separator />\n\n            <div className=\"space-y-4\">\n              <h4 className=\"font-semibold flex items-center gap-2\">\n                <SiTether className=\"w-5 h-5 text-green-500\" />\n                Tether (USDT) - по сетям\n              </h4>\n              \n              <div className=\"space-y-4 pl-4 border-l-2 border-muted\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"font-medium\">BEP-20 (BSC)</Label>\n                    <Switch\n                      checked={editConfig.usdt.bep20.enabled}\n                      onCheckedChange={(checked) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, bep20: { ...editConfig.usdt.bep20, enabled: checked } }\n                      })}\n                      data-testid=\"switch-usdt-bep20\"\n                    />\n                  </div>\n                  <div className=\"grid gap-2 md:grid-cols-2\">\n                    <Input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      placeholder=\"Минимум\"\n                      value={editConfig.usdt.bep20.minAmount}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, bep20: { ...editConfig.usdt.bep20, minAmount: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-min-usdt-bep20\"\n                    />\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      placeholder=\"Комиссия\"\n                      value={editConfig.usdt.bep20.networkFee}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, bep20: { ...editConfig.usdt.bep20, networkFee: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-fee-usdt-bep20\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"font-medium\">TRC-20 (TRON)</Label>\n                    <Switch\n                      checked={editConfig.usdt.trc20.enabled}\n                      onCheckedChange={(checked) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, trc20: { ...editConfig.usdt.trc20, enabled: checked } }\n                      })}\n                      data-testid=\"switch-usdt-trc20\"\n                    />\n                  </div>\n                  <div className=\"grid gap-2 md:grid-cols-2\">\n                    <Input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      placeholder=\"Минимум\"\n                      value={editConfig.usdt.trc20.minAmount}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, trc20: { ...editConfig.usdt.trc20, minAmount: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-min-usdt-trc20\"\n                    />\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      placeholder=\"Комиссия\"\n                      value={editConfig.usdt.trc20.networkFee}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, trc20: { ...editConfig.usdt.trc20, networkFee: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-fee-usdt-trc20\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"font-medium\">ERC-20 (Ethereum)</Label>\n                    <Switch\n                      checked={editConfig.usdt.erc20.enabled}\n                      onCheckedChange={(checked) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, erc20: { ...editConfig.usdt.erc20, enabled: checked } }\n                      })}\n                      data-testid=\"switch-usdt-erc20\"\n                    />\n                  </div>\n                  <div className=\"grid gap-2 md:grid-cols-2\">\n                    <Input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      placeholder=\"Минимум\"\n                      value={editConfig.usdt.erc20.minAmount}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, erc20: { ...editConfig.usdt.erc20, minAmount: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-min-usdt-erc20\"\n                    />\n                    <Input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      placeholder=\"Комиссия\"\n                      value={editConfig.usdt.erc20.networkFee}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, erc20: { ...editConfig.usdt.erc20, networkFee: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-fee-usdt-erc20\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"font-medium\">TON</Label>\n                    <Switch\n                      checked={editConfig.usdt.ton.enabled}\n                      onCheckedChange={(checked) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, ton: { ...editConfig.usdt.ton, enabled: checked } }\n                      })}\n                      data-testid=\"switch-usdt-ton\"\n                    />\n                  </div>\n                  <div className=\"grid gap-2 md:grid-cols-2\">\n                    <Input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      placeholder=\"Минимум\"\n                      value={editConfig.usdt.ton.minAmount}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, ton: { ...editConfig.usdt.ton, minAmount: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-min-usdt-ton\"\n                    />\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      placeholder=\"Комиссия\"\n                      value={editConfig.usdt.ton.networkFee}\n                      onChange={(e) => setEditConfig({ \n                        ...editConfig, \n                        usdt: { ...editConfig.usdt, ton: { ...editConfig.usdt.ton, networkFee: parseFloat(e.target.value) || 0 } }\n                      })}\n                      data-testid=\"input-fee-usdt-ton\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <Button \n              onClick={() => updateConfigMutation.mutate(editConfig)} \n              disabled={updateConfigMutation.isPending}\n              className=\"w-full\"\n              data-testid=\"button-save-config\"\n            >\n              {updateConfigMutation.isPending ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Сохранение...\n                </>\n              ) : (\n                <>\n                  <CheckCircle className=\"w-4 h-4 mr-2\" />\n                  Сохранить настройки\n                </>\n              )}\n            </Button>\n          </CardContent>\n        )}\n      </Card>\n\n      <Dialog open={!!selectedWithdrawal} onOpenChange={(open) => !open && setSelectedWithdrawal(null)}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Подтверждение вывода</DialogTitle>\n            <DialogDescription>\n              Введите хэш транзакции после отправки средств\n            </DialogDescription>\n          </DialogHeader>\n          {selectedWithdrawal && (\n            <div className=\"space-y-4\">\n              <div className=\"p-3 rounded-lg bg-muted\">\n                <div className=\"font-semibold mb-2\">\n                  {parseFloat(selectedWithdrawal.amount).toFixed(selectedWithdrawal.cryptoType === 'usdt' ? 2 : 8)} {selectedWithdrawal.cryptoType.toUpperCase()}\n                  {selectedWithdrawal.network && selectedWithdrawal.network !== selectedWithdrawal.cryptoType && (\n                    <span className=\"text-muted-foreground ml-2\">({selectedWithdrawal.network.toUpperCase()})</span>\n                  )}\n                </div>\n                <div className=\"text-sm space-y-1\">\n                  <div>Пользователь: {selectedWithdrawal.username}</div>\n                  <div className=\"break-all\">Кошелёк: {selectedWithdrawal.walletAddress}</div>\n                </div>\n              </div>\n              \n              <div>\n                <Label htmlFor=\"txHash\">Хэш транзакции (TX Hash)</Label>\n                <Input\n                  id=\"txHash\"\n                  value={txHash}\n                  onChange={(e) => setTxHash(e.target.value)}\n                  placeholder=\"0x...\"\n                  className=\"mt-1\"\n                  data-testid=\"input-tx-hash\"\n                />\n              </div>\n              \n              <div>\n                <Label htmlFor=\"adminNote\">Заметка (опционально)</Label>\n                <Input\n                  id=\"adminNote\"\n                  value={adminNote}\n                  onChange={(e) => setAdminNote(e.target.value)}\n                  placeholder=\"Комментарий администратора\"\n                  className=\"mt-1\"\n                  data-testid=\"input-admin-note\"\n                />\n              </div>\n            </div>\n          )}\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setSelectedWithdrawal(null)}>\n              Отмена\n            </Button>\n            <Button onClick={handleComplete} disabled={updateMutation.isPending} data-testid=\"button-confirm-complete\">\n              {updateMutation.isPending ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Сохранение...\n                </>\n              ) : (\n                <>\n                  <CheckCircle className=\"w-4 h-4 mr-2\" />\n                  Отметить выполненным\n                </>\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\n// Crypto payment request from user for admin confirmation\ninterface CryptoPaymentRequest {\n  id: string;\n  userId: string;\n  packageId: string;\n  network: string;\n  priceUsd: string;\n  status: string;\n  adminNote: string | null;\n  confirmedBy: string | null;\n  createdAt: string;\n  user: {\n    id: string;\n    username: string;\n    firstName: string | null;\n    lastName: string | null;\n  };\n  package: {\n    id: string;\n    name: string;\n    nameRu: string;\n    boostsPerType: number;\n  };\n}\n\nconst NETWORK_LABELS: Record<string, string> = {\n  usdt_trc20: 'USDT TRC-20 (Tron)',\n  usdt_bep20: 'USDT BEP-20 (BSC)',\n  usdt_erc20: 'USDT ERC-20 (Ethereum)',\n  usdt_ton: 'USDT TON',\n};\n\nconst PAYMENT_STATUS_COLORS: Record<string, string> = {\n  pending: 'bg-yellow-500/20 text-yellow-400',\n  confirmed: 'bg-green-500/20 text-green-400',\n  rejected: 'bg-red-500/20 text-red-400',\n};\n\nconst PAYMENT_STATUS_LABELS: Record<string, string> = {\n  pending: 'Ожидает',\n  confirmed: 'Подтверждено',\n  rejected: 'Отклонено',\n};\n\nfunction CryptoPaymentsTab() {\n  const { toast } = useToast();\n  const [showWalletSettings, setShowWalletSettings] = useState(false);\n  const [walletAddresses, setWalletAddresses] = useState({\n    usdt_trc20: '',\n    usdt_bep20: '',\n    usdt_erc20: '',\n    usdt_ton: '',\n  });\n\n  // Fetch pending payments\n  const { data: pendingPayments = [], isLoading, refetch } = useQuery<CryptoPaymentRequest[]>({\n    queryKey: ['/api/admin/pending-crypto-payments'],\n  });\n\n  // Fetch wallet addresses\n  const { data: wallets } = useQuery<{\n    usdt_trc20: string;\n    usdt_bep20: string;\n    usdt_erc20: string;\n    usdt_ton: string;\n  }>({\n    queryKey: ['/api/crypto-wallets'],\n  });\n\n  useEffect(() => {\n    if (wallets) {\n      setWalletAddresses(wallets);\n    }\n  }, [wallets]);\n\n  // Confirm payment mutation\n  const confirmMutation = useMutation({\n    mutationFn: async ({ id, note }: { id: string; note?: string }) => {\n      return apiRequest('POST', `/api/admin/crypto-payments/${id}/confirm`, { note });\n    },\n    onSuccess: () => {\n      toast({ title: 'Успешно', description: 'Платёж подтверждён, бусты добавлены пользователю' });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/pending-crypto-payments'] });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось подтвердить платёж', variant: 'destructive' });\n    },\n  });\n\n  // Reject payment mutation\n  const rejectMutation = useMutation({\n    mutationFn: async ({ id, note }: { id: string; note?: string }) => {\n      return apiRequest('POST', `/api/admin/crypto-payments/${id}/reject`, { note });\n    },\n    onSuccess: () => {\n      toast({ title: 'Успешно', description: 'Платёж отклонён' });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/pending-crypto-payments'] });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось отклонить платёж', variant: 'destructive' });\n    },\n  });\n\n  // Save wallet addresses mutation\n  const saveWalletsMutation = useMutation({\n    mutationFn: async (addresses: typeof walletAddresses) => {\n      return apiRequest('POST', '/api/admin/crypto-wallets', addresses);\n    },\n    onSuccess: () => {\n      toast({ title: 'Успешно', description: 'Адреса кошельков сохранены' });\n      queryClient.invalidateQueries({ queryKey: ['/api/crypto-wallets'] });\n    },\n    onError: () => {\n      toast({ title: 'Ошибка', description: 'Не удалось сохранить адреса', variant: 'destructive' });\n    },\n  });\n\n  const handleConfirm = (payment: CryptoPaymentRequest) => {\n    if (confirm(`Подтвердить платёж от ${payment.user.username || payment.user.firstName}?`)) {\n      confirmMutation.mutate({ id: payment.id });\n    }\n  };\n\n  const handleReject = (payment: CryptoPaymentRequest) => {\n    const note = prompt('Причина отклонения (опционально):');\n    rejectMutation.mutate({ id: payment.id, note: note || undefined });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Wallet className=\"w-5 h-5\" />\n            Ожидающие подтверждения\n            {pendingPayments.length > 0 && (\n              <Badge className=\"bg-yellow-500/20 text-yellow-400 ml-2\">{pendingPayments.length}</Badge>\n            )}\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-4 mb-4\">\n            <Button variant=\"outline\" size=\"sm\" onClick={() => refetch()} data-testid=\"button-refresh-payments\">\n              <RefreshCw className=\"w-4 h-4 mr-1\" />\n              Обновить\n            </Button>\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"w-6 h-6 animate-spin\" />\n            </div>\n          ) : pendingPayments.length === 0 ? (\n            <div className=\"text-center py-8 text-muted-foreground\">\n              Нет ожидающих платежей\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {pendingPayments.map((payment) => (\n                <Card key={payment.id} className=\"bg-muted/30\" data-testid={`card-payment-${payment.id}`}>\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex flex-col md:flex-row md:items-center gap-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"font-semibold text-lg\">\n                            ${parseFloat(payment.priceUsd).toFixed(2)} USD\n                          </span>\n                          <Badge className={PAYMENT_STATUS_COLORS[payment.status]}>\n                            {PAYMENT_STATUS_LABELS[payment.status]}\n                          </Badge>\n                          <Badge variant=\"outline\">{NETWORK_LABELS[payment.network] || payment.network}</Badge>\n                        </div>\n                        <div className=\"text-sm text-muted-foreground space-y-1\">\n                          <div>Пользователь: <span className=\"font-medium text-foreground\">{payment.user.username || payment.user.firstName || payment.userId}</span></div>\n                          <div>Пакет: <span className=\"font-medium text-foreground\">{payment.package.nameRu}</span> ({payment.package.boostsPerType}x каждого буста)</div>\n                          <div>Дата: {new Date(payment.createdAt).toLocaleString('ru-RU')}</div>\n                        </div>\n                      </div>\n                      \n                      {payment.status === 'pending' && (\n                        <div className=\"flex gap-2\">\n                          <Button \n                            size=\"sm\" \n                            onClick={() => handleConfirm(payment)} \n                            disabled={confirmMutation.isPending}\n                            data-testid={`button-confirm-payment-${payment.id}`}\n                          >\n                            <CheckCircle className=\"w-4 h-4 mr-1\" />\n                            Подтвердить\n                          </Button>\n                          <Button \n                            size=\"sm\" \n                            variant=\"destructive\" \n                            onClick={() => handleReject(payment)}\n                            disabled={rejectMutation.isPending}\n                            data-testid={`button-reject-payment-${payment.id}`}\n                          >\n                            <XCircle className=\"w-4 h-4 mr-1\" />\n                            Отклонить\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings className=\"w-5 h-5\" />\n              Адреса кошельков для приёма платежей\n            </CardTitle>\n            <Button variant=\"outline\" size=\"sm\" onClick={() => setShowWalletSettings(!showWalletSettings)} data-testid=\"button-toggle-wallet-settings\">\n              {showWalletSettings ? 'Скрыть' : 'Показать'}\n            </Button>\n          </div>\n        </CardHeader>\n        {showWalletSettings && (\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label>USDT TRC-20 (Tron)</Label>\n                <Input\n                  value={walletAddresses.usdt_trc20}\n                  onChange={(e) => setWalletAddresses({ ...walletAddresses, usdt_trc20: e.target.value })}\n                  placeholder=\"T...\"\n                  data-testid=\"input-wallet-trc20\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT BEP-20 (BSC)</Label>\n                <Input\n                  value={walletAddresses.usdt_bep20}\n                  onChange={(e) => setWalletAddresses({ ...walletAddresses, usdt_bep20: e.target.value })}\n                  placeholder=\"0x...\"\n                  data-testid=\"input-wallet-bep20\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT ERC-20 (Ethereum)</Label>\n                <Input\n                  value={walletAddresses.usdt_erc20}\n                  onChange={(e) => setWalletAddresses({ ...walletAddresses, usdt_erc20: e.target.value })}\n                  placeholder=\"0x...\"\n                  data-testid=\"input-wallet-erc20\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>USDT TON</Label>\n                <Input\n                  value={walletAddresses.usdt_ton}\n                  onChange={(e) => setWalletAddresses({ ...walletAddresses, usdt_ton: e.target.value })}\n                  placeholder=\"UQ...\"\n                  data-testid=\"input-wallet-ton\"\n                />\n              </div>\n            </div>\n            <Button \n              onClick={() => saveWalletsMutation.mutate(walletAddresses)}\n              disabled={saveWalletsMutation.isPending}\n              data-testid=\"button-save-wallets\"\n            >\n              {saveWalletsMutation.isPending ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Сохранение...\n                </>\n              ) : (\n                <>\n                  <Save className=\"w-4 h-4 mr-2\" />\n                  Сохранить адреса\n                </>\n              )}\n            </Button>\n          </CardContent>\n        )}\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}