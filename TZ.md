# Техническое задание (ТЗ) - Beads Line

## Описание проекта
Zuma-style аркадная игра как Telegram Mini App с темной неоновой темой, криптошариками и системой рефералов.

---

## Реализованный функционал

### Игровая механика
- [x] Спиральный путь с шариками
- [x] Стрельба и совпадение 3+ шариков
- [x] Криптошарики (BTC, ETH, USDT) с бонусными очками
- [x] Система жизней (3 начальных)
- [x] Покупка дополнительных жизней за Beads
- [x] Комбо-система при цепных реакциях
- [x] Умный стрелок (при ≤15 шариках)

### Экономика
- [x] Beads - внутриигровая валюта
- [x] Награды только при победе
- [x] House Account для распределения Beads
- [x] Транзакции с полным аудитом

### Крипто-награды
- [x] BTC (satoshis), ETH (gwei), USDT
- [x] Дневные лимиты на пользователя
- [x] Лимиты на игру
- [x] Пулы проекта

### Реферальная система
- [x] 2-уровневая система
- [x] Уникальные реферальные коды
- [x] QR-коды для приглашений
- [x] Награды при победе рефералов

### Админ-панель
- [x] Управление пользователями
- [x] Транзакции Beads
- [x] Криптошарики (награды)
- [x] Настройки экономики
- [x] Управление ботом
- [x] Режим обслуживания

---

## Запланированный функционал

### Ближайшие задачи
- [ ] ...

### Будущие улучшения
- [ ] Power-ups (замедление, бомба, реверс)
- [ ] Несколько уровней сложности
- [ ] Звуковые эффекты и музыка
- [ ] Система достижений
- [ ] Ежедневные/еженедельные рейтинги

---

## Известные проблемы

### Критические
- [x] ~~Крипто-награды не начисляются~~ - ИСПРАВЛЕНО 12.12.2025
  - Причина: `processCryptoRewards` обновляла балансы, но не записывала в `real_rewards`
  - Решение: Добавлен INSERT в `real_rewards` для BTC, ETH, USDT

### Минорные
- [ ] ...

---

## Заметки для разработки

(Добавляйте сюда заметки по мере работы)

