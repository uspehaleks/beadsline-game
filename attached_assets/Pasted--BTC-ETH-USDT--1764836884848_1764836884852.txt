Контекст:
– В игре уже есть поинты и крипто‑шарики (BTC, ETH, USDT).
– Я хочу начать с рекламного фонда 50 USDT и иногда выдавать игрокам небольшие реальные призы в USDT. Это именно призы, а не гарантированный заработок.

Фонд USDT и лимиты
Сделай сущность в базе (например, AdminFunds или Settings) с полями:
– usdt_total_fund — общий рекламный фонд (например, 50 USDT).
– usdt_available — сколько USDT ещё можно выдать (остаток фонда).
– usdt_daily_limit — максимум USDT, который можно выдать за один день (например, 1.0 USDT).
– usdt_per_drop — сколько USDT стоит один “реальный” USDT‑шар (например, 0.02 USDT).
– usdt_max_per_user_per_day — максимум USDT, который может получить один игрок за день (например, 0.1 USDT).

В админке добавь раздел “USDT‑фонд”, где админ может:
– задавать usdt_total_fund и usdt_available (стартово 50 USDT);
– задавать usdt_daily_limit, usdt_per_drop, usdt_max_per_user_per_day;
– смотреть простую статистику: сколько всего USDT выдано и сколько выдано за текущий день.

Логика дропа реальных USDT‑шаров
Реальные USDT‑шары должны появляться в игре ТОЛЬКО если:
– usdt_available > 0,
– дневной лимит usdt_daily_limit ещё не выбран.

После окончания каждой игровой сессии, когда бэкенд получает результат (userId, score, количество собранных USDT‑шаров и т.д.), сделай так:
– посчитай, сколько реальных USDT можно выдать за эту сессию, учитывая:

usdt_per_drop,

оставшийся дневной лимит,

оставшийся usdt_available,

личный лимит игрока usdt_max_per_user_per_day.
– создай запись RealRewards (или аналог) с суммой USDT для этого пользователя (если сумма > 0).
– уменьши usdt_available и учёт дневной суммы на выданный объём.

Важно:
– Если фонд пуст (usdt_available <= 0) или дневной лимит исчерпан, игра всё равно работает, но выдаёт только виртуальные поинты, без реальных USDT‑наград.
– Никогда не выдавай больше, чем usdt_daily_limit за день суммарно, и больше, чем usdt_max_per_user_per_day одному пользователю.

Управление пользователями в админке
В админке добавь простой раздел “Пользователи”, где админ может:
– видеть список пользователей: id, username, totalPoints, суммарные USDT‑награды.
– открывать карточку пользователя и смотреть историю сессий и RealRewards.
– при необходимости корректировать его виртуальные поинты.
– помечать пользователя как “удалён/заблокирован” (soft delete: не удалять строки из БД, а просто исключать его из таблиц лидеров и из участия в новых наградах).

Замечания по реализации
– Вся логика фонда и наград должна быть только на сервере (backend), не доверяй значениям с клиента.
– Добавь понятные комментарии в коде там, где:

читаются и обновляются данные фонда USDT и лимитов;

считается и записывается награда RealRewards;

проверяются дневные и персональные лимиты.

В конце опиши в README или в комментариях:
– как админ может настроить стартовый фонд USDT и лимиты;
– как сейчас работает сброс дневных лимитов (можно сделать простую проверку по дате и сброс при первом запросе нового дня).»]

replit.com favicon
beadsline - 